var e={exports:{}},t={},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var o,l,s=a(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(s[c]=o[c]);if(n){l=n(o);for(var h=0;h<l.length;h++)i.call(o,l[h])&&(s[l[h]]=o[l[h]])}}return s},l=o,s=60103,u=60106;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var c=60109,h=60110,f=60112;t.Suspense=60113;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var g=Symbol.for;s=g("react.element"),u=g("react.portal"),t.Fragment=g("react.fragment"),t.StrictMode=g("react.strict_mode"),t.Profiler=g("react.profiler"),c=g("react.provider"),h=g("react.context"),f=g("react.forward_ref"),t.Suspense=g("react.suspense"),d=g("react.memo"),p=g("react.lazy")}var m="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function C(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=S.prototype;var E=C.prototype=new w;E.constructor=C,l(E,S.prototype),E.isPureReactComponent=!0;var k={current:null},O=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:k.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var x=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case u:o=!0}}if(o)return i=i(o=e),e=""===r?"."+N(o,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),I(i,t,n,"",(function(e){return e}))):null!=i&&(P(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(x,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+N(a=e[l],l);o+=I(a,t,n,c,i)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(a=e.next()).done;)o+=I(a=a.value,t,n,c=r+N(a,l++),i);else if("object"===a)throw t=""+e,Error(v(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function A(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var F={current:null};function V(){var e=F.current;if(null===e)throw Error(v(321));return e}var L={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:l};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error(v(143));return e}},t.Component=S,t.PureComponent=C,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var r=l({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)O.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:s,type:e.type,key:i,ref:a,props:r,_owner:o}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="17.0.2",e.exports=t;var j=e.exports,R={exports:{}},W={},M={exports:{}},B={};
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,u=null,c=function(){if(null!==s)try{var t=e.unstable_now();s(!0,t),s=null}catch(n){throw setTimeout(c,0),n}};t=function(e){null!==s?setTimeout(t,0,e):(s=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,g=null,m=-1,v=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,S=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();y=t+v;try{g(!0,t)?S.postMessage(null):(p=!1,g=null)}catch(n){throw S.postMessage(null),n}}else p=!1},t=function(e){g=e,p||(p=!0,S.postMessage(null))},n=function(t,n){m=h((function(){t(e.unstable_now())}),n)},r=function(){f(m),m=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],l=a+1,s=e[l];if(void 0!==o&&0>k(o,n))void 0!==s&&0>k(s,o)?(e[r]=s,e[l]=n,r=l):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>k(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],T=[],_=1,P=null,x=3,N=!1,I=!1,A=!1;function D(e){for(var t=C(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,w(O,t)}t=C(T)}}function F(e){if(A=!1,D(e),!I)if(null!==C(O))I=!0,t(V);else{var r=C(T);null!==r&&n(F,r.startTime-e)}}function V(t,i){I=!1,A&&(A=!1,r()),N=!0;var a=x;try{for(D(i),P=C(O);null!==P&&(!(P.expirationTime>i)||t&&!e.unstable_shouldYield());){var o=P.callback;if("function"==typeof o){P.callback=null,x=P.priorityLevel;var l=o(P.expirationTime<=i);i=e.unstable_now(),"function"==typeof l?P.callback=l:P===C(O)&&E(O),D(i)}else E(O);P=C(O)}if(null!==P)var s=!0;else{var u=C(T);null!==u&&n(F,u.startTime-i),s=!1}return s}finally{P=null,x=a,N=!1}}var L=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){I||N||(I=!0,t(V))},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return C(O)},e.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=L,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},e.unstable_scheduleCallback=function(i,a,o){var l=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?l+o:l:o=l,i){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return i={id:_++,callback:a,priorityLevel:i,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>l?(i.sortIndex=o,w(T,i),null===C(O)&&i===C(T)&&(A?r():A=!0,n(F,o-l))):(i.sortIndex=s,w(O,i),I||N||(I=!0,t(V))),i},e.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}}(B),M.exports=B;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var z=e.exports,U=o,G=M.exports;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!z)throw Error($(227));var H=new Set,q={};function J(e,t){K(e,t),K(e+"Capture",t)}function K(e,t){for(q[e]=t,e=0;e<t.length;e++)H.add(t[e])}var Q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X=Object.prototype.hasOwnProperty,Z={},ee={};function te(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ne[e]=new te(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ne[t]=new te(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ne[e]=new te(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ne[e]=new te(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ne[e]=new te(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ne[e]=new te(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ne[e]=new te(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ne[e]=new te(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ne[e]=new te(e,5,!1,e.toLowerCase(),null,!1,!1)}));var re=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}function ae(e,t,n,r){var i=ne.hasOwnProperty(t)?ne[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!X.call(ee,e)||!X.call(Z,e)&&(Y.test(e)?ee[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!1,!1)})),ne.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!0,!0)}));var oe=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=60103,se=60106,ue=60107,ce=60108,he=60114,fe=60109,de=60110,pe=60112,ge=60113,me=60120,ve=60115,ye=60116,be=60121,Se=60128,we=60129,Ce=60130,Ee=60131;if("function"==typeof Symbol&&Symbol.for){var ke=Symbol.for;le=ke("react.element"),se=ke("react.portal"),ue=ke("react.fragment"),ce=ke("react.strict_mode"),he=ke("react.profiler"),fe=ke("react.provider"),de=ke("react.context"),pe=ke("react.forward_ref"),ge=ke("react.suspense"),me=ke("react.suspense_list"),ve=ke("react.memo"),ye=ke("react.lazy"),be=ke("react.block"),ke("react.scope"),Se=ke("react.opaque.id"),we=ke("react.debug_trace_mode"),Ce=ke("react.offscreen"),Ee=ke("react.legacy_hidden")}var Oe,Te="function"==typeof Symbol&&Symbol.iterator;function _e(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Te&&e[Te]||e["@@iterator"])?e:null}function Pe(e){if(void 0===Oe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oe=t&&t[1]||""}return"\n"+Oe+e}var xe=!1;function Ne(e,t){if(!e||xe)return"";xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"==typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(1!==o||1!==l)do{if(o--,0>--l||i[o]!==a[l])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=l);break}}}finally{xe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pe(e):""}function Ie(e){switch(e.tag){case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 2:case 15:return e=Ne(e.type,!1);case 11:return e=Ne(e.type.render,!1);case 22:return e=Ne(e.type._render,!1);case 1:return e=Ne(e.type,!0);default:return""}}function Ae(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ue:return"Fragment";case se:return"Portal";case he:return"Profiler";case ce:return"StrictMode";case ge:return"Suspense";case me:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ve:return Ae(e.type);case be:return Ae(e._render);case ye:t=e._payload,e=e._init;try{return Ae(e(t))}catch(n){}}return null}function De(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Fe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=Fe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Le(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function je(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Re(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function We(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=De(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Me(e,t){null!=(t=t.checked)&&ae(e,"checked",t,!1)}function Be(e,t){Me(e,t);var n=De(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ue(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ue(e,t.type,De(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ze(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ue(e,t,n){"number"===t&&je(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ge(e,t){return e=U({children:void 0},t),(t=function(e){var t="";return z.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function $e(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+De(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function He(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error($(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error($(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error($(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:De(n)}}function Je(e,t){var n=De(t.value),r=De(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ke(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Qe="http://www.w3.org/1999/xhtml",Ye="http://www.w3.org/2000/svg";function Xe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Xe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var et,tt,nt=(tt=function(e,t){if(e.namespaceURI!==Ye||"innerHTML"in e)e.innerHTML=t;else{for((et=et||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return tt(e,t)}))}:tt);function rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},at=["Webkit","ms","Moz","O"];function ot(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||it.hasOwnProperty(e)&&it[e]?(""+t).trim():t+"px"}function lt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ot(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(it).forEach((function(e){at.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),it[t]=it[e]}))}));var st=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(e,t){if(t){if(st[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error($(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error($(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error($(62))}}function ct(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ht(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ft=null,dt=null,pt=null;function gt(e){if(e=Wi(e)){if("function"!=typeof ft)throw Error($(280));var t=e.stateNode;t&&(t=Bi(t),ft(e.stateNode,e.type,t))}}function mt(e){dt?pt?pt.push(e):pt=[e]:dt=e}function vt(){if(dt){var e=dt,t=pt;if(pt=dt=null,gt(e),t)for(e=0;e<t.length;e++)gt(t[e])}}function yt(e,t){return e(t)}function bt(e,t,n,r,i){return e(t,n,r,i)}function St(){}var wt=yt,Ct=!1,Et=!1;function kt(){null===dt&&null===pt||(St(),vt())}function Ot(e,t){var n=e.stateNode;if(null===n)return null;var r=Bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error($(231,t,typeof n));return n}var Tt=!1;if(Q)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Tt=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch(tt){Tt=!1}function Pt(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var xt=!1,Nt=null,It=!1,At=null,Dt={onError:function(e){xt=!0,Nt=e}};function Ft(e,t,n,r,i,a,o,l,s){xt=!1,Nt=null,Pt.apply(Dt,arguments)}function Vt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Lt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function jt(e){if(Vt(e)!==e)throw Error($(188))}function Rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Vt(e)))throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return jt(i),e;if(a===r)return jt(i),t;a=a.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(3!==n.tag)throw Error($(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Wt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Mt,Bt,zt,Ut,Gt=!1,$t=[],Ht=null,qt=null,Jt=null,Kt=new Map,Qt=new Map,Yt=[],Xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function en(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qt.delete(t.pointerId)}}function tn(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Zt(t,n,r,i,a),null!==t&&(null!==(t=Wi(t))&&Bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function nn(e){var t=Ri(e.target);if(null!==t){var n=Vt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Lt(n)))return e.blockedOn=t,void Ut(e.lanePriority,(function(){G.unstable_runWithPriority(e.priority,(function(){zt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function rn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Wi(n))&&Bt(t),e.blockedOn=n,!1;t.shift()}return!0}function an(e,t,n){rn(e)&&n.delete(t)}function on(){for(Gt=!1;0<$t.length;){var e=$t[0];if(null!==e.blockedOn){null!==(e=Wi(e.blockedOn))&&Mt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Wn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&$t.shift()}null!==Ht&&rn(Ht)&&(Ht=null),null!==qt&&rn(qt)&&(qt=null),null!==Jt&&rn(Jt)&&(Jt=null),Kt.forEach(an),Qt.forEach(an)}function ln(e,t){e.blockedOn===t&&(e.blockedOn=null,Gt||(Gt=!0,G.unstable_scheduleCallback(G.unstable_NormalPriority,on)))}function sn(e){function t(t){return ln(t,e)}if(0<$t.length){ln($t[0],e);for(var n=1;n<$t.length;n++){var r=$t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ht&&ln(Ht,e),null!==qt&&ln(qt,e),null!==Jt&&ln(Jt,e),Kt.forEach(t),Qt.forEach(t),n=0;n<Yt.length;n++)(r=Yt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&null===(n=Yt[0]).blockedOn;)nn(n),null===n.blockedOn&&Yt.shift()}function un(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionend:un("Transition","TransitionEnd")},hn={},fn={};function dn(e){if(hn[e])return hn[e];if(!cn[e])return e;var t,n=cn[e];for(t in n)if(n.hasOwnProperty(t)&&t in fn)return hn[e]=n[t];return e}Q&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var pn=dn("animationend"),gn=dn("animationiteration"),mn=dn("animationstart"),vn=dn("transitionend"),yn=new Map,bn=new Map,Sn=["abort","abort",pn,"animationEnd",gn,"animationIteration",mn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",vn,"transitionEnd","waiting","waiting"];function wn(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bn.set(r,t),yn.set(r,i),J(i,[r])}}(0,G.unstable_now)();var Cn=8;function En(e){if(0!=(1&e))return Cn=15,1;if(0!=(2&e))return Cn=14,2;if(0!=(4&e))return Cn=13,4;var t=24&e;return 0!==t?(Cn=12,t):0!=(32&e)?(Cn=11,32):0!==(t=192&e)?(Cn=10,t):0!=(256&e)?(Cn=9,256):0!==(t=3584&e)?(Cn=8,t):0!=(4096&e)?(Cn=7,4096):0!==(t=4186112&e)?(Cn=6,t):0!==(t=62914560&e)?(Cn=5,t):67108864&e?(Cn=4,67108864):0!=(134217728&e)?(Cn=3,134217728):0!==(t=805306368&e)?(Cn=2,t):0!=(1073741824&e)?(Cn=1,1073741824):(Cn=8,e)}function kn(e,t){var n=e.pendingLanes;if(0===n)return Cn=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,l=e.pingedLanes;if(0!==a)r=a,i=Cn=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=En(s),i=Cn):0!==(l&=a)&&(r=En(l),i=Cn)}else 0!==(a=n&~o)?(r=En(a),i=Cn):0!==l&&(r=En(l),i=Cn);if(0===r)return 0;if(r=n&((0>(r=31-Nn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(En(t),i<=Cn)return t;Cn=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Nn(t)),r|=e[n],t&=~i;return r}function On(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=_n(24&~t))?Tn(10,t):e;case 10:return 0===(e=_n(192&~t))?Tn(8,t):e;case 8:return 0===(e=_n(3584&~t))&&(0===(e=_n(4186112&~t))&&(e=512)),e;case 2:return 0===(t=_n(805306368&~t))&&(t=268435456),t}throw Error($(358,e))}function _n(e){return e&-e}function Pn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xn(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Nn(t)]=n}var Nn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(In(e)/An|0)|0},In=Math.log,An=Math.LN2;var Dn=G.unstable_UserBlockingPriority,Fn=G.unstable_runWithPriority,Vn=!0;function Ln(e,t,n,r){Ct||St();var i=Rn,a=Ct;Ct=!0;try{bt(i,e,t,n,r)}finally{(Ct=a)||kt()}}function jn(e,t,n,r){Fn(Dn,Rn.bind(null,e,t,n,r))}function Rn(e,t,n,r){var i;if(Vn)if((i=0==(4&t))&&0<$t.length&&-1<Xt.indexOf(e))e=Zt(null,e,t,n,r),$t.push(e);else{var a=Wn(e,t,n,r);if(null===a)i&&en(e,r);else{if(i){if(-1<Xt.indexOf(e))return e=Zt(a,e,t,n,r),void $t.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return Ht=tn(Ht,e,t,n,r,i),!0;case"dragenter":return qt=tn(qt,e,t,n,r,i),!0;case"mouseover":return Jt=tn(Jt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Kt.set(a,tn(Kt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Qt.set(a,tn(Qt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;en(e,r)}vi(e,t,r,null,n)}}}function Wn(e,t,n,r){var i=ht(r);if(null!==(i=Ri(i))){var a=Vt(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Lt(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return vi(e,t,r,i,n),null}var Mn=null,Bn=null,zn=null;function Un(){if(zn)return zn;var e,t,n=Bn,r=n.length,i="value"in Mn?Mn.value:Mn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function Gn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $n(){return!0}function Hn(){return!1}function qn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$n:Hn,this.isPropagationStopped=Hn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),t}var Jn,Kn,Qn,Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xn=qn(Yn),Zn=U({},Yn,{view:0,detail:0}),er=qn(Zn),tr=U({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&"mousemove"===e.type?(Jn=e.screenX-Qn.screenX,Kn=e.screenY-Qn.screenY):Kn=Jn=0,Qn=e),Jn)},movementY:function(e){return"movementY"in e?e.movementY:Kn}}),nr=qn(tr),rr=qn(U({},tr,{dataTransfer:0})),ir=qn(U({},Zn,{relatedTarget:0})),ar=qn(U({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0})),or=qn(U({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=qn(U({},Yn,{data:0})),sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=cr[e])&&!!t[e]}function fr(){return hr}var dr=qn(U({},Zn,{key:function(e){if(e.key){var t=sr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Gn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=qn(U({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=qn(U({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),mr=qn(U({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=qn(U({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yr=[9,13,27,32],br=Q&&"CompositionEvent"in window,Sr=null;Q&&"documentMode"in document&&(Sr=document.documentMode);var wr=Q&&"TextEvent"in window&&!Sr,Cr=Q&&(!br||Sr&&8<Sr&&11>=Sr),Er=String.fromCharCode(32),kr=!1;function Or(e,t){switch(e){case"keyup":return-1!==yr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var _r=!1;var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pr[e.type]:"textarea"===t}function Nr(e,t,n,r){mt(r),0<(t=bi(t,"onChange")).length&&(n=new Xn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ir=null,Ar=null;function Dr(e){hi(e,0)}function Fr(e){if(Le(Mi(e)))return e}function Vr(e,t){if("change"===e)return t}var Lr=!1;if(Q){var jr;if(Q){var Rr="oninput"in document;if(!Rr){var Wr=document.createElement("div");Wr.setAttribute("oninput","return;"),Rr="function"==typeof Wr.oninput}jr=Rr}else jr=!1;Lr=jr&&(!document.documentMode||9<document.documentMode)}function Mr(){Ir&&(Ir.detachEvent("onpropertychange",Br),Ar=Ir=null)}function Br(e){if("value"===e.propertyName&&Fr(Ar)){var t=[];if(Nr(t,Ar,e,ht(e)),e=Dr,Ct)e(t);else{Ct=!0;try{yt(e,t)}finally{Ct=!1,kt()}}}}function zr(e,t,n){"focusin"===e?(Mr(),Ar=n,(Ir=t).attachEvent("onpropertychange",Br)):"focusout"===e&&Mr()}function Ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fr(Ar)}function Gr(e,t){if("click"===e)return Fr(t)}function $r(e,t){if("input"===e||"change"===e)return Fr(t)}var Hr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},qr=Object.prototype.hasOwnProperty;function Jr(e,t){if(Hr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!qr.call(t,n[r])||!Hr(e[n[r]],t[n[r]]))return!1;return!0}function Kr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qr(e,t){var n,r=Kr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kr(r)}}function Yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Xr(){for(var e=window,t=je();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=je((e=t.contentWindow).document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ei=Q&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,ri=null,ii=!1;function ai(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ti||ti!==je(r)||("selectionStart"in(r=ti)&&Zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ri&&Jr(ri,r)||(ri=r,0<(r=bi(ni,"onSelect")).length&&(t=new Xn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}wn("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),wn("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),wn(Sn,2);for(var oi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),li=0;li<oi.length;li++)bn.set(oi[li],0);K("onMouseEnter",["mouseout","mouseover"]),K("onMouseLeave",["mouseout","mouseover"]),K("onPointerEnter",["pointerout","pointerover"]),K("onPointerLeave",["pointerout","pointerover"]),J("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),J("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),J("onBeforeInput",["compositionend","keypress","textInput","paste"]),J("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),J("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),J("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ui=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function ci(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,s){if(Ft.apply(this,arguments),xt){if(!xt)throw Error($(198));var u=Nt;xt=!1,Nt=null,It||(It=!0,At=u)}}(r,t,void 0,e),e.currentTarget=null}function hi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;ci(i,l,u),a=s}else for(o=0;o<r.length;o++){if(s=(l=r[o]).instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;ci(i,l,u),a=s}}}if(It)throw e=At,It=!1,At=null,e}function fi(e,t){var n=zi(t),r=e+"__bubble";n.has(r)||(mi(t,e,2,!1),n.add(r))}var di="_reactListening"+Math.random().toString(36).slice(2);function pi(e){e[di]||(e[di]=!0,H.forEach((function(t){ui.has(t)||gi(t,!1,e,null),gi(t,!0,e,null)})))}function gi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&ui.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=zi(a),l=e+"__"+(t?"capture":"bubble");o.has(l)||(t&&(i|=4),mi(a,e,i,t),o.add(l))}function mi(e,t,n,r){var i=bn.get(t);switch(void 0===i?2:i){case 0:i=Ln;break;case 1:i=jn;break;default:i=Rn}n=i.bind(null,t,n,e),i=void 0,!Tt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vi(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==l;){if(null===(o=Ri(l)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}l=l.parentNode}}r=r.return}!function(e,t,n){if(Et)return e(t,n);Et=!0;try{wt(e,t,n)}finally{Et=!1,kt()}}((function(){var r=a,i=ht(n),o=[];e:{var l=yn.get(e);if(void 0!==l){var s=Xn,u=e;switch(e){case"keypress":if(0===Gn(n))break e;case"keydown":case"keyup":s=dr;break;case"focusin":u="focus",s=ir;break;case"focusout":u="blur",s=ir;break;case"beforeblur":case"afterblur":s=ir;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=gr;break;case pn:case gn:case mn:s=ar;break;case vn:s=mr;break;case"scroll":s=er;break;case"wheel":s=vr;break;case"copy":case"cut":case"paste":s=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=pr}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Ot(p,f))&&c.push(yi(p,g,d)))),h)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),o.push({event:l,listeners:c}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Ri(u)&&!u[Li])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ri(u):null)&&(u!==(h=Vt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=nr,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=pr,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==s?l:Mi(s),d=null==u?l:Mi(u),(l=new c(g,p+"leave",s,n,i)).target=h,l.relatedTarget=d,g=null,Ri(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,g=c),h=g,s&&u)e:{for(f=u,p=0,d=c=s;d;d=Si(d))p++;for(d=0,g=f;g;g=Si(g))d++;for(;0<p-d;)c=Si(c),p--;for(;0<d-p;)f=Si(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Si(c),f=Si(f)}c=null}else c=null;null!==s&&wi(o,l,s,c,!1),null!==u&&null!==h&&wi(o,h,u,c,!0)}if("select"===(s=(l=r?Mi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var m=Vr;else if(xr(l))if(Lr)m=$r;else{m=Ur;var v=zr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(m=Gr);switch(m&&(m=m(e,r))?Nr(o,m,n,i):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&Ue(l,"number",l.value)),v=r?Mi(r):window,e){case"focusin":(xr(v)||"true"===v.contentEditable)&&(ti=v,ni=r,ri=null);break;case"focusout":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,ai(o,n,i);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":ai(o,n,i)}var y;if(br)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _r?Or(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cr&&"ko"!==n.locale&&(_r||"onCompositionStart"!==b?"onCompositionEnd"===b&&_r&&(y=Un()):(Bn="value"in(Mn=i)?Mn.value:Mn.textContent,_r=!0)),0<(v=bi(r,b)).length&&(b=new lr(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Tr(n))&&(b.data=y))),(y=wr?function(e,t){switch(e){case"compositionend":return Tr(t);case"keypress":return 32!==t.which?null:(kr=!0,Er);case"textInput":return(e=t.data)===Er&&kr?null:e;default:return null}}(e,n):function(e,t){if(_r)return"compositionend"===e||!br&&Or(e,t)?(e=Un(),zn=Bn=Mn=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=bi(r,"onBeforeInput")).length&&(i=new lr("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}hi(o,t)}))}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ot(e,n))&&r.unshift(yi(e,a,i)),null!=(a=Ot(e,t))&&r.push(yi(e,a,i))),e=e.return}return r}function Si(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function wi(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=Ot(n,a))&&o.unshift(yi(n,s,l)):i||null!=(s=Ot(n,a))&&o.push(yi(n,s,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ci(){}var Ei=null,ki=null;function Oi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ti(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _i="function"==typeof setTimeout?setTimeout:void 0,Pi="function"==typeof clearTimeout?clearTimeout:void 0;function xi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ii(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ai=0;var Di=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Di,Vi="__reactProps$"+Di,Li="__reactContainer$"+Di,ji="__reactEvents$"+Di;function Ri(e){var t=e[Fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Li]||n[Fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ii(e);null!==e;){if(n=e[Fi])return n;e=Ii(e)}return t}n=(e=n).parentNode}return null}function Wi(e){return!(e=e[Fi]||e[Li])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error($(33))}function Bi(e){return e[Vi]||null}function zi(e){var t=e[ji];return void 0===t&&(t=e[ji]=new Set),t}var Ui=[],Gi=-1;function $i(e){return{current:e}}function Hi(e){0>Gi||(e.current=Ui[Gi],Ui[Gi]=null,Gi--)}function qi(e,t){Gi++,Ui[Gi]=e.current,e.current=t}var Ji={},Ki=$i(Ji),Qi=$i(!1),Yi=Ji;function Xi(e,t){var n=e.type.contextTypes;if(!n)return Ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zi(e){return null!=(e=e.childContextTypes)}function ea(){Hi(Qi),Hi(Ki)}function ta(e,t,n){if(Ki.current!==Ji)throw Error($(168));qi(Ki,t),qi(Qi,n)}function na(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error($(108,Ae(t)||"Unknown",i));return U({},n,r)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ji,Yi=Ki.current,qi(Ki,e),qi(Qi,Qi.current),!0}function ia(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=na(e,t,Yi),r.__reactInternalMemoizedMergedChildContext=e,Hi(Qi),Hi(Ki),qi(Ki,e)):Hi(Qi),qi(Qi,n)}var aa=null,oa=null,la=G.unstable_runWithPriority,sa=G.unstable_scheduleCallback,ua=G.unstable_cancelCallback,ca=G.unstable_shouldYield,ha=G.unstable_requestPaint,fa=G.unstable_now,da=G.unstable_getCurrentPriorityLevel,pa=G.unstable_ImmediatePriority,ga=G.unstable_UserBlockingPriority,ma=G.unstable_NormalPriority,va=G.unstable_LowPriority,ya=G.unstable_IdlePriority,ba={},Sa=void 0!==ha?ha:function(){},wa=null,Ca=null,Ea=!1,ka=fa(),Oa=1e4>ka?fa:function(){return fa()-ka};function Ta(){switch(da()){case pa:return 99;case ga:return 98;case ma:return 97;case va:return 96;case ya:return 95;default:throw Error($(332))}}function _a(e){switch(e){case 99:return pa;case 98:return ga;case 97:return ma;case 96:return va;case 95:return ya;default:throw Error($(332))}}function Pa(e,t){return e=_a(e),la(e,t)}function xa(e,t,n){return e=_a(e),sa(e,t,n)}function Na(){if(null!==Ca){var e=Ca;Ca=null,ua(e)}Ia()}function Ia(){if(!Ea&&null!==wa){Ea=!0;var e=0;try{var t=wa;Pa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),wa=null}catch(n){throw null!==wa&&(wa=wa.slice(e+1)),sa(pa,Na),n}finally{Ea=!1}}}var Aa=oe.ReactCurrentBatchConfig;function Da(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Fa=$i(null),Va=null,La=null,ja=null;function Ra(){ja=La=Va=null}function Wa(e){var t=Fa.current;Hi(Fa),e.type._context._currentValue=t}function Ma(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Ba(e,t){Va=e,ja=La=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bl=!0),e.firstContext=null)}function za(e,t){if(ja!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ja=e,t=1073741823),t={context:e,observedBits:t,next:null},null===La){if(null===Va)throw Error($(308));La=t,Va.dependencies={lanes:0,firstContext:t,responders:null}}else La=La.next=t;return e._currentValue}var Ua=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function $a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ha(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ka(e,t,n,r){var i=e.updateQueue;Ua=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===o?a=u:o.next=u,o=s;var c=e.alternate;if(null!==c){var h=(c=c.updateQueue).lastBaseUpdate;h!==o&&(null===h?c.firstBaseUpdate=u:h.next=u,c.lastBaseUpdate=s)}}if(null!==a){for(h=i.baseState,o=0,c=u=s=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,p=a;switch(l=t,f=n,p.tag){case 1:if("function"==typeof(d=p.payload)){h=d.call(f,h,l);break e}h=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(l="function"==typeof(d=p.payload)?d.call(f,h,l):d))break e;h=U({},h,l);break e;case 2:Ua=!0}}null!==a.callback&&(e.flags|=32,null===(l=i.effects)?i.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,s=h):c=c.next=f,o|=l;if(null===(a=a.next)){if(null===(l=i.shared.pending))break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===c&&(s=h),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,Es|=o,e.lanes=o,e.memoizedState=h}}function Qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error($(191,i));i.call(r)}}}var Ya=(new z.Component).refs;function Xa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Za={isMounted:function(e){return!!(e=e._reactInternals)&&Vt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Js(),i=Ks(e),a=Ha(r,i);a.payload=t,null!=n&&(a.callback=n),qa(e,a),Qs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Js(),i=Ks(e),a=Ha(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),qa(e,a),Qs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Js(),r=Ks(e),i=Ha(n,r);i.tag=2,null!=t&&(i.callback=t),qa(e,i),Qs(e,r,n)}};function eo(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jr(n,r)||!Jr(i,a))}function to(e,t,n){var r=!1,i=Ji,a=t.contextType;return"object"==typeof a&&null!==a?a=za(a):(i=Zi(t)?Yi:Ki.current,a=(r=null!=(r=t.contextTypes))?Xi(e,i):Ji),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function no(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Za.enqueueReplaceState(t,t.state,null)}function ro(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ya,Ga(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=za(a):(a=Zi(t)?Yi:Ki.current,i.context=Xi(e,a)),Ka(e,n,i,r),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Xa(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Za.enqueueReplaceState(i,i.state,null),Ka(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var io=Array.isArray;function ao(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Ya&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function oo(e,t){if("textarea"!==e.type)throw Error($(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function lo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ao(e,t,n),r.return=e,r):((r=xu(n.type,n.key,n.props,null,e.mode,r)).ref=ao(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Au(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case le:return(n=xu(t.type,t.key,t.props,null,e.mode,n)).ref=ao(e,null,t),n.return=e,n;case se:return(t=Du(t,e.mode,n)).return=e,t}if(io(t)||_e(t))return(t=Nu(t,e.mode,n,null)).return=e,t;oo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case le:return n.key===i?n.type===ue?c(e,t,n.props.children,r,i):s(e,t,n,r):null;case se:return n.key===i?u(e,t,n,r):null}if(io(n)||_e(n))return null!==i?null:c(e,t,n,r,null);oo(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case le:return e=e.get(null===r.key?n:r.key)||null,r.type===ue?c(t,e,r.props.children,i,r.key):s(t,e,r,i);case se:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(io(r)||_e(r))return c(t,e=e.get(n)||null,r,i,null);oo(t,r)}return null}return function(l,s,u,c){var p="object"==typeof u&&null!==u&&u.type===ue&&null===u.key;p&&(u=u.props.children);var g="object"==typeof u&&null!==u;if(g)switch(u.$$typeof){case le:e:{for(g=u.key,p=s;null!==p;){if(p.key===g){switch(p.tag){case 7:if(u.type===ue){n(l,p.sibling),(s=i(p,u.props.children)).return=l,l=s;break e}break;default:if(p.elementType===u.type){n(l,p.sibling),(s=i(p,u.props)).ref=ao(l,p,u),s.return=l,l=s;break e}}n(l,p);break}t(l,p),p=p.sibling}u.type===ue?((s=Nu(u.props.children,l.mode,c,u.key)).return=l,l=s):((c=xu(u.type,u.key,u.props,null,l.mode,c)).ref=ao(l,s,u),c.return=l,l=c)}return o(l);case se:e:{for(p=u.key;null!==s;){if(s.key===p){if(4===s.tag&&s.stateNode.containerInfo===u.containerInfo&&s.stateNode.implementation===u.implementation){n(l,s.sibling),(s=i(s,u.children||[])).return=l,l=s;break e}n(l,s);break}t(l,s),s=s.sibling}(s=Du(u,l.mode,c)).return=l,l=s}return o(l)}if("string"==typeof u||"number"==typeof u)return u=""+u,null!==s&&6===s.tag?(n(l,s.sibling),(s=i(s,u)).return=l,l=s):(n(l,s),(s=Au(u,l.mode,c)).return=l,l=s),o(l);if(io(u))return function(i,o,l,s){for(var u=null,c=null,p=o,g=o=0,m=null;null!==p&&g<l.length;g++){p.index>g?(m=p,p=null):m=p.sibling;var v=f(i,p,l[g],s);if(null===v){null===p&&(p=m);break}e&&p&&null===v.alternate&&t(i,p),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v,p=m}if(g===l.length)return n(i,p),u;if(null===p){for(;g<l.length;g++)null!==(p=h(i,l[g],s))&&(o=a(p,o,g),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);g<l.length;g++)null!==(m=d(p,i,g,l[g],s))&&(e&&null!==m.alternate&&p.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&p.forEach((function(e){return t(i,e)})),u}(l,s,u,c);if(_e(u))return function(i,o,l,s){var u=_e(l);if("function"!=typeof u)throw Error($(150));if(null==(l=u.call(l)))throw Error($(151));for(var c=u=null,p=o,g=o=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var y=f(i,p,v.value,s);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(i,p),o=a(y,o,g),null===c?u=y:c.sibling=y,c=y,p=m}if(v.done)return n(i,p),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,s))&&(o=a(v,o,g),null===c?u=v:c.sibling=v,c=v);return u}for(p=r(i,p);!v.done;g++,v=l.next())null!==(v=d(p,i,g,v.value,s))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v);return e&&p.forEach((function(e){return t(i,e)})),u}(l,s,u,c);if(g&&oo(l,u),void 0===u&&!p)switch(l.tag){case 1:case 22:case 0:case 11:case 15:throw Error($(152,Ae(l.type)||"Component"))}return n(l,s)}}var so=lo(!0),uo=lo(!1),co={},ho=$i(co),fo=$i(co),po=$i(co);function go(e){if(e===co)throw Error($(174));return e}function mo(e,t){switch(qi(po,t),qi(fo,e),qi(ho,co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:t=Ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Hi(ho),qi(ho,t)}function vo(){Hi(ho),Hi(fo),Hi(po)}function yo(e){go(po.current);var t=go(ho.current),n=Ze(t,e.type);t!==n&&(qi(fo,e),qi(ho,n))}function bo(e){fo.current===e&&(Hi(ho),Hi(fo))}var So=$i(0);function wo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Co=null,Eo=null,ko=!1;function Oo(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function To(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function _o(e){if(ko){var t=Eo;if(t){var n=t;if(!To(e,t)){if(!(t=Ni(n.nextSibling))||!To(e,t))return e.flags=-1025&e.flags|2,ko=!1,void(Co=e);Oo(Co,n)}Co=e,Eo=Ni(t.firstChild)}else e.flags=-1025&e.flags|2,ko=!1,Co=e}}function Po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Co=e}function xo(e){if(e!==Co)return!1;if(!ko)return Po(e),ko=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ti(t,e.memoizedProps))for(t=Eo;t;)Oo(e,t),t=Ni(t.nextSibling);if(Po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Eo=Ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Eo=null}}else Eo=Co?Ni(e.stateNode.nextSibling):null;return!0}function No(){Eo=Co=null,ko=!1}var Io=[];function Ao(){for(var e=0;e<Io.length;e++)Io[e]._workInProgressVersionPrimary=null;Io.length=0}var Do=oe.ReactCurrentDispatcher,Fo=oe.ReactCurrentBatchConfig,Vo=0,Lo=null,jo=null,Ro=null,Wo=!1,Mo=!1;function Bo(){throw Error($(321))}function zo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function Uo(e,t,n,r,i,a){if(Vo=a,Lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Do.current=null===e||null===e.memoizedState?gl:ml,e=n(r,i),Mo){a=0;do{if(Mo=!1,!(25>a))throw Error($(301));a+=1,Ro=jo=null,t.updateQueue=null,Do.current=vl,e=n(r,i)}while(Mo)}if(Do.current=pl,t=null!==jo&&null!==jo.next,Vo=0,Ro=jo=Lo=null,Wo=!1,t)throw Error($(300));return e}function Go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ro?Lo.memoizedState=Ro=e:Ro=Ro.next=e,Ro}function $o(){if(null===jo){var e=Lo.alternate;e=null!==e?e.memoizedState:null}else e=jo.next;var t=null===Ro?Lo.memoizedState:Ro.next;if(null!==t)Ro=t,jo=e;else{if(null===e)throw Error($(310));e={memoizedState:(jo=e).memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},null===Ro?Lo.memoizedState=Ro=e:Ro=Ro.next=e}return Ro}function Ho(e,t){return"function"==typeof t?t(e):t}function qo(e){var t=$o(),n=t.queue;if(null===n)throw Error($(311));n.lastRenderedReducer=e;var r=jo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=o=a=null,s=i;do{var u=s.lane;if((Vo&u)===u)null!==l&&(l=l.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),r=s.eagerReducer===e?s.eagerState:e(r,s.action);else{var c={lane:u,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===l?(o=l=c,a=r):l=l.next=c,Lo.lanes|=u,Es|=u}s=s.next}while(null!==s&&s!==i);null===l?a=r:l.next=o,Hr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=$o(),n=t.queue;if(null===n)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Hr(a,t.memoizedState)||(bl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ko(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Vo&e)===e)&&(t._workInProgressVersionPrimary=r,Io.push(t))),e)return n(t._source);throw Io.push(t),Error($(350))}function Qo(e,t,n,r){var i=gs;if(null===i)throw Error($(349));var a=t._getVersion,o=a(t._source),l=Do.current,s=l.useState((function(){return Ko(i,t,n)})),u=s[1],c=s[0];s=Ro;var h=e.memoizedState,f=h.refs,d=f.getSnapshot,p=h.source;h=h.subscribe;var g=Lo;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=a(t._source);if(!Hr(o,e)){e=n(t._source),Hr(c,e)||(u(e),e=Ks(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,l=e;0<l;){var s=31-Nn(l),h=1<<s;r[s]|=e,l&=~h}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=Ks(g);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),Hr(d,n)&&Hr(p,t)&&Hr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:c}).dispatch=u=dl.bind(null,Lo,e),s.queue=e,s.baseQueue=null,c=Ko(i,t,n),s.memoizedState=s.baseState=c),c}function Yo(e,t,n){return Qo($o(),e,t,n)}function Xo(e){var t=Go();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e}).dispatch=dl.bind(null,Lo,e),[t.memoizedState,e]}function Zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Lo.updateQueue)?(t={lastEffect:null},Lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function el(e){return e={current:e},Go().memoizedState=e}function tl(){return $o().memoizedState}function nl(e,t,n,r){var i=Go();Lo.flags|=e,i.memoizedState=Zo(1|t,n,void 0,void 0===r?null:r)}function rl(e,t,n,r){var i=$o();r=void 0===r?null:r;var a=void 0;if(null!==jo){var o=jo.memoizedState;if(a=o.destroy,null!==r&&zo(r,o.deps))return void Zo(t,n,a,r)}Lo.flags|=e,i.memoizedState=Zo(1|t,n,a,r)}function il(e,t){return nl(516,4,e,t)}function al(e,t){return rl(516,4,e,t)}function ol(e,t){return rl(4,2,e,t)}function ll(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function sl(e,t,n){return n=null!=n?n.concat([e]):null,rl(4,2,ll.bind(null,t,e),n)}function ul(){}function cl(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hl(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fl(e,t){var n=Ta();Pa(98>n?98:n,(function(){e(!0)})),Pa(97<n?97:n,(function(){var n=Fo.transition;Fo.transition=1;try{e(!1),t()}finally{Fo.transition=n}}))}function dl(e,t,n){var r=Js(),i=Ks(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Lo||null!==o&&o===Lo)Mo=Wo=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=o(l,n);if(a.eagerReducer=o,a.eagerState=s,Hr(s,l))return}catch(u){}Qs(e,i,r)}}var pl={readContext:za,useCallback:Bo,useContext:Bo,useEffect:Bo,useImperativeHandle:Bo,useLayoutEffect:Bo,useMemo:Bo,useReducer:Bo,useRef:Bo,useState:Bo,useDebugValue:Bo,useDeferredValue:Bo,useTransition:Bo,useMutableSource:Bo,useOpaqueIdentifier:Bo,unstable_isNewReconciler:!1},gl={readContext:za,useCallback:function(e,t){return Go().memoizedState=[e,void 0===t?null:t],e},useContext:za,useEffect:il,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,nl(4,2,ll.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Go();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Go();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=dl.bind(null,Lo,e),[r.memoizedState,e]},useRef:el,useState:Xo,useDebugValue:ul,useDeferredValue:function(e){var t=Xo(e),n=t[0],r=t[1];return il((function(){var t=Fo.transition;Fo.transition=1;try{r(e)}finally{Fo.transition=t}}),[e]),n},useTransition:function(){var e=Xo(!1),t=e[0];return el(e=fl.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Go();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Qo(r,e,t,n)},useOpaqueIdentifier:function(){if(ko){var e=!1,t=function(e){return{$$typeof:Se,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ai++).toString(36))),Error($(355))})),n=Xo(t)[1];return 0==(2&Lo.mode)&&(Lo.flags|=516,Zo(5,(function(){n("r:"+(Ai++).toString(36))}),void 0,null)),t}return Xo(t="r:"+(Ai++).toString(36)),t},unstable_isNewReconciler:!1},ml={readContext:za,useCallback:cl,useContext:za,useEffect:al,useImperativeHandle:sl,useLayoutEffect:ol,useMemo:hl,useReducer:qo,useRef:tl,useState:function(){return qo(Ho)},useDebugValue:ul,useDeferredValue:function(e){var t=qo(Ho),n=t[0],r=t[1];return al((function(){var t=Fo.transition;Fo.transition=1;try{r(e)}finally{Fo.transition=t}}),[e]),n},useTransition:function(){var e=qo(Ho)[0];return[tl().current,e]},useMutableSource:Yo,useOpaqueIdentifier:function(){return qo(Ho)[0]},unstable_isNewReconciler:!1},vl={readContext:za,useCallback:cl,useContext:za,useEffect:al,useImperativeHandle:sl,useLayoutEffect:ol,useMemo:hl,useReducer:Jo,useRef:tl,useState:function(){return Jo(Ho)},useDebugValue:ul,useDeferredValue:function(e){var t=Jo(Ho),n=t[0],r=t[1];return al((function(){var t=Fo.transition;Fo.transition=1;try{r(e)}finally{Fo.transition=t}}),[e]),n},useTransition:function(){var e=Jo(Ho)[0];return[tl().current,e]},useMutableSource:Yo,useOpaqueIdentifier:function(){return Jo(Ho)[0]},unstable_isNewReconciler:!1},yl=oe.ReactCurrentOwner,bl=!1;function Sl(e,t,n,r){t.child=null===e?uo(t,null,n,r):so(t,e.child,n,r)}function wl(e,t,n,r,i){n=n.render;var a=t.ref;return Ba(t,i),r=Uo(e,t,n,r,a,i),null===e||bl?(t.flags|=1,Sl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Bl(e,t,i))}function Cl(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||_u(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,El(e,t,o,r,i,a))}return o=e.child,0==(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Jr)(i,r)&&e.ref===t.ref)?Bl(e,t,a):(t.flags|=1,(e=Pu(o,r)).ref=t.ref,e.return=t,t.child=e)}function El(e,t,n,r,i,a){if(null!==e&&Jr(e.memoizedProps,r)&&e.ref===t.ref){if(bl=!1,0==(a&i))return t.lanes=e.lanes,Bl(e,t,a);0!=(16384&e.flags)&&(bl=!0)}return Tl(e,t,n,r,a)}function kl(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},iu(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},iu(t,e),null;t.memoizedState={baseLanes:0},iu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,iu(t,r);return Sl(e,t,i,n),t.child}function Ol(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Tl(e,t,n,r,i){var a=Zi(n)?Yi:Ki.current;return a=Xi(t,a),Ba(t,i),n=Uo(e,t,n,r,a,i),null===e||bl?(t.flags|=1,Sl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Bl(e,t,i))}function _l(e,t,n,r,i){if(Zi(n)){var a=!0;ra(t)}else a=!1;if(Ba(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),to(t,n,r),ro(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=za(u):u=Xi(t,u=Zi(n)?Yi:Ki.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==r||s!==u)&&no(t,o,r,u),Ua=!1;var f=t.memoizedState;o.state=f,Ka(t,r,o,i),s=t.memoizedState,l!==r||f!==s||Qi.current||Ua?("function"==typeof c&&(Xa(t,n,c,r),s=t.memoizedState),(l=Ua||eo(t,n,l,r,f,s,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,$a(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Da(t.type,l),o.props=u,h=t.pendingProps,f=o.context,"object"==typeof(s=n.contextType)&&null!==s?s=za(s):s=Xi(t,s=Zi(n)?Yi:Ki.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==h||f!==s)&&no(t,o,r,s),Ua=!1,f=t.memoizedState,o.state=f,Ka(t,r,o,i);var p=t.memoizedState;l!==h||f!==p||Qi.current||Ua?("function"==typeof d&&(Xa(t,n,d,r),p=t.memoizedState),(u=Ua||eo(t,n,u,r,f,p,s))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=u):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Pl(e,t,n,r,a,i)}function Pl(e,t,n,r,i,a){Ol(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&ia(t,n,!1),Bl(e,t,a);r=t.stateNode,yl.current=t;var l=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=so(t,e.child,null,a),t.child=so(t,null,l,a)):Sl(e,t,l,a),t.memoizedState=r.state,i&&ia(t,n,!0),t.child}function xl(e){var t=e.stateNode;t.pendingContext?ta(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ta(0,t.context,!1),mo(e,t.containerInfo)}var Nl,Il,Al,Dl={dehydrated:null,retryLane:0};function Fl(e,t,n){var r,i=t.pendingProps,a=So.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),qi(So,1&a),null===e?(void 0!==i.fallback&&_o(t),e=i.children,a=i.fallback,o?(e=Vl(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Dl,e):"number"==typeof i.unstable_expectedLoadTime?(e=Vl(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Dl,t.lanes=33554432,e):((n=Iu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=jl(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Dl,i):(n=Ll(e,t,i.children,n),t.memoizedState=null,n))}function Vl(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Iu(t,i,0,null),n=Nu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Ll(e,t,n,r){var i=e.child;return e=i.sibling,n=Pu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function jl(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var l={mode:"hidden",children:n};return 0==(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=l,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Pu(o,l),null!==e?r=Pu(e,r):(r=Nu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Rl(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ma(e.return,t)}function Wl(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function Ml(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Sl(e,t,r.children,n),0!=(2&(r=So.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Rl(e,n);else if(19===e.tag)Rl(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qi(So,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===wo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wl(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===wo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wl(t,!0,n,null,a,t.lastEffect);break;case"together":Wl(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Bl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error($(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function zl(e,t){if(!ko)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ul(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zi(t.type)&&ea(),null;case 3:return vo(),Hi(Qi),Hi(Ki),Ao(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(xo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:bo(t);var i=go(po.current);if(n=t.type,null!==e&&null!=t.stateNode)Il(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error($(166));return null}if(e=go(ho.current),xo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Fi]=t,r[Vi]=a,n){case"dialog":fi("cancel",r),fi("close",r);break;case"iframe":case"object":case"embed":fi("load",r);break;case"video":case"audio":for(e=0;e<si.length;e++)fi(si[e],r);break;case"source":fi("error",r);break;case"img":case"image":case"link":fi("error",r),fi("load",r);break;case"details":fi("toggle",r);break;case"input":We(r,a),fi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fi("invalid",r);break;case"textarea":qe(r,a),fi("invalid",r)}for(var o in ut(n,a),e=null,a)a.hasOwnProperty(o)&&(i=a[o],"children"===o?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):q.hasOwnProperty(o)&&null!=i&&"onScroll"===o&&fi("scroll",r));switch(n){case"input":Ve(r),ze(r,a,!0);break;case"textarea":Ve(r),Ke(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Ci)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(o=9===i.nodeType?i:i.ownerDocument,e===Qe&&(e=Xe(n)),e===Qe?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Fi]=t,e[Vi]=r,Nl(e,t),t.stateNode=e,o=ct(n,r),n){case"dialog":fi("cancel",e),fi("close",e),i=r;break;case"iframe":case"object":case"embed":fi("load",e),i=r;break;case"video":case"audio":for(i=0;i<si.length;i++)fi(si[i],e);i=r;break;case"source":fi("error",e),i=r;break;case"img":case"image":case"link":fi("error",e),fi("load",e),i=r;break;case"details":fi("toggle",e),i=r;break;case"input":We(e,r),i=Re(e,r),fi("invalid",e);break;case"option":i=Ge(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),fi("invalid",e);break;case"textarea":qe(e,r),i=He(e,r),fi("invalid",e);break;default:i=r}ut(n,i);var l=i;for(a in l)if(l.hasOwnProperty(a)){var s=l[a];"style"===a?lt(e,s):"dangerouslySetInnerHTML"===a?null!=(s=s?s.__html:void 0)&&nt(e,s):"children"===a?"string"==typeof s?("textarea"!==n||""!==s)&&rt(e,s):"number"==typeof s&&rt(e,""+s):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(q.hasOwnProperty(a)?null!=s&&"onScroll"===a&&fi("scroll",e):null!=s&&ae(e,a,s,o))}switch(n){case"input":Ve(e),ze(e,r,!1);break;case"textarea":Ve(e),Ke(e);break;case"option":null!=r.value&&e.setAttribute("value",""+De(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?$e(e,!!r.multiple,a,!1):null!=r.defaultValue&&$e(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Ci)}Oi(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Al(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error($(166));n=go(po.current),go(ho.current),xo(t)?(r=t.stateNode,n=t.memoizedProps,r[Fi]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Fi]=t,t.stateNode=r)}return null;case 13:return Hi(So),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&xo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&So.current)?0===Ss&&(Ss=3):(0!==Ss&&3!==Ss||(Ss=4),null===gs||0==(134217727&Es)&&0==(134217727&ks)||eu(gs,vs))),(r||n)&&(t.flags|=4),null);case 4:return vo(),null===e&&pi(t.stateNode.containerInfo),null;case 10:return Wa(t),null;case 17:return Zi(t.type)&&ea(),null;case 19:if(Hi(So),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(o=r.rendering))if(a)zl(r,!1);else{if(0!==Ss||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=wo(e))){for(t.flags|=64,zl(r,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(o=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qi(So,1&So.current|2),t.child}e=e.sibling}null!==r.tail&&Oa()>Ps&&(t.flags|=64,a=!0,zl(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=wo(o))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!ko)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Oa()-r.renderingStartTime>Ps&&1073741824!==n&&(t.flags|=64,a=!0,zl(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Oa(),n.sibling=null,t=So.current,qi(So,a?1&t|2:1&t),n):null;case 23:case 24:return au(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error($(156,t.tag))}function Gl(e){switch(e.tag){case 1:Zi(e.type)&&ea();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(vo(),Hi(Qi),Hi(Ki),Ao(),0!=(64&(t=e.flags)))throw Error($(285));return e.flags=-4097&t|64,e;case 5:return bo(e),null;case 13:return Hi(So),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Hi(So),null;case 4:return vo(),null;case 10:return Wa(e),null;case 23:case 24:return au(),null;default:return null}}function $l(e,t){try{var n="",r=t;do{n+=Ie(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function Hl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Nl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Il=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,go(ho.current);var a,o=null;switch(n){case"input":i=Re(e,i),r=Re(e,r),o=[];break;case"option":i=Ge(e,i),r=Ge(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=He(e,i),r=He(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Ci)}for(u in ut(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(q.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(null!=s||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(u,n)),n=s;else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(o=o||[]).push(u,s)):"children"===u?"string"!=typeof s&&"number"!=typeof s||(o=o||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(q.hasOwnProperty(u)?(null!=s&&"onScroll"===u&&fi("scroll",e),o||l===s||(o=[])):"object"==typeof s&&null!==s&&s.$$typeof===Se?s.toString():(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Al=function(e,t,n,r){n!==r&&(t.flags|=4)};var ql="function"==typeof WeakMap?WeakMap:Map;function Jl(e,t,n){(n=Ha(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,Ds=r),Hl(0,t)},n}function Kl(e,t,n){(n=Ha(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Hl(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),Hl(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Ql="function"==typeof WeakSet?WeakSet:Set;function Yl(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){Cu(e,n)}else t.current=null}function Xl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Da(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&xi(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error($(163))}function Zl(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(bu(n,e),yu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Da(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Qa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Qa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Oi(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&sn(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($(163))}function es(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ot("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ts(e,t){if(oa&&"function"==typeof oa.onCommitFiberUnmount)try{oa.onCommitFiberUnmount(aa,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))bu(t,n);else{r=t;try{i()}catch(a){Cu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(Yl(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Cu(t,a)}break;case 5:Yl(t);break;case 4:ls(e,t)}}function ns(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:{for(var t=e.return;null!==t;){if(rs(t))break e;t=t.return}throw Error($(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error($(161))}16&n.flags&&(rt(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||rs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?as(e,n,t):os(e,n,t)}function as(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ci));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}function ls(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error($(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var o=e,l=i,s=l;;)if(ts(o,s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===l)break e;for(;null===s.sibling;){if(null===s.return||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(o=n,l=i.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ts(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Vi]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Me(n,r),ct(e,i),t=ct(e,r),i=0;i<a.length;i+=2){var o=a[i],l=a[i+1];"style"===o?lt(n,l):"dangerouslySetInnerHTML"===o?nt(n,l):"children"===o?rt(n,l):ae(n,o,l,t)}switch(e){case"input":Be(n,r);break;case"textarea":Je(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?$e(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?$e(n,!!r.multiple,r.defaultValue,!0):$e(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error($(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,sn(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(_s=Oa(),es(t.child,!0)),void us(t);case 19:return void us(t);case 17:return;case 23:case 24:return void es(t,null!==t.memoizedState)}throw Error($(163))}function us(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach((function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var hs=Math.ceil,fs=oe.ReactCurrentDispatcher,ds=oe.ReactCurrentOwner,ps=0,gs=null,ms=null,vs=0,ys=0,bs=$i(0),Ss=0,ws=null,Cs=0,Es=0,ks=0,Os=0,Ts=null,_s=0,Ps=1/0;function xs(){Ps=Oa()+500}var Ns,Is=null,As=!1,Ds=null,Fs=null,Vs=!1,Ls=null,js=90,Rs=[],Ws=[],Ms=null,Bs=0,zs=null,Us=-1,Gs=0,$s=0,Hs=null,qs=!1;function Js(){return 0!=(48&ps)?Oa():-1!==Us?Us:Us=Oa()}function Ks(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ta()?1:2;if(0===Gs&&(Gs=Cs),0!==Aa.transition){0!==$s&&($s=null!==Ts?Ts.pendingLanes:0),e=Gs;var t=4186112&~$s;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ta(),0!=(4&ps)&&98===e?e=Tn(12,Gs):e=Tn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Gs),e}function Qs(e,t,n){if(50<Bs)throw Bs=0,zs=null,Error($(185));if(null===(e=Ys(e,t)))return null;xn(e,t,n),e===gs&&(ks|=t,4===Ss&&eu(e,vs));var r=Ta();1===t?0!=(8&ps)&&0==(48&ps)?tu(e):(Xs(e,n),0===ps&&(xs(),Na())):(0==(4&ps)||98!==r&&99!==r||(null===Ms?Ms=new Set([e]):Ms.add(e)),Xs(e,n)),Ts=e}function Ys(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Xs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Nn(o),s=1<<l,u=a[l];if(-1===u){if(0==(s&r)||0!=(s&i)){u=t,En(s);var c=Cn;a[l]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=s);o&=~s}if(r=kn(e,e===gs?vs:0),t=Cn,0===r)null!==n&&(n!==ba&&ua(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ba&&ua(n)}15===t?(n=tu.bind(null,e),null===wa?(wa=[n],Ca=sa(pa,Ia)):wa.push(n),n=ba):14===t?n=xa(99,tu.bind(null,e)):n=xa(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($(358,e))}}(t),Zs.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Zs(e){if(Us=-1,$s=Gs=0,0!=(48&ps))throw Error($(327));var t=e.callbackNode;if(vu()&&e.callbackNode!==t)return null;var n=kn(e,e===gs?vs:0);if(0===n)return null;var r=n,i=ps;ps|=16;var a=su();for(gs===e&&vs===r||(xs(),ou(e,r));;)try{hu();break}catch(Hh){lu(e,Hh)}if(Ra(),fs.current=a,ps=i,null!==ms?r=0:(gs=null,vs=0,r=Ss),0!=(Cs&ks))ou(e,0);else if(0!==r){if(2===r&&(ps|=64,e.hydrate&&(e.hydrate=!1,xi(e.containerInfo)),0!==(n=On(e))&&(r=uu(e,n))),1===r)throw t=ws,ou(e,0),eu(e,n),Xs(e,Oa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error($(345));case 2:pu(e);break;case 3:if(eu(e,n),(62914560&n)===n&&10<(r=_s+500-Oa())){if(0!==kn(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Js(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_i(pu.bind(null,e),r);break}pu(e);break;case 4:if(eu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Nn(n);a=1<<o,(o=r[o])>i&&(i=o),n&=~a}if(n=i,10<(n=(120>(n=Oa()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hs(n/1960))-n)){e.timeoutHandle=_i(pu.bind(null,e),n);break}pu(e);break;case 5:pu(e);break;default:throw Error($(329))}}return Xs(e,Oa()),e.callbackNode===t?Zs.bind(null,e):null}function eu(e,t){for(t&=~Os,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nn(t),r=1<<n;e[n]=-1,t&=~r}}function tu(e){if(0!=(48&ps))throw Error($(327));if(vu(),e===gs&&0!=(e.expiredLanes&vs)){var t=vs,n=uu(e,t);0!=(Cs&ks)&&(n=uu(e,t=kn(e,t)))}else n=uu(e,t=kn(e,0));if(0!==e.tag&&2===n&&(ps|=64,e.hydrate&&(e.hydrate=!1,xi(e.containerInfo)),0!==(t=On(e))&&(n=uu(e,t))),1===n)throw n=ws,ou(e,0),eu(e,t),Xs(e,Oa()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,pu(e),Xs(e,Oa()),null}function nu(e,t){var n=ps;ps|=1;try{return e(t)}finally{0===(ps=n)&&(xs(),Na())}}function ru(e,t){var n=ps;ps&=-2,ps|=8;try{return e(t)}finally{0===(ps=n)&&(xs(),Na())}}function iu(e,t){qi(bs,ys),ys|=t,Cs|=t}function au(){ys=bs.current,Hi(bs)}function ou(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Pi(n)),null!==ms)for(n=ms.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ea();break;case 3:vo(),Hi(Qi),Hi(Ki),Ao();break;case 5:bo(r);break;case 4:vo();break;case 13:case 19:Hi(So);break;case 10:Wa(r);break;case 23:case 24:au()}n=n.return}gs=e,ms=Pu(e.current,null),vs=ys=Cs=t,Ss=0,ws=null,Os=ks=Es=0}function lu(e,t){for(;;){var n=ms;try{if(Ra(),Do.current=pl,Wo){for(var r=Lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Wo=!1}if(Vo=0,Ro=jo=Lo=null,Mo=!1,ds.current=null,null===n||null===n.return){Ss=1,ws=t,ms=null;break}e:{var a=e,o=n.return,l=n,s=t;if(t=vs,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var h=0!=(1&So.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var g=f.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(u),f.updateQueue=v}else m.add(u);if(0==(2&f.mode)){if(f.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var y=Ha(-1,1);y.tag=2,qa(l,y)}l.lanes|=1;break e}s=void 0,l=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new ql,s=new Set,b.set(u,s)):void 0===(s=b.get(u))&&(s=new Set,b.set(u,s)),!s.has(l)){s.add(l);var S=Eu.bind(null,a,u,l);u.then(S,S)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);s=Error((Ae(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ss&&(Ss=2),s=$l(s,l),f=o;do{switch(f.tag){case 3:a=s,f.flags|=4096,t&=-t,f.lanes|=t,Ja(f,Jl(0,a,t));break e;case 1:a=s;var w=f.type,C=f.stateNode;if(0==(64&f.flags)&&("function"==typeof w.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===Fs||!Fs.has(C)))){f.flags|=4096,t&=-t,f.lanes|=t,Ja(f,Kl(f,a,t));break e}}f=f.return}while(null!==f)}du(n)}catch(E){t=E,ms===n&&null!==n&&(ms=n=n.return);continue}break}}function su(){var e=fs.current;return fs.current=pl,null===e?pl:e}function uu(e,t){var n=ps;ps|=16;var r=su();for(gs===e&&vs===t||ou(e,t);;)try{cu();break}catch(i){lu(e,i)}if(Ra(),ps=n,fs.current=r,null!==ms)throw Error($(261));return gs=null,vs=0,Ss}function cu(){for(;null!==ms;)fu(ms)}function hu(){for(;null!==ms&&!ca();)fu(ms)}function fu(e){var t=Ns(e.alternate,e,ys);e.memoizedProps=e.pendingProps,null===t?du(e):ms=t,ds.current=null}function du(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Ul(n,t,ys)))return void(ms=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&ys)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Gl(t)))return n.flags&=2047,void(ms=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ms=t);ms=t=e}while(null!==t);0===Ss&&(Ss=5)}function pu(e){var t=Ta();return Pa(99,gu.bind(null,e,t)),null}function gu(e,t){do{vu()}while(null!==Ls);if(0!=(48&ps))throw Error($(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<a;){var s=31-Nn(a),u=1<<s;i[s]=0,o[s]=-1,l[s]=-1,a&=~u}if(null!==Ms&&0==(24&r)&&Ms.has(e)&&Ms.delete(e),e===gs&&(ms=gs=null,vs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ps,ps|=32,ds.current=null,Ei=Vn,Zr(o=Xr())){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,a=u.anchorOffset,s=u.focusNode,u=u.focusOffset;try{l.nodeType,s.nodeType}catch(O){l=null;break e}var c=0,h=-1,f=-1,d=0,p=0,g=o,m=null;t:for(;;){for(var v;g!==l||0!==a&&3!==g.nodeType||(h=c+a),g!==s||0!==u&&3!==g.nodeType||(f=c+u),3===g.nodeType&&(c+=g.nodeValue.length),null!==(v=g.firstChild);)m=g,g=v;for(;;){if(g===o)break t;if(m===l&&++d===a&&(h=c),m===s&&++p===u&&(f=c),null!==(v=g.nextSibling))break;m=(g=m).parentNode}g=v}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;ki={focusedElem:o,selectionRange:l},Vn=!1,Hs=null,qs=!1,Is=r;do{try{mu()}catch(O){if(null===Is)throw Error($(330));Cu(Is,O),Is=Is.nextEffect}}while(null!==Is);Hs=null,Is=r;do{try{for(o=e;null!==Is;){var y=Is.flags;if(16&y&&rt(Is.stateNode,""),128&y){var b=Is.alternate;if(null!==b){var S=b.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&y){case 2:is(Is),Is.flags&=-3;break;case 6:is(Is),Is.flags&=-3,ss(Is.alternate,Is);break;case 1024:Is.flags&=-1025;break;case 1028:Is.flags&=-1025,ss(Is.alternate,Is);break;case 4:ss(Is.alternate,Is);break;case 8:ls(o,l=Is);var w=l.alternate;ns(l),null!==w&&ns(w)}Is=Is.nextEffect}}catch(O){if(null===Is)throw Error($(330));Cu(Is,O),Is=Is.nextEffect}}while(null!==Is);if(S=ki,b=Xr(),y=S.focusedElem,o=S.selectionRange,b!==y&&y&&y.ownerDocument&&Yr(y.ownerDocument.documentElement,y)){null!==o&&Zr(y)&&(b=o.start,void 0===(S=o.end)&&(S=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(S,y.value.length)):(S=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(S=S.getSelection(),l=y.textContent.length,w=Math.min(o.start,l),o=void 0===o.end?w:Math.min(o.end,l),!S.extend&&w>o&&(l=o,o=w,w=l),l=Qr(y,w),a=Qr(y,o),l&&a&&(1!==S.rangeCount||S.anchorNode!==l.node||S.anchorOffset!==l.offset||S.focusNode!==a.node||S.focusOffset!==a.offset)&&((b=b.createRange()).setStart(l.node,l.offset),S.removeAllRanges(),w>o?(S.addRange(b),S.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),S.addRange(b))))),b=[];for(S=y;S=S.parentNode;)1===S.nodeType&&b.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(S=b[y]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Vn=!!Ei,ki=Ei=null,e.current=n,Is=r;do{try{for(y=e;null!==Is;){var C=Is.flags;if(36&C&&Zl(y,Is.alternate,Is),128&C){b=void 0;var E=Is.ref;if(null!==E){var k=Is.stateNode;switch(Is.tag){case 5:b=k;break;default:b=k}"function"==typeof E?E(b):E.current=b}}Is=Is.nextEffect}}catch(O){if(null===Is)throw Error($(330));Cu(Is,O),Is=Is.nextEffect}}while(null!==Is);Is=null,Sa(),ps=i}else e.current=n;if(Vs)Vs=!1,Ls=e,js=t;else for(Is=r;null!==Is;)t=Is.nextEffect,Is.nextEffect=null,8&Is.flags&&((C=Is).sibling=null,C.stateNode=null),Is=t;if(0===(r=e.pendingLanes)&&(Fs=null),1===r?e===zs?Bs++:(Bs=0,zs=e):Bs=0,n=n.stateNode,oa&&"function"==typeof oa.onCommitFiberRoot)try{oa.onCommitFiberRoot(aa,n,void 0,64==(64&n.current.flags))}catch(O){}if(Xs(e,Oa()),As)throw As=!1,e=Ds,Ds=null,e;return 0!=(8&ps)||Na(),null}function mu(){for(;null!==Is;){var e=Is.alternate;qs||null===Hs||(0!=(8&Is.flags)?Wt(Is,Hs)&&(qs=!0):13===Is.tag&&cs(e,Is)&&Wt(Is,Hs)&&(qs=!0));var t=Is.flags;0!=(256&t)&&Xl(e,Is),0==(512&t)||Vs||(Vs=!0,xa(97,(function(){return vu(),null}))),Is=Is.nextEffect}}function vu(){if(90!==js){var e=97<js?97:js;return js=90,Pa(e,Su)}return!1}function yu(e,t){Rs.push(t,e),Vs||(Vs=!0,xa(97,(function(){return vu(),null})))}function bu(e,t){Ws.push(t,e),Vs||(Vs=!0,xa(97,(function(){return vu(),null})))}function Su(){if(null===Ls)return!1;var e=Ls;if(Ls=null,0!=(48&ps))throw Error($(331));var t=ps;ps|=32;var n=Ws;Ws=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"==typeof o)try{o()}catch(s){if(null===a)throw Error($(330));Cu(a,s)}}for(n=Rs,Rs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(s){if(null===a)throw Error($(330));Cu(a,s)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return ps=t,Na(),!0}function wu(e,t,n){qa(e,t=Jl(0,t=$l(n,t),1)),t=Js(),null!==(e=Ys(e,1))&&(xn(e,1,t),Xs(e,t))}function Cu(e,t){if(3===e.tag)wu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){wu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){var i=Kl(n,e=$l(t,e),1);if(qa(n,i),i=Js(),null!==(n=Ys(n,1)))xn(n,1,i),Xs(n,i);else if("function"==typeof r.componentDidCatch&&(null===Fs||!Fs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Js(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(vs&n)===n&&(4===Ss||3===Ss&&(62914560&vs)===vs&&500>Oa()-_s?ou(e,0):Os|=n),Xs(e,t)}function ku(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ta()?1:2:(0===Gs&&(Gs=Cs),0===(t=_n(62914560&~Gs))&&(t=4194304))),n=Js(),null!==(e=Ys(e,t))&&(xn(e,t,n),Xs(e,n))}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new Ou(e,t,n,r)}function _u(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xu(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)_u(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case ue:return Nu(n.children,i,a,t);case we:o=8,i|=16;break;case ce:o=8,i|=1;break;case he:return(e=Tu(12,n,t,8|i)).elementType=he,e.type=he,e.lanes=a,e;case ge:return(e=Tu(13,n,t,i)).type=ge,e.elementType=ge,e.lanes=a,e;case me:return(e=Tu(19,n,t,i)).elementType=me,e.lanes=a,e;case Ce:return Iu(n,i,a,t);case Ee:return(e=Tu(24,n,t,i)).elementType=Ee,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fe:o=10;break e;case de:o=9;break e;case pe:o=11;break e;case ve:o=14;break e;case ye:o=16,r=null;break e;case be:o=22;break e}throw Error($(130,null==e?e:typeof e,""))}return(t=Tu(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nu(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function Iu(e,t,n,r){return(e=Tu(23,e,r,t)).elementType=Ce,e.lanes=n,e}function Au(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Pn(0),this.expirationTimes=Pn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.mutableSourceEagerHydrationData=null}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:se,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Lu(e,t,n,r){var i=t.current,a=Js(),o=Ks(i);e:if(n){t:{if(Vt(n=n._reactInternals)!==n||1!==n.tag)throw Error($(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Zi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error($(171))}if(1===n.tag){var s=n.type;if(Zi(s)){n=na(n,s,l);break e}}n=l}else n=Ji;return null===t.context?t.context=n:t.pendingContext=n,(t=Ha(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),qa(i,t),Qs(i,o,a),o}function ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ru(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function Mu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Fu(e,t,null!=n&&!0===n.hydrate),t=Tu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Ga(t),e[Li]=n.current,pi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Bu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof i){var l=i;i=function(){var e=ju(o);l.call(e)}}Lu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Mu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"==typeof i){var s=i;i=function(){var e=ju(o);s.call(e)}}ru((function(){Lu(t,o,e,i)}))}return ju(o)}function Uu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bu(t))throw Error($(200));return Vu(e,t,null,n)}Ns=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Qi.current)bl=!0;else{if(0==(n&r)){switch(bl=!1,t.tag){case 3:xl(t),No();break;case 5:yo(t);break;case 1:Zi(t.type)&&ra(t);break;case 4:mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;qi(Fa,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Fl(e,t,n):(qi(So,1&So.current),null!==(t=Bl(e,t,n))?t.sibling:null);qi(So,1&So.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ml(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),qi(So,So.current),r)break;return null;case 23:case 24:return t.lanes=0,kl(e,t,n)}return Bl(e,t,n)}bl=0!=(16384&e.flags)}else bl=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Xi(t,Ki.current),Ba(t,n),i=Uo(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(r)){var a=!0;ra(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ga(t);var o=r.getDerivedStateFromProps;"function"==typeof o&&Xa(t,r,o,e),i.updater=Za,t.stateNode=i,i._reactInternals=t,ro(t,r,e,n),t=Pl(null,t,r,!0,a,n)}else t.tag=0,Sl(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return _u(e)?1:0;if(null!=e){if((e=e.$$typeof)===pe)return 11;if(e===ve)return 14}return 2}(i),e=Da(i,e),a){case 0:t=Tl(null,t,i,e,n);break e;case 1:t=_l(null,t,i,e,n);break e;case 11:t=wl(null,t,i,e,n);break e;case 14:t=Cl(null,t,i,Da(i.type,e),r,n);break e}throw Error($(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:Da(r,i),n);case 1:return r=t.type,i=t.pendingProps,_l(e,t,r,i=t.elementType===r?i:Da(r,i),n);case 3:if(xl(t),r=t.updateQueue,null===e||null===r)throw Error($(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,$a(e,t),Ka(t,r,null,n),(r=t.memoizedState.element)===i)No(),t=Bl(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Eo=Ni(t.stateNode.containerInfo.firstChild),Co=t,a=ko=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Io.push(a);for(n=uo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Sl(e,t,r,n),No();t=t.child}return t;case 5:return yo(t),null===e&&_o(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,Ti(r,i)?o=null:null!==a&&Ti(r,a)&&(t.flags|=16),Ol(e,t),Sl(e,t,o,n),t.child;case 6:return null===e&&_o(t),null;case 13:return Fl(e,t,n);case 4:return mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=so(t,null,r,n):Sl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wl(e,t,r,i=t.elementType===r?i:Da(r,i),n);case 7:return Sl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Sl(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;var l=t.type._context;if(qi(Fa,l._currentValue),l._currentValue=a,null!==o)if(l=o.value,0===(a=Hr(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(o.children===i.children&&!Qi.current){t=Bl(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.dependencies;if(null!==s){o=l.child;for(var u=s.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&a)){1===l.tag&&((u=Ha(-1,n&-n)).tag=2,qa(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),Ma(l.return,n),s.lanes|=n;break}u=u.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Sl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,Ba(t,n),r=r(i=za(i,a.unstable_observedBits)),t.flags|=1,Sl(e,t,r,n),t.child;case 14:return a=Da(i=t.type,t.pendingProps),Cl(e,t,i,a=Da(i.type,a),r,n);case 15:return El(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Da(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zi(r)?(e=!0,ra(t)):e=!1,Ba(t,n),to(t,r,i),ro(t,r,i,n),Pl(null,t,r,!0,e,n);case 19:return Ml(e,t,n);case 23:case 24:return kl(e,t,n)}throw Error($(156,t.tag))},Mu.prototype.render=function(e){Lu(e,this._internalRoot,null,null)},Mu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Lu(null,e,null,(function(){t[Li]=null}))},Mt=function(e){13===e.tag&&(Qs(e,4,Js()),Wu(e,4))},Bt=function(e){13===e.tag&&(Qs(e,67108864,Js()),Wu(e,67108864))},zt=function(e){if(13===e.tag){var t=Js(),n=Ks(e);Qs(e,n,t),Wu(e,n)}},Ut=function(e,t){return t()},ft=function(e,t,n){switch(t){case"input":if(Be(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bi(r);if(!i)throw Error($(90));Le(r),Be(r,i)}}}break;case"textarea":Je(e,n);break;case"select":null!=(t=n.value)&&$e(e,!!n.multiple,t,!1)}},yt=nu,bt=function(e,t,n,r,i){var a=ps;ps|=4;try{return Pa(98,e.bind(null,t,n,r,i))}finally{0===(ps=a)&&(xs(),Na())}},St=function(){0==(49&ps)&&(function(){if(null!==Ms){var e=Ms;Ms=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Xs(e,Oa())}))}Na()}(),vu())},wt=function(e,t){var n=ps;ps|=2;try{return e(t)}finally{0===(ps=n)&&(xs(),Na())}};var Gu={Events:[Wi,Mi,Bi,mt,vt,vu,{current:!1}]},$u={findFiberByHostInstance:Ri,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Hu={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Rt(e))?null:e.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{aa=qu.inject(Hu),oa=qu}catch(tt){}}W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gu,W.createPortal=Uu,W.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error($(188));throw Error($(268,Object.keys(e)))}return e=null===(e=Rt(t))?null:e.stateNode},W.flushSync=function(e,t){var n=ps;if(0!=(48&n))return e(t);ps|=1;try{if(e)return Pa(99,e.bind(null,t))}finally{ps=n,Na()}},W.hydrate=function(e,t,n){if(!Bu(t))throw Error($(200));return zu(null,e,t,!0,n)},W.render=function(e,t,n){if(!Bu(t))throw Error($(200));return zu(null,e,t,!1,n)},W.unmountComponentAtNode=function(e){if(!Bu(e))throw Error($(40));return!!e._reactRootContainer&&(ru((function(){zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Li]=null}))})),!0)},W.unstable_batchedUpdates=nu,W.unstable_createPortal=function(e,t){return Uu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},W.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bu(n))throw Error($(200));if(null==e||void 0===e._reactInternals)throw Error($(38));return zu(e,t,n,!1,r)},W.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),R.exports=W;var Ju=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ku="-ms-",Qu="-moz-",Yu="-webkit-",Xu=Math.abs,Zu=String.fromCharCode;function ec(e){return e.trim()}function tc(e,t,n){return e.replace(t,n)}function nc(e,t){return e.indexOf(t)}function rc(e,t){return 0|e.charCodeAt(t)}function ic(e,t,n){return e.slice(t,n)}function ac(e){return e.length}function oc(e){return e.length}function lc(e,t){return t.push(e),e}var sc=1,uc=1,cc=0,hc=0,fc=0,dc="";function pc(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:sc,column:uc,length:o,return:""}}function gc(e,t,n){return pc(e,t.root,t.parent,n,t.props,t.children,0)}function mc(){return fc=hc<cc?rc(dc,hc++):0,uc++,10===fc&&(uc=1,sc++),fc}function vc(){return rc(dc,hc)}function yc(){return hc}function bc(e,t){return ic(dc,e,t)}function Sc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wc(e){return sc=uc=1,cc=ac(dc=e),hc=0,[]}function Cc(e){return dc="",e}function Ec(e){return ec(bc(hc-1,Tc(91===e?e+2:40===e?e+1:e)))}function kc(e){for(;(fc=vc())&&fc<33;)mc();return Sc(e)>2||Sc(fc)>3?"":" "}function Oc(e,t){for(;--t&&mc()&&!(fc<48||fc>102||fc>57&&fc<65||fc>70&&fc<97););return bc(e,yc()+(t<6&&32==vc()&&32==mc()))}function Tc(e){for(;mc();)switch(fc){case e:return hc;case 34:case 39:return Tc(34===e||39===e?e:fc);case 40:41===e&&Tc(e);break;case 92:mc()}return hc}function _c(e,t){for(;mc()&&e+fc!==57&&(e+fc!==84||47!==vc()););return"/*"+bc(t,hc-1)+"*"+Zu(47===e?e:mc())}function Pc(e){for(;!Sc(vc());)mc();return bc(e,hc)}function xc(e){return Cc(Nc("",null,null,null,[""],e=wc(e),0,[0],e))}function Nc(e,t,n,r,i,a,o,l,s){for(var u=0,c=0,h=o,f=0,d=0,p=0,g=1,m=1,v=1,y=0,b="",S=i,w=a,C=r,E=b;m;)switch(p=y,y=mc()){case 34:case 39:case 91:case 40:E+=Ec(y);break;case 9:case 10:case 13:case 32:E+=kc(p);break;case 92:E+=Oc(yc()-1,7);continue;case 47:switch(vc()){case 42:case 47:lc(Ac(_c(mc(),yc()),t,n),s);break;default:E+="/"}break;case 123*g:l[u++]=ac(E)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:d>0&&ac(E)-h&&lc(d>32?Dc(E+";",r,n,h-1):Dc(tc(E," ","")+";",r,n,h-2),s);break;case 59:E+=";";default:if(lc(C=Ic(E,t,n,u,c,i,l,b,S=[],w=[],h),a),123===y)if(0===c)Nc(E,t,C,C,S,a,h,l,w);else switch(f){case 100:case 109:case 115:Nc(e,C,C,r&&lc(Ic(e,C,C,0,0,i,l,b,i,S=[],h),w),i,w,h,l,r?S:w);break;default:Nc(E,C,C,C,[""],w,h,l,w)}}u=c=d=0,g=v=1,b=E="",h=o;break;case 58:h=1+ac(E),d=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==(fc=hc>0?rc(dc,--hc):0,uc--,10===fc&&(uc=1,sc--),fc))continue;switch(E+=Zu(y),y*g){case 38:v=c>0?1:(E+="\f",-1);break;case 44:l[u++]=(ac(E)-1)*v,v=1;break;case 64:45===vc()&&(E+=Ec(mc())),f=vc(),c=ac(b=E+=Pc(yc())),y++;break;case 45:45===p&&2==ac(E)&&(g=0)}}return a}function Ic(e,t,n,r,i,a,o,l,s,u,c){for(var h=i-1,f=0===i?a:[""],d=oc(f),p=0,g=0,m=0;p<r;++p)for(var v=0,y=ic(e,h+1,h=Xu(g=o[p])),b=e;v<d;++v)(b=ec(g>0?f[v]+" "+y:tc(y,/&\f/g,f[v])))&&(s[m++]=b);return pc(e,t,n,0===i?"rule":l,s,u,c)}function Ac(e,t,n){return pc(e,t,n,"comm",Zu(fc),ic(e,2,-2),0)}function Dc(e,t,n,r){return pc(e,t,n,"decl",ic(e,0,r),ic(e,r+1,-1),r)}function Fc(e,t){switch(function(e,t){return(((t<<2^rc(e,0))<<2^rc(e,1))<<2^rc(e,2))<<2^rc(e,3)}(e,t)){case 5103:return Yu+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yu+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Yu+e+Qu+e+Ku+e+e;case 6828:case 4268:return Yu+e+Ku+e+e;case 6165:return Yu+e+Ku+"flex-"+e+e;case 5187:return Yu+e+tc(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Yu+e+Ku+"flex-item-"+tc(e,/flex-|-self/,"")+e;case 4675:return Yu+e+Ku+"flex-line-pack"+tc(e,/align-content|flex-|-self/,"")+e;case 5548:return Yu+e+Ku+tc(e,"shrink","negative")+e;case 5292:return Yu+e+Ku+tc(e,"basis","preferred-size")+e;case 6060:return Yu+"box-"+tc(e,"-grow","")+Yu+e+Ku+tc(e,"grow","positive")+e;case 4554:return Yu+tc(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return tc(tc(tc(e,/(zoom-|grab)/,Yu+"$1"),/(image-set)/,Yu+"$1"),e,"")+e;case 5495:case 3959:return tc(e,/(image-set\([^]*)/,Yu+"$1$`$1");case 4968:return tc(tc(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yu+e+e;case 4095:case 3583:case 4068:case 2532:return tc(e,/(.+)-inline(.+)/,Yu+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ac(e)-1-t>6)switch(rc(e,t+1)){case 109:if(45!==rc(e,t+4))break;case 102:return tc(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Qu+(108==rc(e,t+3)?"$3":"$2-$3"))+e;case 115:return~nc(e,"stretch")?Fc(tc(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==rc(e,t+1))break;case 6444:switch(rc(e,ac(e)-3-(~nc(e,"!important")&&10))){case 107:return tc(e,":",":"+Yu)+e;case 101:return tc(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yu+(45===rc(e,14)?"inline-":"")+"box$3$1"+Yu+"$2$3$1"+Ku+"$2box$3")+e}break;case 5936:switch(rc(e,t+11)){case 114:return Yu+e+Ku+tc(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Yu+e+Ku+tc(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Yu+e+Ku+tc(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Yu+e+Ku+e+e}return e}function Vc(e,t){for(var n="",r=oc(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Lc(e,t,n,r){switch(e.type){case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"rule":e.value=e.props.join(",")}return ac(n=Vc(e.children,r))?e.return=e.value+"{"+n+"}":""}var jc=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};function Rc(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Wc=function(e,t){return Cc(function(e,t){var n=-1,r=44;do{switch(Sc(r)){case 0:38===r&&12===vc()&&(t[n]=1),e[n]+=Pc(hc-1);break;case 2:e[n]+=Ec(r);break;case 4:if(44===r){e[++n]=58===vc()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Zu(r)}}while(r=mc());return e}(wc(e),t))},Mc=new WeakMap,Bc=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Mc.get(n))&&!r){Mc.set(e,!0);for(var i=[],a=Wc(t,i),o=n.props,l=0,s=0;l<a.length;l++)for(var u=0;u<o.length;u++,s++)e.props[s]=i[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},zc=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Uc=[function(e,t,n,r){if(!e.return)switch(e.type){case"decl":e.return=Fc(e.value,e.length);break;case"@keyframes":return Vc([gc(tc(e.value,"@","@"+Yu),e,"")],r);case"rule":if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vc([gc(tc(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return Vc([gc(tc(t,/:(plac\w+)/,":-webkit-input-$1"),e,""),gc(tc(t,/:(plac\w+)/,":-moz-$1"),e,""),gc(tc(t,/:(plac\w+)/,Ku+"input-$1"),e,"")],r)}return""}))}}],Gc=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,a=e.stylisPlugins||Uc,o={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;l.push(e)}));var s,u,c,h,f=[Lc,(h=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],d=(u=[Bc,zc].concat(a,f),c=oc(u),function(e,t,n,r){for(var i="",a=0;a<c;a++)i+=u[a](e,t,n,r)||"";return i});i=function(e,t,n,r){s=n,Vc(xc(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new Ju({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:o,registered:{},insert:i};return p.sheet.hydrate(l),p};function $c(){return($c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Hc={exports:{}},qc={},Jc="function"==typeof Symbol&&Symbol.for,Kc=Jc?Symbol.for("react.element"):60103,Qc=Jc?Symbol.for("react.portal"):60106,Yc=Jc?Symbol.for("react.fragment"):60107,Xc=Jc?Symbol.for("react.strict_mode"):60108,Zc=Jc?Symbol.for("react.profiler"):60114,eh=Jc?Symbol.for("react.provider"):60109,th=Jc?Symbol.for("react.context"):60110,nh=Jc?Symbol.for("react.async_mode"):60111,rh=Jc?Symbol.for("react.concurrent_mode"):60111,ih=Jc?Symbol.for("react.forward_ref"):60112,ah=Jc?Symbol.for("react.suspense"):60113,oh=Jc?Symbol.for("react.suspense_list"):60120,lh=Jc?Symbol.for("react.memo"):60115,sh=Jc?Symbol.for("react.lazy"):60116,uh=Jc?Symbol.for("react.block"):60121,ch=Jc?Symbol.for("react.fundamental"):60117,hh=Jc?Symbol.for("react.responder"):60118,fh=Jc?Symbol.for("react.scope"):60119;function dh(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Kc:switch(e=e.type){case nh:case rh:case Yc:case Zc:case Xc:case ah:return e;default:switch(e=e&&e.$$typeof){case th:case ih:case sh:case lh:case eh:return e;default:return t}}case Qc:return t}}}function ph(e){return dh(e)===rh}qc.AsyncMode=nh,qc.ConcurrentMode=rh,qc.ContextConsumer=th,qc.ContextProvider=eh,qc.Element=Kc,qc.ForwardRef=ih,qc.Fragment=Yc,qc.Lazy=sh,qc.Memo=lh,qc.Portal=Qc,qc.Profiler=Zc,qc.StrictMode=Xc,qc.Suspense=ah,qc.isAsyncMode=function(e){return ph(e)||dh(e)===nh},qc.isConcurrentMode=ph,qc.isContextConsumer=function(e){return dh(e)===th},qc.isContextProvider=function(e){return dh(e)===eh},qc.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Kc},qc.isForwardRef=function(e){return dh(e)===ih},qc.isFragment=function(e){return dh(e)===Yc},qc.isLazy=function(e){return dh(e)===sh},qc.isMemo=function(e){return dh(e)===lh},qc.isPortal=function(e){return dh(e)===Qc},qc.isProfiler=function(e){return dh(e)===Zc},qc.isStrictMode=function(e){return dh(e)===Xc},qc.isSuspense=function(e){return dh(e)===ah},qc.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Yc||e===rh||e===Zc||e===Xc||e===ah||e===oh||"object"==typeof e&&null!==e&&(e.$$typeof===sh||e.$$typeof===lh||e.$$typeof===eh||e.$$typeof===th||e.$$typeof===ih||e.$$typeof===ch||e.$$typeof===hh||e.$$typeof===fh||e.$$typeof===uh)},qc.typeOf=dh,Hc.exports=qc;var gh=Hc.exports,mh={};mh[gh.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mh[gh.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var vh=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var yh={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bh=/[A-Z]|^ms/g,Sh=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wh=function(e){return 45===e.charCodeAt(1)},Ch=function(e){return null!=e&&"boolean"!=typeof e},Eh=Rc((function(e){return wh(e)?e:e.replace(bh,"-$&").toLowerCase()})),kh=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Sh,(function(e,t,n){return Th={name:t,styles:n,next:Th},t}))}return 1===yh[e]||wh(e)||"number"!=typeof t||0===t?t:t+"px"};function Oh(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Th={name:n.name,styles:n.styles,next:Th},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Th={name:r.name,styles:r.styles,next:Th},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Oh(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ch(o)&&(r+=Eh(a)+":"+kh(a,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=Oh(e,t,o);switch(a){case"animation":case"animationName":r+=Eh(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var s=0;s<o.length;s++)Ch(o[s])&&(r+=Eh(a)+":"+kh(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Th,a=n(e);return Th=i,Oh(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Th,_h=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ph=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Th=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Oh(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Oh(n,t,e[o]),r&&(i+=a[o]);_h.lastIndex=0;for(var l,s="";null!==(l=_h.exec(i));)s+="-"+l[1];return{name:function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+s,styles:i,next:Th}},xh=Object.prototype.hasOwnProperty,Nh=e.exports.createContext("undefined"!=typeof HTMLElement?Gc({key:"css"}):null);Nh.Provider;var Ih=function(t){return e.exports.forwardRef((function(n,r){var i=e.exports.useContext(Nh);return t(n,i,r)}))},Ah=e.exports.createContext({}),Dh=jc((function(e){return jc((function(t){return function(e,t){return"function"==typeof t?t(e):$c({},e,t)}(e,t)}))})),Fh=function(t){var n=e.exports.useContext(Ah);return t.theme!==n&&(n=Dh(n)(t.theme)),e.exports.createElement(Ah.Provider,{value:n},t.children)},Vh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Lh=function(e,t){var n={};for(var r in t)xh.call(t,r)&&(n[r]=t[r]);return n[Vh]=e,n},jh=Ih((function(t,n,r){var i=t.css;"string"==typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var a=t[Vh],o=[i],l="";"string"==typeof t.className?l=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,o,t.className):null!=t.className&&(l=t.className+" ");var s=Ph(o,void 0,e.exports.useContext(Ah));vh(n,s,"string"==typeof a),l+=n.key+"-"+s.name;var u={};for(var c in t)xh.call(t,c)&&"css"!==c&&c!==Vh&&(u[c]=t[c]);return u.ref=r,u.className=l,e.exports.createElement(a,u)})),Rh=function(t,n){var r=arguments;if(null==n||!xh.call(n,"css"))return e.exports.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=jh,a[1]=Lh(t,n);for(var o=2;o<i;o++)a[o]=r[o];return e.exports.createElement.apply(null,a)},Wh=Ih((function(t,n){var r=t.styles,i=Ph([r],void 0,e.exports.useContext(Ah)),a=e.exports.useRef();return e.exports.useLayoutEffect((function(){var e=n.key+"-global",t=new Ju({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),e.exports.useLayoutEffect((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&vh(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function Mh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ph(t)}var Bh=e.exports.createContext({dragDropManager:void 0}),zh={exports:{}},Uh={},Gh=e.exports,$h=60103;if(Uh.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var Hh=Symbol.for;$h=Hh("react.element"),Uh.Fragment=Hh("react.fragment")}var qh,Jh,Kh=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qh=Object.prototype.hasOwnProperty,Yh={key:!0,ref:!0,__self:!0,__source:!0};function Xh(e,t,n){var r,i={},a=null,o=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(o=t.ref),t)Qh.call(t,r)&&!Yh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:$h,type:e,key:a,ref:o,props:i,_owner:Kh.current}}function Zh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(a=new Error(t.replace(/%s/g,(function(){return r[o++]})))).name="Invariant Violation"}throw a.framesToPop=1,a}}Uh.jsx=Xh,Uh.jsxs=Xh,zh.exports=Uh,(Jh=qh||(qh={})).SOURCE="SOURCE",Jh.TARGET="TARGET";var ef="dnd-core/INIT_COORDS",tf="dnd-core/BEGIN_DRAG",nf="dnd-core/PUBLISH_DRAG_SOURCE",rf="dnd-core/HOVER",af="dnd-core/DROP",of="dnd-core/END_DRAG";function lf(e,t){return{type:ef,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function sf(e){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uf(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function cf(e,t){return e.filter((function(e){return e!==t}))}function hf(e){return"object"===sf(e)}function ff(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}var df={type:ef,payload:{clientOffset:null,sourceClientOffset:null}};function pf(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,a=n.clientOffset,o=n.getSourceClientOffset,l=e.getMonitor(),s=e.getRegistry();e.dispatch(lf(a)),gf(t,l,s);var u=yf(t,l);if(null!==u){var c=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");mf(o),c=o(u)}e.dispatch(lf(a,c));var h=s.getSource(u),f=h.beginDrag(l,u);if(null!=f){vf(f),s.pinSource(u);var d=s.getSourceType(u);return{type:tf,payload:{itemType:d,item:f,sourceId:u,clientOffset:a||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}else e.dispatch(df)}}function gf(e,t,n){Zh(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Zh(n.getSource(e),"Expected sourceIds to be registered.")}))}function mf(e){Zh("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function vf(e){Zh(hf(e),"Item must be an object.")}function yf(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function bf(e){return function(){if(e.getMonitor().isDragging())return{type:nf}}}function Sf(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function wf(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;Cf(t);var i=t.slice(0),a=e.getMonitor(),o=e.getRegistry();Ef(i,a,o);var l=a.getItemType();return kf(i,o,l),Of(i,a,o),{type:rf,payload:{targetIds:i,clientOffset:r||null}}}}function Cf(e){Zh(Array.isArray(e),"Expected targetIds to be an array.")}function Ef(e,t,n){Zh(t.isDragging(),"Cannot call hover while not dragging."),Zh(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];Zh(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array."),Zh(n.getTarget(i),"Expected targetIds to be registered.")}}function kf(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];Sf(t.getTargetType(i),n)||e.splice(r,1)}}function Of(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function Tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tf(Object(n),!0).forEach((function(t){Pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xf(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();Nf(n);var i=Af(n);i.forEach((function(i,a){var o=If(i,a,r,n),l={type:af,payload:{dropResult:_f(_f({},t),o)}};e.dispatch(l)}))}}function Nf(e){Zh(e.isDragging(),"Cannot call drop while not dragging."),Zh(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function If(e,t,n,r){var i=n.getTarget(e),a=i?i.drop(r,e):void 0;return function(e){Zh(void 0===e||hf(e),"Drop result must either be an object or undefined.")}(a),void 0===a&&(a=0===t?{}:r.getDropResult()),a}function Af(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Df(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Zh(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:of}}}function Ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lf=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vf(this,"store",void 0),Vf(this,"monitor",void 0),Vf(this,"backend",void 0),Vf(this,"isSetUp",!1),Vf(this,"handleRefCountChange",(function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))})),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:pf(e),publishDragSource:bf(e),hover:wf(e),drop:xf(e),endDrag:Df(e)}}(this);return Object.keys(n).reduce((function(r,i){var a,o=n[i];return r[i]=(a=o,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=a.apply(e,r);void 0!==o&&t(o)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Ff(t.prototype,n),r&&Ff(t,r),e}();function jf(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Rf="function"==typeof Symbol&&Symbol.observable||"@@observable",Wf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mf={INIT:"@@redux/INIT"+Wf(),REPLACE:"@@redux/REPLACE"+Wf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Wf()}};function Bf(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zf(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(jf(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(jf(1));return n(zf)(e,t)}if("function"!=typeof e)throw new Error(jf(2));var i=e,a=t,o=[],l=o,s=!1;function u(){l===o&&(l=o.slice())}function c(){if(s)throw new Error(jf(3));return a}function h(e){if("function"!=typeof e)throw new Error(jf(4));if(s)throw new Error(jf(5));var t=!0;return u(),l.push(e),function(){if(t){if(s)throw new Error(jf(6));t=!1,u();var n=l.indexOf(e);l.splice(n,1),o=null}}}function f(e){if(!Bf(e))throw new Error(jf(7));if(void 0===e.type)throw new Error(jf(8));if(s)throw new Error(jf(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=l,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!=typeof e)throw new Error(jf(10));i=e,f({type:Mf.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(jf(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Rf]=function(){return this},e}return f({type:Mf.INIT}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:d})[Rf]=p,r}var Uf=function(e,t){return e===t};function Gf(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function $f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uf;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function Hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(n),!0).forEach((function(t){Jf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kf={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Qf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kf,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case ef:case tf:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case rf:return Gf(e.clientOffset,n.clientOffset)?e:qf(qf({},e),{},{clientOffset:n.clientOffset});case of:case af:return Kf;default:return e}}var Yf="dnd-core/ADD_SOURCE",Xf="dnd-core/ADD_TARGET",Zf="dnd-core/REMOVE_SOURCE",ed="dnd-core/REMOVE_TARGET";function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach((function(t){rd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var id={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ad(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case tf:return nd(nd({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case nf:return nd(nd({},e),{},{isSourcePublic:!0});case rf:return nd(nd({},e),{},{targetIds:n.targetIds});case ed:return-1===e.targetIds.indexOf(n.targetId)?e:nd(nd({},e),{},{targetIds:cf(e.targetIds,n.targetId)});case af:return nd(nd({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case of:return nd(nd({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function od(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yf:case Xf:return e+1;case Zf:case ed:return e-1;default:return e}}var ld=[],sd=[];function ud(e,t){return e!==ld&&(e===sd||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function cd(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case rf:break;case Yf:case Xf:case ed:case Zf:return ld;case tf:case nf:case of:case af:default:return sd}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,a=void 0===i?[]:i,o=ff(r,a),l=o.length>0||!$f(r,a);if(!l)return ld;var s=a[a.length-1],u=r[r.length-1];return s!==u&&(s&&o.push(s),u&&o.push(u)),o}function hd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(n),!0).forEach((function(t){pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:cd(e.dirtyHandlerIds,{type:t.type,payload:dd(dd({},t.payload),{},{prevTargetIds:uf(e,"dragOperation.targetIds",[])})}),dragOffset:Qf(e.dragOffset,t),refCount:od(e.refCount,t),dragOperation:ad(e.dragOperation,t),stateId:hd(e.stateId)}}function md(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ld.__IS_NONE__=!0,sd.__IS_ALL__=!0;var bd=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yd(this,"store",void 0),yd(this,"registry",void 0),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;Zh("function"==typeof e,"listener must be a function."),Zh(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,a=function(){var n=t.store.getState(),a=n.stateId;try{a===i||a===i+1&&!ud(n.dirtyHandlerIds,r)||e()}finally{i=a}};return this.store.subscribe(a)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Zh("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Zh(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Zh(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&Sf(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Zh(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Sf(r,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var o=a.indexOf(e);return n?o===a.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset,t&&n&&r?md(function(e,t){return{x:e.x+t.x,y:e.y+t.y}}(t,r),n):null;var e,t,n,r}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?md(t,n):null;var e,t,n}}])&&vd(t.prototype,n),r&&vd(t,r),e}(),Sd=0;function wd(e){return(wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cd(e,t){t&&Array.isArray(e)?e.forEach((function(e){return Cd(e,!1)})):Zh("string"==typeof e||"symbol"===wd(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function Ed(e){Od.length||kd(),Od[Od.length]=e}var kd,Od=[],Td=0;function _d(){for(;Td<Od.length;){var e=Td;if(Td+=1,Od[e].call(),Td>1024){for(var t=0,n=Od.length-Td;t<n;t++)Od[t]=Od[t+Td];Od.length-=Td,Td=0}}Od.length=0,Td=0}var Pd,xd,Nd,Id="undefined"!=typeof global?global:self,Ad=Id.MutationObserver||Id.WebKitMutationObserver;function Dd(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof Ad?(Pd=1,xd=new Ad(_d),Nd=document.createTextNode(""),xd.observe(Nd,{characterData:!0}),kd=function(){Pd=-Pd,Nd.data=Pd}):kd=Dd(_d),Ed.requestFlush=kd,Ed.makeRequestCallFromTimer=Dd;var Fd=[],Vd=[],Ld=Ed.makeRequestCallFromTimer((function(){if(Vd.length)throw Vd.shift()}));function jd(e){var t;(t=Fd.length?Fd.pop():new Rd).task=e,Ed(t)}var Rd=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){jd.onerror?jd.onerror(e):(Vd.push(e),Ld())}finally{this.task=null,Fd[Fd.length]=this}},e}();function Wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ud(e){var t=(Sd++).toString();switch(e){case qh.SOURCE:return"S".concat(t);case qh.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Gd(e){switch(e[0]){case"S":return qh.SOURCE;case"T":return qh.TARGET;default:Zh(!1,"Cannot parse handler ID: ".concat(e))}}function $d(e,t){var n=e.entries(),r=!1;do{var i=n.next(),a=i.done;if(Bd(i.value,2)[1]===t)return!0;r=!!a}while(!r);return!1}var Hd=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Md(this,"types",new Map),Md(this,"dragSources",new Map),Md(this,"dropTargets",new Map),Md(this,"pinnedSourceId",null),Md(this,"pinnedSource",null),Md(this,"store",void 0),this.store=t}var t,n,r;return t=e,(n=[{key:"addSource",value:function(e,t){Cd(e),function(e){Zh("function"==typeof e.canDrag,"Expected canDrag to be a function."),Zh("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Zh("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(qh.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Yf,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Cd(e,!0),function(e){Zh("function"==typeof e.canDrop,"Expected canDrop to be a function."),Zh("function"==typeof e.hover,"Expected hover to be a function."),Zh("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(qh.TARGET,e,t);return this.store.dispatch(function(e){return{type:Xf,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return $d(this.dragSources,e)||$d(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Zh(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return Zh(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Zh(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Zh(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Gd(e)===qh.SOURCE}},{key:"isTargetId",value:function(e){return Gd(e)===qh.TARGET}},{key:"removeSource",value:function(e){var t=this;Zh(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Zf,payload:{sourceId:e}}}(e)),jd((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Zh(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ed,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Zh(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Zh(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=Ud(e);return this.types.set(r,t),e===qh.SOURCE?this.dragSources.set(r,n):e===qh.TARGET&&this.dropTargets.set(r,n),r}}])&&Wd(t.prototype,n),r&&Wd(t,r),e}();function qd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Jd(r),a=new bd(i,new Hd(i)),o=new Lf(i,a),l=e(o,t,n);return o.receiveBackend(l),o}function Jd(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return zf(gd,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Kd=["children"];function Qd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Zd=0,ep=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),tp=e.exports.memo((function(t){var n=t.children,r=Qd(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:np(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=t;i[ep]||(i[ep]={dragDropManager:qd(e,t,n,r)});return i[ep]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(Xd(t,Kd)),2),i=r[0],a=r[1];return e.exports.useEffect((function(){if(a){var e=np();return++Zd,function(){0==--Zd&&(e[ep]=null)}}}),[]),zh.exports.jsx(Bh.Provider,Object.assign({value:i},{children:n}),void 0)}));function np(){return"undefined"!=typeof global?global:window}function rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ap=!1,op=!1,lp=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ip(this,"internalMonitor",void 0),ip(this,"sourceId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Zh(!ap,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ap=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ap=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Zh(!op,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return op=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{op=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&rp(t.prototype,n),r&&rp(t,r),e}();function sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cp=!1,hp=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),up(this,"internalMonitor",void 0),up(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Zh(!cp,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return cp=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{cp=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&sp(t.prototype,n),r&&sp(t,r),e}();function fp(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function dp(t){var n={};return Object.keys(t).forEach((function(r){var i=t[r];if(r.endsWith("Ref"))n[r]=t[r];else{var a=function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e.exports.isValidElement(n)){var i=n;return t(i,r),i}var a=n;return fp(a),gp(a,r?function(e){return t(e,r)}:t)}}(i);n[r]=function(){return a}}})),n}function pp(e,t){"function"==typeof e?e(t):e.current=t}function gp(t,n){var r=t.ref;return Zh("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?e.exports.cloneElement(t,{ref:function(e){pp(r,e),pp(n,e)}}):e.exports.cloneElement(t,{ref:n})}function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e){return null!==e&&"object"===mp(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function yp(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var u=a[s];if(!l(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wp=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sp(this,"hooks",dp({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,vp(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,vp(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),Sp(this,"handlerId",null),Sp(this,"dragSourceRef",null),Sp(this,"dragSourceNode",void 0),Sp(this,"dragSourceOptionsInternal",null),Sp(this,"dragSourceUnsubscribe",void 0),Sp(this,"dragPreviewRef",null),Sp(this,"dragPreviewNode",void 0),Sp(this,"dragPreviewOptionsInternal",null),Sp(this,"dragPreviewUnsubscribe",void 0),Sp(this,"lastConnectedHandlerId",null),Sp(this,"lastConnectedDragSource",null),Sp(this,"lastConnectedDragSourceOptions",null),Sp(this,"lastConnectedDragPreview",null),Sp(this,"lastConnectedDragPreviewOptions",null),Sp(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!yp(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!yp(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&bp(t.prototype,n),r&&bp(t,r),e}();function Cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kp=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ep(this,"hooks",dp({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,vp(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),Ep(this,"handlerId",null),Ep(this,"dropTargetRef",null),Ep(this,"dropTargetNode",void 0),Ep(this,"dropTargetOptionsInternal",null),Ep(this,"unsubscribeDropTarget",void 0),Ep(this,"lastConnectedHandlerId",null),Ep(this,"lastConnectedDropTarget",null),Ep(this,"lastConnectedDropTargetOptions",null),Ep(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!yp(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&Cp(t.prototype,n),r&&Cp(t,r),e}();var Op="undefined"!=typeof window?e.exports.useLayoutEffect:e.exports.useEffect;function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xp=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pp(this,"spec",void 0),Pp(this,"monitor",void 0),Pp(this,"connector",void 0),this.spec=t,this.monitor=n,this.connector=r}var t,n,r;return t=e,(n=[{key:"beginDrag",value:function(){var e,t=this.spec,n=this.monitor;return null!==(e="object"===Tp(t.item)?t.item:"function"==typeof t.item?t.item(n):{})&&void 0!==e?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var n=this.spec,r=this.monitor,i=n.isDragging;return i?i(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,n=this.connector,r=e.end;r&&r(t.getItem(),t),n.reconnect()}}])&&_p(t.prototype,n),r&&_p(t,r),e}();function Np(){var t=e.exports.useContext(Bh).dragDropManager;return Zh(null!=t,"Expected drag drop context"),t}function Ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dp(t,n,r){var i=Np(),a=function(t,n,r){var i=e.exports.useMemo((function(){return new xp(t,n,r)}),[n,r]);return e.exports.useEffect((function(){i.spec=t}),[t]),i}(t,n,r),o=function(t){return e.exports.useMemo((function(){var e=t.type;return Zh(null!=e,"spec.type must be defined"),e}),[t])}(t);Op((function(){if(null!=o){var e=Ip(function(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}(o,a,i),2),t=e[0],l=e[1];return n.receiveHandlerId(t),r.receiveHandlerId(t),l}}),[i,n,r,a,o])}function Fp(e){return function(e){if(Array.isArray(e))return Vp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lp(t,n){var r=Fp(n||[]);return null==n&&"function"!=typeof t&&r.push(t),e.exports.useMemo((function(){return"function"==typeof t?t():t}),r)}var jp=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n};function Rp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mp(t,n,r){var i=Rp(e.exports.useState((function(){return n(t)})),2),a=i[0],o=i[1],l=e.exports.useCallback((function(){var e=n(t);jp(a,e)||(o(e),r&&r())}),[a,t,r]);return Op(l),[a,l]}function Bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Up(e,t,n){return function(e,t,n){var r=Bp(Mp(e,t,n),2),i=r[0],a=r[1];return Op((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(a,{handlerIds:[t]})}),[e,a]),i}(t,e||function(){return{}},(function(){return n.reconnect()}))}function Gp(t){return e.exports.useMemo((function(){return t.hooks.dragSource()}),[t])}function $p(t){return e.exports.useMemo((function(){return t.hooks.dragPreview()}),[t])}function Hp(t,n){var r=Lp(t,n);Zh(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var i,a=(i=Np(),e.exports.useMemo((function(){return new lp(i)}),[i])),o=function(t,n){var r=Np(),i=e.exports.useMemo((function(){return new wp(r.getBackend())}),[r]);return Op((function(){return i.dragSourceOptions=t||null,i.reconnect(),function(){return i.disconnectDragSource()}}),[i,t]),Op((function(){return i.dragPreviewOptions=n||null,i.reconnect(),function(){return i.disconnectDragPreview()}}),[i,n]),i}(r.options,r.previewOptions);return Dp(r,a,o),[Up(r.collect,a,o),Gp(o),$p(o)]}function qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kp=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jp(this,"spec",void 0),Jp(this,"monitor",void 0),this.spec=t,this.monitor=n}var t,n,r;return t=e,(n=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}])&&qp(t.prototype,n),r&&qp(t,r),e}();function Qp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xp(t,n,r){var i=Np(),a=function(t,n){var r=e.exports.useMemo((function(){return new Kp(t,n)}),[n]);return e.exports.useEffect((function(){r.spec=t}),[t]),r}(t,n),o=function(t){var n=t.accept;return e.exports.useMemo((function(){return Zh(null!=t.accept,"accept must be defined"),Array.isArray(n)?n:[n]}),[n])}(t);Op((function(){var e=Qp(function(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}(o,a,i),2),t=e[0],l=e[1];return n.receiveHandlerId(t),r.receiveHandlerId(t),l}),[i,n,a,r,o.map((function(e){return e.toString()})).join("|")])}function Zp(t){return e.exports.useMemo((function(){return t.hooks.dropTarget()}),[t])}function eg(t,n){var r,i=Lp(t,n),a=(r=Np(),e.exports.useMemo((function(){return new hp(r)}),[r])),o=function(t){var n=Np(),r=e.exports.useMemo((function(){return new kp(n.getBackend())}),[n]);return Op((function(){return r.dropTargetOptions=t||null,r.reconnect(),function(){return r.disconnectDropTarget()}}),[t]),r}(i.options);return Xp(i,a,o),[Up(i.collect,a,o),Zp(o)]}function tg(e){var t=null;return function(){return null==t&&(t=e()),t}}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ig=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rg(this,"entered",[]),rg(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&ng(t.prototype,n),r&&ng(t,r),e}(),ag=tg((function(){return/firefox/i.test(navigator.userAgent)})),og=tg((function(){return Boolean(window.safari)}));function lg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ug=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sg(this,"xs",void 0),sg(this,"ys",void 0),sg(this,"c1s",void 0),sg(this,"c2s",void 0),sg(this,"c3s",void 0);for(var r=t.length,i=[],a=0;a<r;a++)i.push(a);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var o,l,s=[],u=[],c=0;c<r-1;c++)o=t[c+1]-t[c],l=n[c+1]-n[c],s.push(o),u.push(l/o);for(var h=[u[0]],f=0;f<s.length-1;f++){var d=u[f],p=u[f+1];if(d*p<=0)h.push(0);else{o=s[f];var g=s[f+1],m=o+g;h.push(3*m/((m+g)/d+(m+o)/p))}}h.push(u[u.length-1]);for(var v,y=[],b=[],S=0;S<h.length-1;S++){v=u[S];var w=h[S],C=1/s[S],E=w+h[S+1]-v-v;y.push((v-w-E)*C),b.push(E*C*C)}this.xs=t,this.ys=n,this.c1s=h,this.c2s=y,this.c3s=b}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,a=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var l,s=0,u=a.length-1;s<=u;){var c=t[l=Math.floor(.5*(s+u))];if(c<e)s=l+1;else{if(!(c>e))return n[l];u=l-1}}var h=e-t[o=Math.max(0,u)],f=h*h;return n[o]+r[o]*h+i[o]*f+a[o]*h*f}}])&&lg(t.prototype,n),r&&lg(t,r),e}();function cg(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function hg(e){return{x:e.clientX,y:e.clientY}}function fg(e,t,n,r,i){var a,o=function(e){var t;return"IMG"===e.nodeName&&(ag()||!(null!==(t=document.documentElement)&&void 0!==t&&t.contains(e)))}(t),l=cg(o?e:t),s={x:n.x-l.x,y:n.y-l.y},u=e.offsetWidth,c=e.offsetHeight,h=r.anchorX,f=r.anchorY,d=function(e,t,n,r){var i=e?t.width:n,a=e?t.height:r;return og()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}(o,t,u,c),p=d.dragPreviewWidth,g=d.dragPreviewHeight,m=i.offsetX,v=i.offsetY,y=0===v||v;return{x:0===m||m?m:new ug([0,.5,1],[s.x,s.x/u*p,s.x+p-u]).interpolate(h),y:y?v:(a=new ug([0,.5,1],[s.y,s.y/c*g,s.y+g-c]).interpolate(f),og()&&o&&(a+=(window.devicePixelRatio-1)*g),a)}}var dg,pg="__NATIVE_FILE__",gg="__NATIVE_URL__",mg="__NATIVE_TEXT__",vg="__NATIVE_HTML__",yg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",FILE:pg,URL:gg,TEXT:mg,HTML:vg});function bg(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wg=(Sg(dg={},pg,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),Sg(dg,vg,{exposeProperties:{html:function(e,t){return bg(e,t,"")}},matchesTypes:["Html","text/html"]}),Sg(dg,gg,{exposeProperties:{urls:function(e,t){return bg(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),Sg(dg,mg,{exposeProperties:{text:function(e,t){return bg(e,t,"")}},matchesTypes:["Text","text/plain"]}),dg);function Cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kg=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Eg(this,"item",void 0),Eg(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&Cg(t.prototype,n),r&&Cg(t,r),e}();function Og(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(wg).filter((function(e){return wg[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pg=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_g(this,"ownerDocument",null),_g(this,"globalContext",void 0),_g(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&Tg(t.prototype,n),r&&Tg(t,r),e}();function xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xg(Object(n),!0).forEach((function(t){Ag(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dg=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ag(this,"options",void 0),Ag(this,"actions",void 0),Ag(this,"monitor",void 0),Ag(this,"registry",void 0),Ag(this,"enterLeaveCounter",void 0),Ag(this,"sourcePreviewNodes",new Map),Ag(this,"sourcePreviewNodeOptions",new Map),Ag(this,"sourceNodes",new Map),Ag(this,"sourceNodeOptions",new Map),Ag(this,"dragStartSourceIds",null),Ag(this,"dropTargetIds",[]),Ag(this,"dragEnterTargetIds",[]),Ag(this,"currentNativeSource",null),Ag(this,"currentNativeHandle",null),Ag(this,"currentDragSourceNode",null),Ag(this,"altKeyPressed",!1),Ag(this,"mouseMoveTimeoutTimer",null),Ag(this,"asyncEndDragFrameId",null),Ag(this,"dragOverTargetIds",null),Ag(this,"getSourceClientOffset",(function(e){var t=i.sourceNodes.get(e);return t&&cg(t)||null})),Ag(this,"endDragNativeItem",(function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)})),Ag(this,"isNodeInDocument",(function(e){return Boolean(e&&i.document&&i.document.body&&i.document.body.contains(e))})),Ag(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=i.currentDragSourceNode;null==e||i.isNodeInDocument(e)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()})),Ag(this,"handleTopDragStartCapture",(function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]})),Ag(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=i.dragStartSourceIds;i.dragStartSourceIds=null;var n=hg(e);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,a=Og(r);if(i.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var o=i.monitor.getSourceId(),l=i.sourceNodes.get(o),s=i.sourcePreviewNodes.get(o)||l;if(s){var u=i.getCurrentSourcePreviewNodeOptions(),c=fg(l,s,n,{anchorX:u.anchorX,anchorY:u.anchorY},{offsetX:u.offsetX,offsetY:u.offsetY});r.setDragImage(s,c.x,c.y)}}try{null==r||r.setData("application/json",{})}catch(h){}i.setCurrentDragSourceNode(e.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout((function(){return i.actions.publishDragSource()}),0)}else if(a)i.beginDragNativeItem(a);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),Ag(this,"handleTopDragEndCapture",(function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()})),Ag(this,"handleTopDragEnterCapture",(function(e){if(i.dragEnterTargetIds=[],i.enterLeaveCounter.enter(e.target)&&!i.monitor.isDragging()){var t=e.dataTransfer,n=Og(t);n&&i.beginDragNativeItem(n,t)}})),Ag(this,"handleTopDragEnter",(function(e){var t=i.dragEnterTargetIds;(i.dragEnterTargetIds=[],i.monitor.isDragging())&&(i.altKeyPressed=e.altKey,t.length>0&&i.actions.hover(t,{clientOffset:hg(e)}),t.some((function(e){return i.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())))})),Ag(this,"handleTopDragOverCapture",(function(){i.dragOverTargetIds=[]})),Ag(this,"handleTopDragOver",(function(e){var t=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));i.altKeyPressed=e.altKey,i.actions.hover(t||[],{clientOffset:hg(e)}),(t||[]).some((function(e){return i.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),Ag(this,"handleTopDragLeaveCapture",(function(e){i.isDraggingNativeItem()&&e.preventDefault(),i.enterLeaveCounter.leave(e.target)&&i.isDraggingNativeItem()&&setTimeout((function(){return i.endDragNativeItem()}),0)})),Ag(this,"handleTopDropCapture",(function(e){var t;(i.dropTargetIds=[],i.isDraggingNativeItem())?(e.preventDefault(),null===(t=i.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Og(e.dataTransfer)&&e.preventDefault();i.enterLeaveCounter.reset()})),Ag(this,"handleTopDrop",(function(e){var t=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(t,{clientOffset:hg(e)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()})),Ag(this,"handleSelectStart",(function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new Pg(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ig(this.isNodeInDocument)}var t,n,r;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},a=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",a),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},a=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",a),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Ng({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return Ng({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(yg).some((function(t){return yg[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new kg(wg[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&Ig(t.prototype,n),r&&Ig(t,r),e}(),Fg=function(e,t,n){return new Dg(e,t,n)},Vg={},Lg={},jg={},Rg={},Wg={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;class t{constructor(){if(this._components=[],this._componentsString=null,this._isRelative=!1,"string"==typeof arguments[0]){let e=arguments[0];this.componentsString=e}else if(arguments[0]instanceof t.Component&&arguments[1]instanceof t){let e=arguments[0],t=arguments[1];this._components.push(e),this._components=this._components.concat(t._components)}else if(arguments[0]instanceof Array){let e=arguments[0],t=!!arguments[1];this._components=this._components.concat(e),this._isRelative=t}}get isRelative(){return this._isRelative}get componentCount(){return this._components.length}get head(){return this._components.length>0?this._components[0]:null}get tail(){if(this._components.length>=2){let e=this._components.slice(1,this._components.length);return new t(e)}return t.self}get length(){return this._components.length}get lastComponent(){let e=this._components.length-1;return e>=0?this._components[e]:null}get containsNamedComponent(){for(let e=0,t=this._components.length;e<t;e++)if(!this._components[e].isIndex)return!0;return!1}static get self(){let e=new t;return e._isRelative=!0,e}GetComponent(e){return this._components[e]}PathByAppendingPath(e){let n=new t,r=0;for(let t=0;t<e._components.length&&e._components[t].isParent;++t)r++;for(let t=0;t<this._components.length-r;++t)n._components.push(this._components[t]);for(let t=r;t<e._components.length;++t)n._components.push(e._components[t]);return n}get componentsString(){return null==this._componentsString&&(this._componentsString=this._components.join("."),this.isRelative&&(this._componentsString="."+this._componentsString)),this._componentsString}set componentsString(e){if(this._components.length=0,this._componentsString=e,null==this._componentsString||""==this._componentsString)return;"."==this._componentsString[0]&&(this._isRelative=!0,this._componentsString=this._componentsString.substring(1));let n=this._componentsString.split(".");for(let r of n)/^(\-|\+)?([0-9]+|Infinity)$/.test(r)?this._components.push(new t.Component(parseInt(r))):this._components.push(new t.Component(r))}toString(){return this.componentsString}Equals(e){if(null==e)return!1;if(e._components.length!=this._components.length)return!1;if(e.isRelative!=this.isRelative)return!1;for(let t=0,n=e._components.length;t<n;t++)if(!e._components[t].Equals(this._components[t]))return!1;return!0}PathByAppendingComponent(e){let n=new t;return n._components.push(...this._components),n._components.push(e),n}}e.Path=t,t.parentId="^",function(e){class t{constructor(e){this.index=-1,this.name=null,"string"==typeof e?this.name=e:this.index=e}get isIndex(){return this.index>=0}get isParent(){return this.name==e.parentId}static ToParent(){return new t(e.parentId)}toString(){return this.isIndex?this.index.toString():this.name}Equals(e){return null!=e&&e.isIndex==this.isIndex&&(this.isIndex?this.index==e.index:this.name==e.name)}}e.Component=t}(t=e.Path||(e.Path={}))}(Wg);var Mg,Bg={};Mg=Bg,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.Debug=void 0,function(e){function t(e,t){if(!e)throw void 0!==t&&console.warn(t),console.trace&&console.trace(),new Error("")}e.AssertType=function(e,n,r){t(e instanceof n,r)},e.Assert=t}(Mg.Debug||(Mg.Debug={}));var zg={};function Ug(e,t){return e}Object.defineProperty(zg,"__esModule",{value:!0}),zg.isEquatable=zg.nullIfUndefined=zg.asINamedContentOrNull=zg.asBooleanOrThrows=zg.asNumberOrThrows=zg.asOrThrows=zg.asOrNull=void 0,zg.asOrNull=function(e,t){return e instanceof t?Ug(e):null},zg.asOrThrows=function(e,t){if(e instanceof t)return Ug(e);throw new Error(`${e} is not of type ${t}`)},zg.asNumberOrThrows=function(e){if("number"==typeof e)return e;throw new Error(`${e} is not a number`)},zg.asBooleanOrThrows=function(e){if("boolean"==typeof e)return e;throw new Error(`${e} is not a boolean`)},zg.asINamedContentOrNull=function(e){return e.hasValidName&&e.name?e:null},zg.nullIfUndefined=function(e){return void 0===e?null:e},zg.isEquatable=function(e){return"object"==typeof e&&"function"==typeof e.Equals};var Gg={};Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.throwNullException=Gg.NullException=void 0;class $g extends Error{}Gg.NullException=$g,Gg.throwNullException=function(e){throw new $g(`${e} is null or undefined`)},Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.InkObject=void 0;const Hg=Wg,qg=Lg,Jg=Bg,Kg=zg,Qg=Gg;Rg.InkObject=class{constructor(){this.parent=null,this._debugMetadata=null,this._path=null}get debugMetadata(){return null===this._debugMetadata&&this.parent?this.parent.debugMetadata:this._debugMetadata}set debugMetadata(e){this._debugMetadata=e}get ownDebugMetadata(){return this._debugMetadata}DebugLineNumberOfPath(e){if(null===e)return null;let t=this.rootContentContainer;if(t){let n=t.ContentAtPath(e).obj;if(n){let e=n.debugMetadata;if(null!==e)return e.startLineNumber}}return null}get path(){if(null==this._path)if(null==this.parent)this._path=new Hg.Path;else{let e=[],t=this,n=Kg.asOrNull(t.parent,qg.Container);for(;null!==n;){let r=Kg.asINamedContentOrNull(t);null!=r&&r.hasValidName?e.unshift(new Hg.Path.Component(r.name)):e.unshift(new Hg.Path.Component(n.content.indexOf(t))),t=n,n=Kg.asOrNull(n.parent,qg.Container)}this._path=new Hg.Path(e)}return this._path}ResolvePath(e){if(null===e)return Qg.throwNullException("path");if(e.isRelative){let t=Kg.asOrNull(this,qg.Container);return null===t&&(Jg.Debug.Assert(null!==this.parent,"Can't resolve relative path because we don't have a parent"),t=Kg.asOrNull(this.parent,qg.Container),Jg.Debug.Assert(null!==t,"Expected parent to be a container"),Jg.Debug.Assert(e.GetComponent(0).isParent),e=e.tail),null===t?Qg.throwNullException("nearestContainer"):t.ContentAtPath(e)}{let t=this.rootContentContainer;return null===t?Qg.throwNullException("contentContainer"):t.ContentAtPath(e)}}ConvertPathToRelative(e){let t=this.path,n=Math.min(e.length,t.length),r=-1;for(let o=0;o<n;++o){let n=t.GetComponent(o),i=e.GetComponent(o);if(!n.Equals(i))break;r=o}if(-1==r)return e;let i=t.componentCount-1-r,a=[];for(let o=0;o<i;++o)a.push(Hg.Path.Component.ToParent());for(let o=r+1;o<e.componentCount;++o)a.push(e.GetComponent(o));return new Hg.Path(a,!0)}CompactPathString(e){let t=null,n=null;if(e.isRelative)n=e.componentsString,t=this.path.PathByAppendingPath(e).componentsString;else{n=this.ConvertPathToRelative(e).componentsString,t=e.componentsString}return n.length<t.length?n:t}get rootContentContainer(){let e=this;for(;e.parent;)e=e.parent;return Kg.asOrNull(e,qg.Container)}Copy(){throw Error("Not Implemented: Doesn't support copying")}SetChild(e,t,n){e[t]&&(e[t]=null),e[t]=n,e[t]&&(e[t].parent=this)}};var Yg={},Xg={};Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.StringBuilder=void 0;Xg.StringBuilder=class{constructor(e){e=void 0!==e?e.toString():"",this.string=e}get Length(){return this.string.length}Append(e){null!==e&&(this.string+=e)}AppendLine(e){void 0!==e&&this.Append(e),this.string+="\n"}AppendFormat(e,...t){this.string+=e.replace(/{(\d+)}/g,((e,n)=>void 0!==t[n]?t[n]:e))}toString(){return this.string}},Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.InkList=Yg.InkListItem=void 0;const Zg=Gg,em=Xg;class tm{constructor(){if(this.originName=null,this.itemName=null,void 0!==arguments[1]){let e=arguments[0],t=arguments[1];this.originName=e,this.itemName=t}else if(arguments[0]){let e=arguments[0].toString().split(".");this.originName=e[0],this.itemName=e[1]}}static get Null(){return new tm(null,null)}get isNull(){return null==this.originName&&null==this.itemName}get fullName(){return(null!==this.originName?this.originName:"?")+"."+this.itemName}toString(){return this.fullName}Equals(e){if(e instanceof tm){let t=e;return t.itemName==this.itemName&&t.originName==this.originName}return!1}copy(){return new tm(this.originName,this.itemName)}serialized(){return JSON.stringify({originName:this.originName,itemName:this.itemName})}static fromSerializedKey(e){let t=JSON.parse(e);if(!tm.isLikeInkListItem(t))return tm.Null;let n=t;return new tm(n.originName,n.itemName)}static isLikeInkListItem(e){return"object"==typeof e&&(!(!e.hasOwnProperty("originName")||!e.hasOwnProperty("itemName"))&&(("string"==typeof e.originName||null===typeof e.originName)&&("string"==typeof e.itemName||null===typeof e.itemName)))}}Yg.InkListItem=tm;class nm extends Map{constructor(){if(super(arguments[0]instanceof nm?arguments[0]:[]),this.origins=null,this._originNames=[],arguments[0]instanceof nm){let e=arguments[0];this._originNames=e.originNames,null!==e.origins&&(this.origins=e.origins.slice())}else if("string"==typeof arguments[0]){let e=arguments[0],t=arguments[1];if(this.SetInitialOriginName(e),null===t.listDefinitions)return Zg.throwNullException("originStory.listDefinitions");let n=t.listDefinitions.TryListGetDefinition(e,null);if(!n.exists)throw new Error("InkList origin could not be found in story when constructing new list: "+e);if(null===n.result)return Zg.throwNullException("def.result");this.origins=[n.result]}else if("object"==typeof arguments[0]&&arguments[0].hasOwnProperty("Key")&&arguments[0].hasOwnProperty("Value")){let e=arguments[0];this.Add(e.Key,e.Value)}}static FromString(e,t){var n;let r=null===(n=t.listDefinitions)||void 0===n?void 0:n.FindSingleItemListWithName(e);if(r)return null===r.value?Zg.throwNullException("listValue.value"):new nm(r.value);throw new Error("Could not find the InkListItem from the string '"+e+"' to create an InkList because it doesn't exist in the original list definition in ink.")}AddItem(e){if(e instanceof tm){let t=e;if(null==t.originName)return void this.AddItem(t.itemName);if(null===this.origins)return Zg.throwNullException("this.origins");for(let e of this.origins)if(e.name==t.originName){let n=e.TryGetValueForItem(t,0);if(n.exists)return void this.Add(t,n.result);throw new Error("Could not add the item "+t+" to this list because it doesn't exist in the original list definition in ink.")}throw new Error("Failed to add item to list because the item was from a new list definition that wasn't previously known to this list. Only items from previously known lists can be used, so that the int value can be found.")}{let t=e,n=null;if(null===this.origins)return Zg.throwNullException("this.origins");for(let e of this.origins){if(null===t)return Zg.throwNullException("itemName");if(e.ContainsItemWithName(t)){if(null!=n)throw new Error("Could not add the item "+t+" to this list because it could come from either "+e.name+" or "+n.name);n=e}}if(null==n)throw new Error("Could not add the item "+t+" to this list because it isn't known to any list definitions previously associated with this list.");let r=new tm(n.name,t),i=n.ValueForItem(r);this.Add(r,i)}}ContainsItemNamed(e){for(let[t]of this){if(tm.fromSerializedKey(t).itemName==e)return!0}return!1}ContainsKey(e){return this.has(e.serialized())}Add(e,t){let n=e.serialized();if(this.has(n))throw new Error(`The Map already contains an entry for ${e}`);this.set(n,t)}Remove(e){return this.delete(e.serialized())}get Count(){return this.size}get originOfMaxItem(){if(null==this.origins)return null;let e=this.maxItem.Key.originName,t=null;return this.origins.every((n=>n.name!=e||(t=n,!1))),t}get originNames(){if(this.Count>0){null==this._originNames&&this.Count>0?this._originNames=[]:(this._originNames||(this._originNames=[]),this._originNames.length=0);for(let[e]of this){let t=tm.fromSerializedKey(e);if(null===t.originName)return Zg.throwNullException("item.originName");this._originNames.push(t.originName)}}return this._originNames}SetInitialOriginName(e){this._originNames=[e]}SetInitialOriginNames(e){this._originNames=null==e?null:e.slice()}get maxItem(){let e={Key:tm.Null,Value:0};for(let[t,n]of this){let r=tm.fromSerializedKey(t);(e.Key.isNull||n>e.Value)&&(e={Key:r,Value:n})}return e}get minItem(){let e={Key:tm.Null,Value:0};for(let[t,n]of this){let r=tm.fromSerializedKey(t);(e.Key.isNull||n<e.Value)&&(e={Key:r,Value:n})}return e}get inverse(){let e=new nm;if(null!=this.origins)for(let t of this.origins)for(let[n,r]of t.items){let t=tm.fromSerializedKey(n);this.ContainsKey(t)||e.Add(t,r)}return e}get all(){let e=new nm;if(null!=this.origins)for(let t of this.origins)for(let[n,r]of t.items){let t=tm.fromSerializedKey(n);e.set(t.serialized(),r)}return e}Union(e){let t=new nm(this);for(let[n,r]of e)t.set(n,r);return t}Intersect(e){let t=new nm;for(let[n,r]of this)e.has(n)&&t.set(n,r);return t}Without(e){let t=new nm(this);for(let[n]of e)t.delete(n);return t}Contains(e){for(let[t]of e)if(!this.has(t))return!1;return!0}GreaterThan(e){return 0!=this.Count&&(0==e.Count||this.minItem.Value>e.maxItem.Value)}GreaterThanOrEquals(e){return 0!=this.Count&&(0==e.Count||this.minItem.Value>=e.minItem.Value&&this.maxItem.Value>=e.maxItem.Value)}LessThan(e){return 0!=e.Count&&(0==this.Count||this.maxItem.Value<e.minItem.Value)}LessThanOrEquals(e){return 0!=e.Count&&(0==this.Count||this.maxItem.Value<=e.maxItem.Value&&this.minItem.Value<=e.minItem.Value)}MaxAsList(){return this.Count>0?new nm(this.maxItem):new nm}MinAsList(){return this.Count>0?new nm(this.minItem):new nm}ListWithSubRange(e,t){if(0==this.Count)return new nm;let n=this.orderedItems,r=0,i=Number.MAX_SAFE_INTEGER;Number.isInteger(e)?r=e:e instanceof nm&&e.Count>0&&(r=e.minItem.Value),Number.isInteger(t)?i=t:e instanceof nm&&e.Count>0&&(i=t.maxItem.Value);let a=new nm;a.SetInitialOriginNames(this.originNames);for(let o of n)o.Value>=r&&o.Value<=i&&a.Add(o.Key,o.Value);return a}Equals(e){if(e instanceof nm==!1)return!1;if(e.Count!=this.Count)return!1;for(let[t]of this)if(!e.has(t))return!1;return!0}get orderedItems(){let e=new Array;for(let[t,n]of this){let r=tm.fromSerializedKey(t);e.push({Key:r,Value:n})}return e.sort(((e,t)=>null===e.Key.originName?Zg.throwNullException("x.Key.originName"):null===t.Key.originName?Zg.throwNullException("y.Key.originName"):e.Value==t.Value?e.Key.originName.localeCompare(t.Key.originName):e.Value<t.Value?-1:e.Value>t.Value?1:0)),e}toString(){let e=this.orderedItems,t=new em.StringBuilder;for(let n=0;n<e.length;n++){n>0&&t.Append(", ");let r=e[n].Key;if(null===r.itemName)return Zg.throwNullException("item.itemName");t.Append(r.itemName)}return t.toString()}valueOf(){return NaN}}Yg.InkList=nm;var rm={};Object.defineProperty(rm,"__esModule",{value:!0}),rm.StoryException=void 0;class im extends Error{constructor(e){super(e),this.useEndLineNumber=!1,this.message=e,this.name="StoryException"}}rm.StoryException=im;var am={};Object.defineProperty(am,"__esModule",{value:!0}),am.tryParseFloat=am.tryParseInt=am.tryGetValueFromMap=void 0,am.tryGetValueFromMap=function(e,t,n){if(null===e)return{result:n,exists:!1};let r=e.get(t);return void 0===r?{result:n,exists:!1}:{result:r,exists:!0}},am.tryParseInt=function(e,t=0){let n=parseInt(e);return Number.isNaN(n)?{result:t,exists:!1}:{result:n,exists:!0}},am.tryParseFloat=function(e,t=0){let n=parseFloat(e);return Number.isNaN(n)?{result:t,exists:!1}:{result:n,exists:!0}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueType=e.ListValue=e.VariablePointerValue=e.DivertTargetValue=e.StringValue=e.FloatValue=e.IntValue=e.BoolValue=e.Value=e.AbstractValue=void 0;const t=Rg,n=Wg,r=Yg,i=rm,a=zg,o=am,l=Gg;class s extends t.InkObject{static Create(e,t){if(t){if(t===v.Int&&Number.isInteger(Number(e)))return new h(Number(e));if(t===v.Float&&!isNaN(e))return new f(Number(e))}return"boolean"==typeof e?new c(Boolean(e)):"string"==typeof e?new d(String(e)):Number.isInteger(Number(e))?new h(Number(e)):isNaN(e)?e instanceof n.Path?new p(a.asOrThrows(e,n.Path)):e instanceof r.InkList?new m(a.asOrThrows(e,r.InkList)):null:new f(Number(e))}Copy(){return a.asOrThrows(s.Create(this),t.InkObject)}BadCastException(e){return new i.StoryException("Can't cast "+this.valueObject+" from "+this.valueType+" to "+e)}}e.AbstractValue=s;class u extends s{constructor(e){super(),this.value=e}get valueObject(){return this.value}toString(){return null===this.value?l.throwNullException("Value.value"):this.value.toString()}}e.Value=u;class c extends u{constructor(e){super(e||!1)}get isTruthy(){return Boolean(this.value)}get valueType(){return v.Bool}Cast(e){if(null===this.value)return l.throwNullException("Value.value");if(e==this.valueType)return this;if(e==v.Int)return new h(this.value?1:0);if(e==v.Float)return new f(this.value?1:0);if(e==v.String)return new d(this.value?"true":"false");throw this.BadCastException(e)}toString(){return this.value?"true":"false"}}e.BoolValue=c;class h extends u{constructor(e){super(e||0)}get isTruthy(){return 0!=this.value}get valueType(){return v.Int}Cast(e){if(null===this.value)return l.throwNullException("Value.value");if(e==this.valueType)return this;if(e==v.Bool)return new c(0!==this.value);if(e==v.Float)return new f(this.value);if(e==v.String)return new d(""+this.value);throw this.BadCastException(e)}}e.IntValue=h;class f extends u{constructor(e){super(e||0)}get isTruthy(){return 0!=this.value}get valueType(){return v.Float}Cast(e){if(null===this.value)return l.throwNullException("Value.value");if(e==this.valueType)return this;if(e==v.Bool)return new c(0!==this.value);if(e==v.Int)return new h(this.value);if(e==v.String)return new d(""+this.value);throw this.BadCastException(e)}}e.FloatValue=f;class d extends u{constructor(e){if(super(e||""),this._isNewline="\n"==this.value,this._isInlineWhitespace=!0,null===this.value)return l.throwNullException("Value.value");this.value.length>0&&this.value.split("").every((e=>" "==e||"\t"==e||(this._isInlineWhitespace=!1,!1)))}get valueType(){return v.String}get isTruthy(){return null===this.value?l.throwNullException("Value.value"):this.value.length>0}get isNewline(){return this._isNewline}get isInlineWhitespace(){return this._isInlineWhitespace}get isNonWhitespace(){return!this.isNewline&&!this.isInlineWhitespace}Cast(e){if(e==this.valueType)return this;if(e==v.Int){let t=o.tryParseInt(this.value);if(t.exists)return new h(t.result);throw this.BadCastException(e)}if(e==v.Float){let t=o.tryParseFloat(this.value);if(t.exists)return new f(t.result);throw this.BadCastException(e)}throw this.BadCastException(e)}}e.StringValue=d;class p extends u{constructor(e){super(e)}get valueType(){return v.DivertTarget}get targetPath(){return null===this.value?l.throwNullException("Value.value"):this.value}set targetPath(e){this.value=e}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a divert target")}Cast(e){if(e==this.valueType)return this;throw this.BadCastException(e)}toString(){return"DivertTargetValue("+this.targetPath+")"}}e.DivertTargetValue=p;class g extends u{constructor(e,t=-1){super(e),this._contextIndex=t}get contextIndex(){return this._contextIndex}set contextIndex(e){this._contextIndex=e}get variableName(){return null===this.value?l.throwNullException("Value.value"):this.value}set variableName(e){this.value=e}get valueType(){return v.VariablePointer}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a variable pointer")}Cast(e){if(e==this.valueType)return this;throw this.BadCastException(e)}toString(){return"VariablePointerValue("+this.variableName+")"}Copy(){return new g(this.variableName,this.contextIndex)}}e.VariablePointerValue=g;class m extends u{get isTruthy(){return null===this.value?l.throwNullException("this.value"):this.value.Count>0}get valueType(){return v.List}Cast(e){if(null===this.value)return l.throwNullException("Value.value");if(e==v.Int){let e=this.value.maxItem;return e.Key.isNull?new h(0):new h(e.Value)}if(e==v.Float){let e=this.value.maxItem;return e.Key.isNull?new f(0):new f(e.Value)}if(e==v.String){let e=this.value.maxItem;return e.Key.isNull?new d(""):new d(e.Key.toString())}if(e==this.valueType)return this;throw this.BadCastException(e)}constructor(e,t){super(null),e||t?e instanceof r.InkList?this.value=new r.InkList(e):e instanceof r.InkListItem&&"number"==typeof t&&(this.value=new r.InkList({Key:e,Value:t})):this.value=new r.InkList}static RetainListOriginsForAssignment(e,t){let n=a.asOrNull(e,m),r=a.asOrNull(t,m);return r&&null===r.value?l.throwNullException("newList.value"):n&&null===n.value?l.throwNullException("oldList.value"):void(n&&r&&0==r.value.Count&&r.value.SetInitialOriginNames(n.value.originNames))}}var v,y;e.ListValue=m,(y=v=e.ValueType||(e.ValueType={}))[y.Bool=-1]="Bool",y[y.Int=0]="Int",y[y.Float=1]="Float",y[y.List=2]="List",y[y.String=3]="String",y[y.DivertTarget=4]="DivertTarget",y[y.VariablePointer=5]="VariablePointer"}(jg);var om={};Object.defineProperty(om,"__esModule",{value:!0}),om.SearchResult=void 0;const lm=Lg;class sm{constructor(){this.obj=null,this.approximate=!1}get correctObj(){return this.approximate?null:this.obj}get container(){return this.obj instanceof lm.Container?this.obj:null}copy(){let e=new sm;return e.obj=this.obj,e.approximate=this.approximate,e}}om.SearchResult=sm,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;const t=jg,n=Gg,r=Xg,i=Rg,a=om,o=Wg,l=Bg,s=am,u=zg;class c extends i.InkObject{constructor(){super(...arguments),this.name="",this._content=[],this.namedContent=new Map,this.visitsShouldBeCounted=!1,this.turnIndexShouldBeCounted=!1,this.countingAtStartOnly=!1,this._pathToFirstLeafContent=null}get hasValidName(){return null!=this.name&&this.name.length>0}get content(){return this._content}set content(e){this.AddContent(e)}get namedOnlyContent(){let e=new Map;for(let[t,n]of this.namedContent){let r=u.asOrThrows(n,i.InkObject);e.set(t,r)}for(let t of this.content){let n=u.asINamedContentOrNull(t);null!=n&&n.hasValidName&&e.delete(n.name)}return 0==e.size&&(e=null),e}set namedOnlyContent(e){let t=this.namedOnlyContent;if(null!=t)for(let[n]of t)this.namedContent.delete(n);if(null!=e)for(let[,n]of e){let e=u.asINamedContentOrNull(n);null!=e&&this.AddToNamedContentOnly(e)}}get countFlags(){let e=0;return this.visitsShouldBeCounted&&(e|=c.CountFlags.Visits),this.turnIndexShouldBeCounted&&(e|=c.CountFlags.Turns),this.countingAtStartOnly&&(e|=c.CountFlags.CountStartOnly),e==c.CountFlags.CountStartOnly&&(e=0),e}set countFlags(e){let t=e;(t&c.CountFlags.Visits)>0&&(this.visitsShouldBeCounted=!0),(t&c.CountFlags.Turns)>0&&(this.turnIndexShouldBeCounted=!0),(t&c.CountFlags.CountStartOnly)>0&&(this.countingAtStartOnly=!0)}get pathToFirstLeafContent(){return null==this._pathToFirstLeafContent&&(this._pathToFirstLeafContent=this.path.PathByAppendingPath(this.internalPathToFirstLeafContent)),this._pathToFirstLeafContent}get internalPathToFirstLeafContent(){let e=[],t=this;for(;t instanceof c;)t.content.length>0&&(e.push(new o.Path.Component(0)),t=t.content[0]);return new o.Path(e)}AddContent(e){if(e instanceof Array){let t=e;for(let e of t)this.AddContent(e)}else{let t=e;if(this._content.push(t),t.parent)throw new Error("content is already in "+t.parent);t.parent=this,this.TryAddNamedContent(t)}}TryAddNamedContent(e){let t=u.asINamedContentOrNull(e);null!=t&&t.hasValidName&&this.AddToNamedContentOnly(t)}AddToNamedContentOnly(e){l.Debug.AssertType(e,i.InkObject,"Can only add Runtime.Objects to a Runtime.Container"),u.asOrThrows(e,i.InkObject).parent=this,this.namedContent.set(e.name,e)}ContentAtPath(e,t=0,n=-1){-1==n&&(n=e.length);let r=new a.SearchResult;r.approximate=!1;let i=this,o=this;for(let a=t;a<n;++a){let t=e.GetComponent(a);if(null==i){r.approximate=!0;break}let n=i.ContentWithPathComponent(t);if(null==n){r.approximate=!0;break}o=n,i=u.asOrNull(n,c)}return r.obj=o,r}InsertContent(e,t){if(this.content[t]=e,e.parent)throw new Error("content is already in "+e.parent);e.parent=this,this.TryAddNamedContent(e)}AddContentsOfContainer(e){this.content=this.content.concat(e.content);for(let t of e.content)t.parent=this,this.TryAddNamedContent(t)}ContentWithPathComponent(e){if(e.isIndex)return e.index>=0&&e.index<this.content.length?this.content[e.index]:null;if(e.isParent)return this.parent;{if(null===e.name)return n.throwNullException("component.name");let t=s.tryGetValueFromMap(this.namedContent,e.name,null);return t.exists?u.asOrThrows(t.result,i.InkObject):null}}BuildStringOfHierarchy(){let e;if(0==arguments.length)return e=new r.StringBuilder,this.BuildStringOfHierarchy(e,0,null),e.toString();e=arguments[0];let n=arguments[1],a=arguments[2];function o(){for(let t=0;t<4*n;++t)e.Append(" ")}o(),e.Append("["),this.hasValidName&&e.AppendFormat(" ({0})",this.name),this==a&&e.Append("  <---"),e.AppendLine(),n++;for(let r=0;r<this.content.length;++r){let i=this.content[r];if(i instanceof c){i.BuildStringOfHierarchy(e,n,a)}else o(),i instanceof t.StringValue?(e.Append('"'),e.Append(i.toString().replace("\n","\\n")),e.Append('"')):e.Append(i.toString());r!=this.content.length-1&&e.Append(","),i instanceof c||i!=a||e.Append("  <---"),e.AppendLine()}let s=new Map;for(let[t,r]of this.namedContent)this.content.indexOf(u.asOrThrows(r,i.InkObject))>=0||s.set(t,r);if(s.size>0){o(),e.AppendLine("-- named: --");for(let[,t]of s){l.Debug.AssertType(t,c,"Can only print out named Containers"),t.BuildStringOfHierarchy(e,n,a),e.AppendLine()}}n--,o(),e.Append("]")}}var h,f;e.Container=c,h=c=e.Container||(e.Container={}),(f=h.CountFlags||(h.CountFlags={}))[f.Visits=1]="Visits",f[f.Turns=2]="Turns",f[f.CountStartOnly=4]="CountStartOnly"}(Lg);var um={},cm={};Object.defineProperty(cm,"__esModule",{value:!0}),cm.Glue=void 0;const hm=Rg;class fm extends hm.InkObject{toString(){return"Glue"}}cm.Glue=fm;var dm={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ControlCommand=void 0;const t=Rg;class n extends t.InkObject{constructor(e=n.CommandType.NotSet){super(),this._commandType=e}get commandType(){return this._commandType}Copy(){return new n(this.commandType)}static EvalStart(){return new n(n.CommandType.EvalStart)}static EvalOutput(){return new n(n.CommandType.EvalOutput)}static EvalEnd(){return new n(n.CommandType.EvalEnd)}static Duplicate(){return new n(n.CommandType.Duplicate)}static PopEvaluatedValue(){return new n(n.CommandType.PopEvaluatedValue)}static PopFunction(){return new n(n.CommandType.PopFunction)}static PopTunnel(){return new n(n.CommandType.PopTunnel)}static BeginString(){return new n(n.CommandType.BeginString)}static EndString(){return new n(n.CommandType.EndString)}static NoOp(){return new n(n.CommandType.NoOp)}static ChoiceCount(){return new n(n.CommandType.ChoiceCount)}static Turns(){return new n(n.CommandType.Turns)}static TurnsSince(){return new n(n.CommandType.TurnsSince)}static ReadCount(){return new n(n.CommandType.ReadCount)}static Random(){return new n(n.CommandType.Random)}static SeedRandom(){return new n(n.CommandType.SeedRandom)}static VisitIndex(){return new n(n.CommandType.VisitIndex)}static SequenceShuffleIndex(){return new n(n.CommandType.SequenceShuffleIndex)}static StartThread(){return new n(n.CommandType.StartThread)}static Done(){return new n(n.CommandType.Done)}static End(){return new n(n.CommandType.End)}static ListFromInt(){return new n(n.CommandType.ListFromInt)}static ListRange(){return new n(n.CommandType.ListRange)}static ListRandom(){return new n(n.CommandType.ListRandom)}toString(){return this.commandType.toString()}}var r,i;e.ControlCommand=n,r=n=e.ControlCommand||(e.ControlCommand={}),(i=r.CommandType||(r.CommandType={}))[i.NotSet=-1]="NotSet",i[i.EvalStart=0]="EvalStart",i[i.EvalOutput=1]="EvalOutput",i[i.EvalEnd=2]="EvalEnd",i[i.Duplicate=3]="Duplicate",i[i.PopEvaluatedValue=4]="PopEvaluatedValue",i[i.PopFunction=5]="PopFunction",i[i.PopTunnel=6]="PopTunnel",i[i.BeginString=7]="BeginString",i[i.EndString=8]="EndString",i[i.NoOp=9]="NoOp",i[i.ChoiceCount=10]="ChoiceCount",i[i.Turns=11]="Turns",i[i.TurnsSince=12]="TurnsSince",i[i.Random=13]="Random",i[i.SeedRandom=14]="SeedRandom",i[i.VisitIndex=15]="VisitIndex",i[i.SequenceShuffleIndex=16]="SequenceShuffleIndex",i[i.StartThread=17]="StartThread",i[i.Done=18]="Done",i[i.End=19]="End",i[i.ListFromInt=20]="ListFromInt",i[i.ListRange=21]="ListRange",i[i.ListRandom=22]="ListRandom",i[i.ReadCount=23]="ReadCount",i[i.TOTAL_VALUES=24]="TOTAL_VALUES"}(dm);var pm={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.PushPopType=void 0,(t=e.PushPopType||(e.PushPopType={}))[t.Tunnel=0]="Tunnel",t[t.Function=1]="Function",t[t.FunctionEvaluationFromGame=2]="FunctionEvaluationFromGame"}(pm);var gm={},mm={};Object.defineProperty(mm,"__esModule",{value:!0}),mm.Pointer=void 0;const vm=Wg;class ym{constructor(){this.container=null,this.index=-1,2===arguments.length&&(this.container=arguments[0],this.index=arguments[1])}Resolve(){return this.index<0?this.container:null==this.container?null:0==this.container.content.length?this.container:this.index>=this.container.content.length?null:this.container.content[this.index]}get isNull(){return null==this.container}get path(){return this.isNull?null:this.index>=0?this.container.path.PathByAppendingComponent(new vm.Path.Component(this.index)):this.container.path}toString(){return this.container?"Ink Pointer -> "+this.container.path.toString()+" -- index "+this.index:"Ink Pointer (null)"}copy(){return new ym(this.container,this.index)}static StartOf(e){return new ym(e,0)}static get Null(){return new ym(null,-1)}}mm.Pointer=ym,Object.defineProperty(gm,"__esModule",{value:!0}),gm.Divert=void 0;const bm=Wg,Sm=pm,wm=Xg,Cm=Rg,Em=mm,km=Lg,Om=Gg;class Tm extends Cm.InkObject{constructor(e){super(),this._targetPath=null,this._targetPointer=Em.Pointer.Null,this.variableDivertName=null,this.pushesToStack=!1,this.stackPushType=0,this.isExternal=!1,this.externalArgs=0,this.isConditional=!1,this.pushesToStack=!1,void 0!==e&&(this.pushesToStack=!0,this.stackPushType=e)}get targetPath(){if(null!=this._targetPath&&this._targetPath.isRelative){let e=this.targetPointer.Resolve();e&&(this._targetPath=e.path)}return this._targetPath}set targetPath(e){this._targetPath=e,this._targetPointer=Em.Pointer.Null}get targetPointer(){if(this._targetPointer.isNull){let e=this.ResolvePath(this._targetPath).obj;if(null===this._targetPath)return Om.throwNullException("this._targetPath");if(null===this._targetPath.lastComponent)return Om.throwNullException("this._targetPath.lastComponent");if(this._targetPath.lastComponent.isIndex){if(null===e)return Om.throwNullException("targetObj");this._targetPointer.container=e.parent instanceof km.Container?e.parent:null,this._targetPointer.index=this._targetPath.lastComponent.index}else this._targetPointer=Em.Pointer.StartOf(e instanceof km.Container?e:null)}return this._targetPointer.copy()}get targetPathString(){return null==this.targetPath?null:this.CompactPathString(this.targetPath)}set targetPathString(e){this.targetPath=null==e?null:new bm.Path(e)}get hasVariableTarget(){return null!=this.variableDivertName}Equals(e){let t=e;return t instanceof Tm&&this.hasVariableTarget==t.hasVariableTarget&&(this.hasVariableTarget?this.variableDivertName==t.variableDivertName:null===this.targetPath?Om.throwNullException("this.targetPath"):this.targetPath.Equals(t.targetPath))}toString(){if(this.hasVariableTarget)return"Divert(variable: "+this.variableDivertName+")";if(null==this.targetPath)return"Divert(null)";{let e=new wm.StringBuilder,t=this.targetPath.toString();return e.Append("Divert"),this.isConditional&&e.Append("?"),this.pushesToStack&&(this.stackPushType==Sm.PushPopType.Function?e.Append(" function"):e.Append(" tunnel")),e.Append(" -> "),e.Append(this.targetPathString),e.Append(" ("),e.Append(t),e.Append(")"),e.toString()}}}gm.Divert=Tm;var _m={};Object.defineProperty(_m,"__esModule",{value:!0}),_m.ChoicePoint=void 0;const Pm=Rg,xm=Wg,Nm=Gg;class Im extends Pm.InkObject{constructor(e=!0){super(),this._pathOnChoice=null,this.hasCondition=!1,this.hasStartContent=!1,this.hasChoiceOnlyContent=!1,this.isInvisibleDefault=!1,this.onceOnly=!0,this.onceOnly=e}get pathOnChoice(){if(null!=this._pathOnChoice&&this._pathOnChoice.isRelative){let e=this.choiceTarget;e&&(this._pathOnChoice=e.path)}return this._pathOnChoice}set pathOnChoice(e){this._pathOnChoice=e}get choiceTarget(){return null===this._pathOnChoice?Nm.throwNullException("ChoicePoint._pathOnChoice"):this.ResolvePath(this._pathOnChoice).container}get pathStringOnChoice(){return null===this.pathOnChoice?Nm.throwNullException("ChoicePoint.pathOnChoice"):this.CompactPathString(this.pathOnChoice)}set pathStringOnChoice(e){this.pathOnChoice=new xm.Path(e)}get flags(){let e=0;return this.hasCondition&&(e|=1),this.hasStartContent&&(e|=2),this.hasChoiceOnlyContent&&(e|=4),this.isInvisibleDefault&&(e|=8),this.onceOnly&&(e|=16),e}set flags(e){this.hasCondition=(1&e)>0,this.hasStartContent=(2&e)>0,this.hasChoiceOnlyContent=(4&e)>0,this.isInvisibleDefault=(8&e)>0,this.onceOnly=(16&e)>0}toString(){if(null===this.pathOnChoice)return Nm.throwNullException("ChoicePoint.pathOnChoice");return"Choice: -> "+this.pathOnChoice.toString()}}_m.ChoicePoint=Im;var Am={};Object.defineProperty(Am,"__esModule",{value:!0}),Am.VariableReference=void 0;const Dm=Rg,Fm=Wg;class Vm extends Dm.InkObject{constructor(e=null){super(),this.pathForCount=null,this.name=e}get containerForCount(){return null===this.pathForCount?null:this.ResolvePath(this.pathForCount).container}get pathStringForCount(){return null===this.pathForCount?null:this.CompactPathString(this.pathForCount)}set pathStringForCount(e){this.pathForCount=null===e?null:new Fm.Path(e)}toString(){if(null!=this.name)return"var("+this.name+")";return"read_count("+this.pathStringForCount+")"}}Am.VariableReference=Vm;var Lm={};Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.VariableAssignment=void 0;const jm=Rg;class Rm extends jm.InkObject{constructor(e,t){super(),this.variableName=e||null,this.isNewDeclaration=!!t,this.isGlobal=!1}toString(){return"VarAssign to "+this.variableName}}Lm.VariableAssignment=Rm;var Wm={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.Void=void 0;const Bm=Rg;class zm extends Bm.InkObject{}Mm.Void=zm,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.NativeFunctionCall=void 0;const Um=jg,Gm=rm,$m=Mm,Hm=Yg,qm=Rg,Jm=zg,Km=Gg;class Qm extends qm.InkObject{constructor(){if(super(),this._name=null,this._numberOfParameters=0,this._prototype=null,this._isPrototype=!1,this._operationFuncs=null,0===arguments.length)Qm.GenerateNativeFunctionsIfNecessary();else if(1===arguments.length){let e=arguments[0];Qm.GenerateNativeFunctionsIfNecessary(),this.name=e}else if(2===arguments.length){let e=arguments[0],t=arguments[1];this._isPrototype=!0,this.name=e,this.numberOfParameters=t}}static CallWithName(e){return new Qm(e)}static CallExistsWithName(e){return this.GenerateNativeFunctionsIfNecessary(),this._nativeFunctions.get(e)}get name(){return null===this._name?Km.throwNullException("NativeFunctionCall._name"):this._name}set name(e){this._name=e,this._isPrototype||(null===Qm._nativeFunctions?Km.throwNullException("NativeFunctionCall._nativeFunctions"):this._prototype=Qm._nativeFunctions.get(this._name)||null)}get numberOfParameters(){return this._prototype?this._prototype.numberOfParameters:this._numberOfParameters}set numberOfParameters(e){this._numberOfParameters=e}Call(e){if(this._prototype)return this._prototype.Call(e);if(this.numberOfParameters!=e.length)throw new Error("Unexpected number of parameters");let t=!1;for(let i of e){if(i instanceof $m.Void)throw new Gm.StoryException('Attempting to perform operation on a void value. Did you forget to "return" a value from a function you called here?');i instanceof Um.ListValue&&(t=!0)}if(2==e.length&&t)return this.CallBinaryListOperation(e);let n=this.CoerceValuesToSingleType(e),r=n[0].valueType;return r==Um.ValueType.Int||r==Um.ValueType.Float||r==Um.ValueType.String||r==Um.ValueType.DivertTarget||r==Um.ValueType.List?this.CallType(n):null}CallType(e){let t=Jm.asOrThrows(e[0],Um.Value),n=t.valueType,r=t,i=e.length;if(2==i||1==i){if(null===this._operationFuncs)return Km.throwNullException("NativeFunctionCall._operationFuncs");let a=this._operationFuncs.get(n);if(!a){const e=Um.ValueType[n];throw new Gm.StoryException("Cannot perform operation "+this.name+" on "+e)}if(2==i){let t=Jm.asOrThrows(e[1],Um.Value),n=a;if(null===r.value||null===t.value)return Km.throwNullException("NativeFunctionCall.Call BinaryOp values");let i=n(r.value,t.value);return Um.Value.Create(i)}{let e=a;if(null===r.value)return Km.throwNullException("NativeFunctionCall.Call UnaryOp value");let n=e(r.value);return this.name===Qm.Int?Um.Value.Create(n,Um.ValueType.Int):this.name===Qm.Float?Um.Value.Create(n,Um.ValueType.Float):Um.Value.Create(n,t.valueType)}}throw new Error("Unexpected number of parameters to NativeFunctionCall: "+e.length)}CallBinaryListOperation(e){if(("+"==this.name||"-"==this.name)&&e[0]instanceof Um.ListValue&&e[1]instanceof Um.IntValue)return this.CallListIncrementOperation(e);let t=Jm.asOrThrows(e[0],Um.Value),n=Jm.asOrThrows(e[1],Um.Value);if(!("&&"!=this.name&&"||"!=this.name||t.valueType==Um.ValueType.List&&n.valueType==Um.ValueType.List)){if(null===this._operationFuncs)return Km.throwNullException("NativeFunctionCall._operationFuncs");let e=this._operationFuncs.get(Um.ValueType.Int);if(null===e)return Km.throwNullException("NativeFunctionCall.CallBinaryListOperation op");let r=Jm.asBooleanOrThrows(e(t.isTruthy?1:0,n.isTruthy?1:0));return new Um.BoolValue(r)}if(t.valueType==Um.ValueType.List&&n.valueType==Um.ValueType.List)return this.CallType([t,n]);throw new Gm.StoryException("Can not call use "+this.name+" operation on "+Um.ValueType[t.valueType]+" and "+Um.ValueType[n.valueType])}CallListIncrementOperation(e){let t=Jm.asOrThrows(e[0],Um.ListValue),n=Jm.asOrThrows(e[1],Um.IntValue),r=new Hm.InkList;if(null===t.value)return Km.throwNullException("NativeFunctionCall.CallListIncrementOperation listVal.value");for(let[i,a]of t.value){let e=Hm.InkListItem.fromSerializedKey(i);if(null===this._operationFuncs)return Km.throwNullException("NativeFunctionCall._operationFuncs");let o=this._operationFuncs.get(Um.ValueType.Int);if(null===n.value)return Km.throwNullException("NativeFunctionCall.CallListIncrementOperation intVal.value");let l=o(a,n.value),s=null;if(null===t.value.origins)return Km.throwNullException("NativeFunctionCall.CallListIncrementOperation listVal.value.origins");for(let n of t.value.origins)if(n.name==e.originName){s=n;break}if(null!=s){let e=s.TryGetItemWithValue(l,Hm.InkListItem.Null);e.exists&&r.Add(e.result,l)}}return new Um.ListValue(r)}CoerceValuesToSingleType(e){let t=Um.ValueType.Int,n=null;for(let i of e){let e=Jm.asOrThrows(i,Um.Value);e.valueType>t&&(t=e.valueType),e.valueType==Um.ValueType.List&&(n=Jm.asOrNull(e,Um.ListValue))}let r=[];if(Um.ValueType[t]==Um.ValueType[Um.ValueType.List])for(let i of e){let e=Jm.asOrThrows(i,Um.Value);if(e.valueType==Um.ValueType.List)r.push(e);else{if(e.valueType!=Um.ValueType.Int){const t=Um.ValueType[e.valueType];throw new Gm.StoryException("Cannot mix Lists and "+t+" values in this operation")}{let t=parseInt(e.valueObject);if(n=Jm.asOrThrows(n,Um.ListValue),null===n.value)return Km.throwNullException("NativeFunctionCall.CoerceValuesToSingleType specialCaseList.value");let i=n.value.originOfMaxItem;if(null===i)return Km.throwNullException("NativeFunctionCall.CoerceValuesToSingleType list");let a=i.TryGetItemWithValue(t,Hm.InkListItem.Null);if(!a.exists)throw new Gm.StoryException("Could not find List item with the value "+t+" in "+i.name);{let e=new Um.ListValue(a.result,t);r.push(e)}}}}else for(let i of e){let e=Jm.asOrThrows(i,Um.Value).Cast(t);r.push(e)}return r}static Identity(e){return e}static GenerateNativeFunctionsIfNecessary(){if(null==this._nativeFunctions){this._nativeFunctions=new Map,this.AddIntBinaryOp(this.Add,((e,t)=>e+t)),this.AddIntBinaryOp(this.Subtract,((e,t)=>e-t)),this.AddIntBinaryOp(this.Multiply,((e,t)=>e*t)),this.AddIntBinaryOp(this.Divide,((e,t)=>Math.floor(e/t))),this.AddIntBinaryOp(this.Mod,((e,t)=>e%t)),this.AddIntUnaryOp(this.Negate,(e=>-e)),this.AddIntBinaryOp(this.Equal,((e,t)=>e==t)),this.AddIntBinaryOp(this.Greater,((e,t)=>e>t)),this.AddIntBinaryOp(this.Less,((e,t)=>e<t)),this.AddIntBinaryOp(this.GreaterThanOrEquals,((e,t)=>e>=t)),this.AddIntBinaryOp(this.LessThanOrEquals,((e,t)=>e<=t)),this.AddIntBinaryOp(this.NotEquals,((e,t)=>e!=t)),this.AddIntUnaryOp(this.Not,(e=>0==e)),this.AddIntBinaryOp(this.And,((e,t)=>0!=e&&0!=t)),this.AddIntBinaryOp(this.Or,((e,t)=>0!=e||0!=t)),this.AddIntBinaryOp(this.Max,((e,t)=>Math.max(e,t))),this.AddIntBinaryOp(this.Min,((e,t)=>Math.min(e,t))),this.AddIntBinaryOp(this.Pow,((e,t)=>Math.pow(e,t))),this.AddIntUnaryOp(this.Floor,Qm.Identity),this.AddIntUnaryOp(this.Ceiling,Qm.Identity),this.AddIntUnaryOp(this.Int,Qm.Identity),this.AddIntUnaryOp(this.Float,(e=>e)),this.AddFloatBinaryOp(this.Add,((e,t)=>e+t)),this.AddFloatBinaryOp(this.Subtract,((e,t)=>e-t)),this.AddFloatBinaryOp(this.Multiply,((e,t)=>e*t)),this.AddFloatBinaryOp(this.Divide,((e,t)=>e/t)),this.AddFloatBinaryOp(this.Mod,((e,t)=>e%t)),this.AddFloatUnaryOp(this.Negate,(e=>-e)),this.AddFloatBinaryOp(this.Equal,((e,t)=>e==t)),this.AddFloatBinaryOp(this.Greater,((e,t)=>e>t)),this.AddFloatBinaryOp(this.Less,((e,t)=>e<t)),this.AddFloatBinaryOp(this.GreaterThanOrEquals,((e,t)=>e>=t)),this.AddFloatBinaryOp(this.LessThanOrEquals,((e,t)=>e<=t)),this.AddFloatBinaryOp(this.NotEquals,((e,t)=>e!=t)),this.AddFloatUnaryOp(this.Not,(e=>0==e)),this.AddFloatBinaryOp(this.And,((e,t)=>0!=e&&0!=t)),this.AddFloatBinaryOp(this.Or,((e,t)=>0!=e||0!=t)),this.AddFloatBinaryOp(this.Max,((e,t)=>Math.max(e,t))),this.AddFloatBinaryOp(this.Min,((e,t)=>Math.min(e,t))),this.AddFloatBinaryOp(this.Pow,((e,t)=>Math.pow(e,t))),this.AddFloatUnaryOp(this.Floor,(e=>Math.floor(e))),this.AddFloatUnaryOp(this.Ceiling,(e=>Math.ceil(e))),this.AddFloatUnaryOp(this.Int,(e=>Math.floor(e))),this.AddFloatUnaryOp(this.Float,Qm.Identity),this.AddStringBinaryOp(this.Add,((e,t)=>e+t)),this.AddStringBinaryOp(this.Equal,((e,t)=>e===t)),this.AddStringBinaryOp(this.NotEquals,((e,t)=>!(e===t))),this.AddStringBinaryOp(this.Has,((e,t)=>e.includes(t))),this.AddStringBinaryOp(this.Hasnt,((e,t)=>!e.includes(t))),this.AddListBinaryOp(this.Add,((e,t)=>e.Union(t))),this.AddListBinaryOp(this.Subtract,((e,t)=>e.Without(t))),this.AddListBinaryOp(this.Has,((e,t)=>e.Contains(t))),this.AddListBinaryOp(this.Hasnt,((e,t)=>!e.Contains(t))),this.AddListBinaryOp(this.Intersect,((e,t)=>e.Intersect(t))),this.AddListBinaryOp(this.Equal,((e,t)=>e.Equals(t))),this.AddListBinaryOp(this.Greater,((e,t)=>e.GreaterThan(t))),this.AddListBinaryOp(this.Less,((e,t)=>e.LessThan(t))),this.AddListBinaryOp(this.GreaterThanOrEquals,((e,t)=>e.GreaterThanOrEquals(t))),this.AddListBinaryOp(this.LessThanOrEquals,((e,t)=>e.LessThanOrEquals(t))),this.AddListBinaryOp(this.NotEquals,((e,t)=>!e.Equals(t))),this.AddListBinaryOp(this.And,((e,t)=>e.Count>0&&t.Count>0)),this.AddListBinaryOp(this.Or,((e,t)=>e.Count>0||t.Count>0)),this.AddListUnaryOp(this.Not,(e=>0==e.Count?1:0)),this.AddListUnaryOp(this.Invert,(e=>e.inverse)),this.AddListUnaryOp(this.All,(e=>e.all)),this.AddListUnaryOp(this.ListMin,(e=>e.MinAsList())),this.AddListUnaryOp(this.ListMax,(e=>e.MaxAsList())),this.AddListUnaryOp(this.Count,(e=>e.Count)),this.AddListUnaryOp(this.ValueOfList,(e=>e.maxItem.Value));let e=(e,t)=>e.Equals(t),t=(e,t)=>!e.Equals(t);this.AddOpToNativeFunc(this.Equal,2,Um.ValueType.DivertTarget,e),this.AddOpToNativeFunc(this.NotEquals,2,Um.ValueType.DivertTarget,t)}}AddOpFuncForType(e,t){null==this._operationFuncs&&(this._operationFuncs=new Map),this._operationFuncs.set(e,t)}static AddOpToNativeFunc(e,t,n,r){if(null===this._nativeFunctions)return Km.throwNullException("NativeFunctionCall._nativeFunctions");let i=this._nativeFunctions.get(e);i||(i=new Qm(e,t),this._nativeFunctions.set(e,i)),i.AddOpFuncForType(n,r)}static AddIntBinaryOp(e,t){this.AddOpToNativeFunc(e,2,Um.ValueType.Int,t)}static AddIntUnaryOp(e,t){this.AddOpToNativeFunc(e,1,Um.ValueType.Int,t)}static AddFloatBinaryOp(e,t){this.AddOpToNativeFunc(e,2,Um.ValueType.Float,t)}static AddFloatUnaryOp(e,t){this.AddOpToNativeFunc(e,1,Um.ValueType.Float,t)}static AddStringBinaryOp(e,t){this.AddOpToNativeFunc(e,2,Um.ValueType.String,t)}static AddListBinaryOp(e,t){this.AddOpToNativeFunc(e,2,Um.ValueType.List,t)}static AddListUnaryOp(e,t){this.AddOpToNativeFunc(e,1,Um.ValueType.List,t)}toString(){return'Native "'+this.name+'"'}}Wm.NativeFunctionCall=Qm,Qm.Add="+",Qm.Subtract="-",Qm.Divide="/",Qm.Multiply="*",Qm.Mod="%",Qm.Negate="_",Qm.Equal="==",Qm.Greater=">",Qm.Less="<",Qm.GreaterThanOrEquals=">=",Qm.LessThanOrEquals="<=",Qm.NotEquals="!=",Qm.Not="!",Qm.And="&&",Qm.Or="||",Qm.Min="MIN",Qm.Max="MAX",Qm.Pow="POW",Qm.Floor="FLOOR",Qm.Ceiling="CEILING",Qm.Int="INT",Qm.Float="FLOAT",Qm.Has="?",Qm.Hasnt="!?",Qm.Intersect="^",Qm.ListMin="LIST_MIN",Qm.ListMax="LIST_MAX",Qm.All="LIST_ALL",Qm.Count="LIST_COUNT",Qm.ValueOfList="LIST_VALUE",Qm.Invert="LIST_INVERT",Qm._nativeFunctions=null;var Ym={};Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.Tag=void 0;const Xm=Rg;class Zm extends Xm.InkObject{constructor(e){super(),this.text=e.toString()||""}toString(){return"# "+this.text}}Ym.Tag=Zm;var ev={};Object.defineProperty(ev,"__esModule",{value:!0}),ev.Choice=void 0;const tv=Wg,nv=Gg,rv=Rg;class iv extends rv.InkObject{constructor(){super(...arguments),this.text="",this.index=0,this.threadAtGeneration=null,this.sourcePath="",this.targetPath=null,this.isInvisibleDefault=!1,this.originalThreadIndex=0}get pathStringOnChoice(){return null===this.targetPath?nv.throwNullException("Choice.targetPath"):this.targetPath.toString()}set pathStringOnChoice(e){this.targetPath=new tv.Path(e)}}ev.Choice=iv;var av={};Object.defineProperty(av,"__esModule",{value:!0}),av.ListDefinition=void 0;const ov=Yg;av.ListDefinition=class{constructor(e,t){this._name=e||"",this._items=null,this._itemNameToValues=t||new Map}get name(){return this._name}get items(){if(null==this._items){this._items=new Map;for(let[e,t]of this._itemNameToValues){let n=new ov.InkListItem(this.name,e);this._items.set(n.serialized(),t)}}return this._items}ValueForItem(e){if(!e.itemName)return 0;let t=this._itemNameToValues.get(e.itemName);return void 0!==t?t:0}ContainsItem(e){return!!e.itemName&&(e.originName==this.name&&this._itemNameToValues.has(e.itemName))}ContainsItemWithName(e){return this._itemNameToValues.has(e)}TryGetItemWithValue(e,t){for(let[n,r]of this._itemNameToValues)if(r==e)return{result:new ov.InkListItem(this.name,n),exists:!0};return{result:ov.InkListItem.Null,exists:!1}}TryGetValueForItem(e,t){if(!e.itemName)return{result:0,exists:!1};let n=this._itemNameToValues.get(e.itemName);return n?{result:n,exists:!0}:{result:0,exists:!1}}};var lv={};Object.defineProperty(lv,"__esModule",{value:!0}),lv.ListDefinitionsOrigin=void 0;const sv=Yg,uv=jg,cv=Gg;lv.ListDefinitionsOrigin=class{constructor(e){this._lists=new Map,this._allUnambiguousListValueCache=new Map;for(let t of e){this._lists.set(t.name,t);for(let[e,n]of t.items){let t=sv.InkListItem.fromSerializedKey(e),r=new uv.ListValue(t,n);if(!t.itemName)throw new Error("item.itemName is null or undefined.");this._allUnambiguousListValueCache.set(t.itemName,r),this._allUnambiguousListValueCache.set(t.fullName,r)}}}get lists(){let e=[];for(let[,t]of this._lists)e.push(t);return e}TryListGetDefinition(e,t){if(null===e)return{result:t,exists:!1};let n=this._lists.get(e);return n?{result:n,exists:!0}:{result:t,exists:!1}}FindSingleItemListWithName(e){if(null===e)return cv.throwNullException("name");let t=this._allUnambiguousListValueCache.get(e);return void 0!==t?t:null}},Object.defineProperty(um,"__esModule",{value:!0}),um.JsonSerialisation=void 0;const hv=Lg,fv=jg,dv=cm,pv=dm,gv=pm,mv=gm,vv=_m,yv=Am,bv=Lm,Sv=Wm,wv=Mm,Cv=Ym,Ev=Wg,kv=ev,Ov=av,Tv=lv,_v=Yg,Pv=zg,xv=Gg;class Nv{static JArrayToRuntimeObjList(e,t=!1){let n=e.length;t&&n--;let r=[];for(let i=0;i<n;i++){let t=e[i],n=this.JTokenToRuntimeObject(t);if(null===n)return xv.throwNullException("runtimeObj");r.push(n)}return r}static WriteDictionaryRuntimeObjs(e,t){e.WriteObjectStart();for(let[n,r]of t)e.WritePropertyStart(n),this.WriteRuntimeObject(e,r),e.WritePropertyEnd();e.WriteObjectEnd()}static WriteListRuntimeObjs(e,t){e.WriteArrayStart();for(let n of t)this.WriteRuntimeObject(e,n);e.WriteArrayEnd()}static WriteIntDictionary(e,t){e.WriteObjectStart();for(let[n,r]of t)e.WriteIntProperty(n,r);e.WriteObjectEnd()}static WriteRuntimeObject(e,t){let n=Pv.asOrNull(t,hv.Container);if(n)return void this.WriteRuntimeContainer(e,n);let r=Pv.asOrNull(t,mv.Divert);if(r){let t,n="->";return r.isExternal?n="x()":r.pushesToStack&&(r.stackPushType==gv.PushPopType.Function?n="f()":r.stackPushType==gv.PushPopType.Tunnel&&(n="->t->")),t=r.hasVariableTarget?r.variableDivertName:r.targetPathString,e.WriteObjectStart(),e.WriteProperty(n,t),r.hasVariableTarget&&e.WriteProperty("var",!0),r.isConditional&&e.WriteProperty("c",!0),r.externalArgs>0&&e.WriteIntProperty("exArgs",r.externalArgs),void e.WriteObjectEnd()}let i=Pv.asOrNull(t,vv.ChoicePoint);if(i)return e.WriteObjectStart(),e.WriteProperty("*",i.pathStringOnChoice),e.WriteIntProperty("flg",i.flags),void e.WriteObjectEnd();let a=Pv.asOrNull(t,fv.BoolValue);if(a)return void e.WriteBool(a.value);let o=Pv.asOrNull(t,fv.IntValue);if(o)return void e.WriteInt(o.value);let l=Pv.asOrNull(t,fv.FloatValue);if(l)return void e.WriteFloat(l.value);let s=Pv.asOrNull(t,fv.StringValue);if(s)return void(s.isNewline?e.Write("\n",!1):(e.WriteStringStart(),e.WriteStringInner("^"),e.WriteStringInner(s.value),e.WriteStringEnd()));let u=Pv.asOrNull(t,fv.ListValue);if(u)return void this.WriteInkList(e,u);let c=Pv.asOrNull(t,fv.DivertTargetValue);if(c)return e.WriteObjectStart(),null===c.value?xv.throwNullException("divTargetVal.value"):(e.WriteProperty("^->",c.value.componentsString),void e.WriteObjectEnd());let h=Pv.asOrNull(t,fv.VariablePointerValue);if(h)return e.WriteObjectStart(),e.WriteProperty("^var",h.value),e.WriteIntProperty("ci",h.contextIndex),void e.WriteObjectEnd();if(Pv.asOrNull(t,dv.Glue))return void e.Write("<>");let f=Pv.asOrNull(t,pv.ControlCommand);if(f)return void e.Write(Nv._controlCommandNames[f.commandType]);let d=Pv.asOrNull(t,Sv.NativeFunctionCall);if(d){let t=d.name;return"^"==t&&(t="L^"),void e.Write(t)}let p=Pv.asOrNull(t,yv.VariableReference);if(p){e.WriteObjectStart();let t=p.pathStringForCount;return null!=t?e.WriteProperty("CNT?",t):e.WriteProperty("VAR?",p.name),void e.WriteObjectEnd()}let g=Pv.asOrNull(t,bv.VariableAssignment);if(g){e.WriteObjectStart();let t=g.isGlobal?"VAR=":"temp=";return e.WriteProperty(t,g.variableName),g.isNewDeclaration||e.WriteProperty("re",!0),void e.WriteObjectEnd()}if(Pv.asOrNull(t,wv.Void))return void e.Write("void");let m=Pv.asOrNull(t,Cv.Tag);if(m)return e.WriteObjectStart(),e.WriteProperty("#",m.text),void e.WriteObjectEnd();let v=Pv.asOrNull(t,kv.Choice);if(!v)throw new Error("Failed to convert runtime object to Json token: "+t);this.WriteChoice(e,v)}static JObjectToDictionaryRuntimeObjs(e){let t=new Map;for(let n in e)if(e.hasOwnProperty(n)){let r=this.JTokenToRuntimeObject(e[n]);if(null===r)return xv.throwNullException("inkObject");t.set(n,r)}return t}static JObjectToIntDictionary(e){let t=new Map;for(let n in e)e.hasOwnProperty(n)&&t.set(n,parseInt(e[n]));return t}static JTokenToRuntimeObject(e){if("number"==typeof e&&!isNaN(e)||"boolean"==typeof e)return fv.Value.Create(e);if("string"==typeof e){let t=e.toString(),n=t[0];if("^"==n)return new fv.StringValue(t.substring(1));if("\n"==n&&1==t.length)return new fv.StringValue("\n");if("<>"==t)return new dv.Glue;for(let e=0;e<Nv._controlCommandNames.length;++e){if(t==Nv._controlCommandNames[e])return new pv.ControlCommand(e)}if("L^"==t&&(t="^"),Sv.NativeFunctionCall.CallExistsWithName(t))return Sv.NativeFunctionCall.CallWithName(t);if("->->"==t)return pv.ControlCommand.PopTunnel();if("~ret"==t)return pv.ControlCommand.PopFunction();if("void"==t)return new wv.Void}if("object"==typeof e&&!Array.isArray(e)){let t,n=e;if(n["^->"])return t=n["^->"],new fv.DivertTargetValue(new Ev.Path(t.toString()));if(n["^var"]){t=n["^var"];let e=new fv.VariablePointerValue(t.toString());return"ci"in n&&(t=n.ci,e.contextIndex=parseInt(t)),e}let r=!1,i=!1,a=gv.PushPopType.Function,o=!1;if((t=n["->"])?r=!0:(t=n["f()"])?(r=!0,i=!0,a=gv.PushPopType.Function):(t=n["->t->"])?(r=!0,i=!0,a=gv.PushPopType.Tunnel):(t=n["x()"])&&(r=!0,o=!0,i=!1,a=gv.PushPopType.Function),r){let e=new mv.Divert;e.pushesToStack=i,e.stackPushType=a,e.isExternal=o;let r=t.toString();return(t=n.var)?e.variableDivertName=r:e.targetPathString=r,e.isConditional=!!n.c,o&&(t=n.exArgs)&&(e.externalArgs=parseInt(t)),e}if(t=n["*"]){let e=new vv.ChoicePoint;return e.pathStringOnChoice=t.toString(),(t=n.flg)&&(e.flags=parseInt(t)),e}if(t=n["VAR?"])return new yv.VariableReference(t.toString());if(t=n["CNT?"]){let e=new yv.VariableReference;return e.pathStringForCount=t.toString(),e}let l=!1,s=!1;if((t=n["VAR="])?(l=!0,s=!0):(t=n["temp="])&&(l=!0,s=!1),l){let e=t.toString(),r=!n.re,i=new bv.VariableAssignment(e,r);return i.isGlobal=s,i}if(void 0!==n["#"])return t=n["#"],new Cv.Tag(t.toString());if(t=n.list){let e=t,r=new _v.InkList;if(t=n.origins){let e=t;r.SetInitialOriginNames(e)}for(let t in e)if(e.hasOwnProperty(t)){let n=e[t],i=new _v.InkListItem(t),a=parseInt(n);r.Add(i,a)}return new fv.ListValue(r)}if(null!=n.originalChoicePath)return this.JObjectToChoice(n)}if(Array.isArray(e))return this.JArrayToContainer(e);if(null==e)return null;throw new Error("Failed to convert token to runtime object: "+JSON.stringify(e))}static WriteRuntimeContainer(e,t,n=!1){if(e.WriteArrayStart(),null===t)return xv.throwNullException("container");for(let l of t.content)this.WriteRuntimeObject(e,l);let r=t.namedOnlyContent,i=t.countFlags,a=null!=t.name&&!n,o=null!=r||i>0||a;if(o&&e.WriteObjectStart(),null!=r)for(let[l,s]of r){let t=l,n=Pv.asOrNull(s,hv.Container);e.WritePropertyStart(t),this.WriteRuntimeContainer(e,n,!0),e.WritePropertyEnd()}a&&e.WriteProperty("#n",t.name),o?e.WriteObjectEnd():e.WriteNull(),e.WriteArrayEnd()}static JArrayToContainer(e){let t=new hv.Container;t.content=this.JArrayToRuntimeObjList(e,!0);let n=e[e.length-1];if(null!=n){let e=new Map;for(let r in n)if("#f"==r)t.countFlags=parseInt(n[r]);else if("#n"==r)t.name=n[r].toString();else{let t=this.JTokenToRuntimeObject(n[r]),i=Pv.asOrNull(t,hv.Container);i&&(i.name=r),e.set(r,t)}t.namedOnlyContent=e}return t}static JObjectToChoice(e){let t=new kv.Choice;return t.text=e.text.toString(),t.index=parseInt(e.index),t.sourcePath=e.originalChoicePath.toString(),t.originalThreadIndex=parseInt(e.originalThreadIndex),t.pathStringOnChoice=e.targetPath.toString(),t}static WriteChoice(e,t){e.WriteObjectStart(),e.WriteProperty("text",t.text),e.WriteIntProperty("index",t.index),e.WriteProperty("originalChoicePath",t.sourcePath),e.WriteIntProperty("originalThreadIndex",t.originalThreadIndex),e.WriteProperty("targetPath",t.pathStringOnChoice),e.WriteObjectEnd()}static WriteInkList(e,t){let n=t.value;if(null===n)return xv.throwNullException("rawList");e.WriteObjectStart(),e.WritePropertyStart("list"),e.WriteObjectStart();for(let[r,i]of n){let t=_v.InkListItem.fromSerializedKey(r),n=i;if(null===t.itemName)return xv.throwNullException("item.itemName");e.WritePropertyNameStart(),e.WritePropertyNameInner(t.originName?t.originName:"?"),e.WritePropertyNameInner("."),e.WritePropertyNameInner(t.itemName),e.WritePropertyNameEnd(),e.Write(n),e.WritePropertyEnd()}if(e.WriteObjectEnd(),e.WritePropertyEnd(),0==n.Count&&null!=n.originNames&&n.originNames.length>0){e.WritePropertyStart("origins"),e.WriteArrayStart();for(let t of n.originNames)e.Write(t);e.WriteArrayEnd(),e.WritePropertyEnd()}e.WriteObjectEnd()}static ListDefinitionsToJToken(e){let t={};for(let n of e.lists){let e={};for(let[t,r]of n.items){let n=_v.InkListItem.fromSerializedKey(t);if(null===n.itemName)return xv.throwNullException("item.itemName");e[n.itemName]=r}t[n.name]=e}return t}static JTokenToListDefinitions(e){let t=e,n=[];for(let r in t)if(t.hasOwnProperty(r)){let e=r.toString(),i=t[r],a=new Map;for(let n in i)if(t.hasOwnProperty(r)){let e=i[n];a.set(n,parseInt(e))}let o=new Ov.ListDefinition(e,a);n.push(o)}return new Tv.ListDefinitionsOrigin(n)}}um.JsonSerialisation=Nv,Nv._controlCommandNames=(()=>{let e=[];e[pv.ControlCommand.CommandType.EvalStart]="ev",e[pv.ControlCommand.CommandType.EvalOutput]="out",e[pv.ControlCommand.CommandType.EvalEnd]="/ev",e[pv.ControlCommand.CommandType.Duplicate]="du",e[pv.ControlCommand.CommandType.PopEvaluatedValue]="pop",e[pv.ControlCommand.CommandType.PopFunction]="~ret",e[pv.ControlCommand.CommandType.PopTunnel]="->->",e[pv.ControlCommand.CommandType.BeginString]="str",e[pv.ControlCommand.CommandType.EndString]="/str",e[pv.ControlCommand.CommandType.NoOp]="nop",e[pv.ControlCommand.CommandType.ChoiceCount]="choiceCnt",e[pv.ControlCommand.CommandType.Turns]="turn",e[pv.ControlCommand.CommandType.TurnsSince]="turns",e[pv.ControlCommand.CommandType.ReadCount]="readc",e[pv.ControlCommand.CommandType.Random]="rnd",e[pv.ControlCommand.CommandType.SeedRandom]="srnd",e[pv.ControlCommand.CommandType.VisitIndex]="visit",e[pv.ControlCommand.CommandType.SequenceShuffleIndex]="seq",e[pv.ControlCommand.CommandType.StartThread]="thread",e[pv.ControlCommand.CommandType.Done]="done",e[pv.ControlCommand.CommandType.End]="end",e[pv.ControlCommand.CommandType.ListFromInt]="listInt",e[pv.ControlCommand.CommandType.ListRange]="range",e[pv.ControlCommand.CommandType.ListRandom]="lrnd";for(let t=0;t<pv.ControlCommand.CommandType.TOTAL_VALUES;++t)if(null==e[t])throw new Error("Control command not accounted for in serialisation");return e})();var Iv={},Av={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CallStack=void 0;const t=pm,n=Wg,r=Vg,i=um,a=jg,o=Xg,l=mm,s=Bg,u=am,c=Gg;class h{constructor(){if(this._threadCounter=0,this._startOfRoot=l.Pointer.Null,arguments[0]instanceof r.Story){let e=arguments[0];this._startOfRoot=l.Pointer.StartOf(e.rootContentContainer),this.Reset()}else{let e=arguments[0];this._threads=[];for(let t of e._threads)this._threads.push(t.Copy());this._threadCounter=e._threadCounter,this._startOfRoot=e._startOfRoot.copy()}}get elements(){return this.callStack}get depth(){return this.elements.length}get currentElement(){let e=this._threads[this._threads.length-1].callstack;return e[e.length-1]}get currentElementIndex(){return this.callStack.length-1}get currentThread(){return this._threads[this._threads.length-1]}set currentThread(e){s.Debug.Assert(1==this._threads.length,"Shouldn't be directly setting the current thread when we have a stack of them"),this._threads.length=0,this._threads.push(e)}get canPop(){return this.callStack.length>1}Reset(){this._threads=[],this._threads.push(new h.Thread),this._threads[0].callstack.push(new h.Element(t.PushPopType.Tunnel,this._startOfRoot))}SetJsonToken(e,t){this._threads.length=0;let n=e.threads;for(let r of n){let e=r,n=new h.Thread(e,t);this._threads.push(n)}this._threadCounter=parseInt(e.threadCounter),this._startOfRoot=l.Pointer.StartOf(t.rootContentContainer)}WriteJson(e){e.WriteObject((e=>{e.WritePropertyStart("threads"),e.WriteArrayStart();for(let t of this._threads)t.WriteJson(e);e.WriteArrayEnd(),e.WritePropertyEnd(),e.WritePropertyStart("threadCounter"),e.WriteInt(this._threadCounter),e.WritePropertyEnd()}))}PushThread(){let e=this.currentThread.Copy();this._threadCounter++,e.threadIndex=this._threadCounter,this._threads.push(e)}ForkThread(){let e=this.currentThread.Copy();return this._threadCounter++,e.threadIndex=this._threadCounter,e}PopThread(){if(!this.canPopThread)throw new Error("Can't pop thread");this._threads.splice(this._threads.indexOf(this.currentThread),1)}get canPopThread(){return this._threads.length>1&&!this.elementIsEvaluateFromGame}get elementIsEvaluateFromGame(){return this.currentElement.type==t.PushPopType.FunctionEvaluationFromGame}Push(e,t=0,n=0){let r=new h.Element(e,this.currentElement.currentPointer,!1);r.evaluationStackHeightWhenPushed=t,r.functionStartInOutputStream=n,this.callStack.push(r)}CanPop(e=null){return!!this.canPop&&(null==e||this.currentElement.type==e)}Pop(e=null){if(!this.CanPop(e))throw new Error("Mismatched push/pop in Callstack");this.callStack.pop()}GetTemporaryVariableWithName(e,t=-1){-1==t&&(t=this.currentElementIndex+1);let n=this.callStack[t-1],r=u.tryGetValueFromMap(n.temporaryVariables,e,null);return r.exists?r.result:null}SetTemporaryVariable(e,t,n,r=-1){-1==r&&(r=this.currentElementIndex+1);let i=this.callStack[r-1];if(!n&&!i.temporaryVariables.get(e))throw new Error("Could not find temporary variable to set: "+e);let o=u.tryGetValueFromMap(i.temporaryVariables,e,null);o.exists&&a.ListValue.RetainListOriginsForAssignment(o.result,t),i.temporaryVariables.set(e,t)}ContextForVariableNamed(e){return this.currentElement.temporaryVariables.get(e)?this.currentElementIndex+1:0}ThreadWithIndex(e){let t=this._threads.filter((t=>{if(t.threadIndex==e)return t}));return t.length>0?t[0]:null}get callStack(){return this.currentThread.callstack}get callStackTrace(){let e=new o.StringBuilder;for(let n=0;n<this._threads.length;n++){let r=this._threads[n],i=n==this._threads.length-1;e.AppendFormat("=== THREAD {0}/{1} {2}===\n",n+1,this._threads.length,i?"(current) ":"");for(let n=0;n<r.callstack.length;n++){r.callstack[n].type==t.PushPopType.Function?e.Append("  [FUNCTION] "):e.Append("  [TUNNEL] ");let i=r.callstack[n].currentPointer;if(!i.isNull){if(e.Append("<SOMEWHERE IN "),null===i.container)return c.throwNullException("pointer.container");e.Append(i.container.path.toString()),e.AppendLine(">")}}}return e.toString()}}e.CallStack=h,function(e){class t{constructor(e,t,n=!1){this.evaluationStackHeightWhenPushed=0,this.functionStartInOutputStream=0,this.currentPointer=t.copy(),this.inExpressionEvaluation=n,this.temporaryVariables=new Map,this.type=e}Copy(){let e=new t(this.type,this.currentPointer,this.inExpressionEvaluation);return e.temporaryVariables=new Map(this.temporaryVariables),e.evaluationStackHeightWhenPushed=this.evaluationStackHeightWhenPushed,e.functionStartInOutputStream=this.functionStartInOutputStream,e}}e.Element=t;class r{constructor(){if(this.threadIndex=0,this.previousPointer=l.Pointer.Null,this.callstack=[],arguments[0]&&arguments[1]){let e=arguments[0],r=arguments[1];this.threadIndex=parseInt(e.threadIndex);let a=e.callstack;for(let s of a){let e,a=s,o=parseInt(a.type),u=l.Pointer.Null,h=a.cPath;if(void 0!==h){e=h.toString();let t=r.ContentAtPath(new n.Path(e));if(u.container=t.container,u.index=parseInt(a.idx),null==t.obj)throw new Error("When loading state, internal story location couldn't be found: "+e+". Has the story changed since this save data was created?");if(t.approximate){if(null===u.container)return c.throwNullException("pointer.container");r.Warning("When loading state, exact internal story location couldn't be found: '"+e+"', so it was approximated to '"+u.container.path.toString()+"' to recover. Has the story changed since this save data was created?")}}let f=!!a.exp,d=new t(o,u,f),p=a.temp;void 0!==p?d.temporaryVariables=i.JsonSerialisation.JObjectToDictionaryRuntimeObjs(p):d.temporaryVariables.clear(),this.callstack.push(d)}let o=e.previousContentObject;if(void 0!==o){let e=new n.Path(o.toString());this.previousPointer=r.PointerAtPath(e)}}}Copy(){let e=new r;e.threadIndex=this.threadIndex;for(let t of this.callstack)e.callstack.push(t.Copy());return e.previousPointer=this.previousPointer.copy(),e}WriteJson(e){e.WriteObjectStart(),e.WritePropertyStart("callstack"),e.WriteArrayStart();for(let t of this.callstack){if(e.WriteObjectStart(),!t.currentPointer.isNull){if(null===t.currentPointer.container)return c.throwNullException("el.currentPointer.container");e.WriteProperty("cPath",t.currentPointer.container.path.componentsString),e.WriteIntProperty("idx",t.currentPointer.index)}e.WriteProperty("exp",t.inExpressionEvaluation),e.WriteIntProperty("type",t.type),t.temporaryVariables.size>0&&(e.WritePropertyStart("temp"),i.JsonSerialisation.WriteDictionaryRuntimeObjs(e,t.temporaryVariables),e.WritePropertyEnd()),e.WriteObjectEnd()}if(e.WriteArrayEnd(),e.WritePropertyEnd(),e.WriteIntProperty("threadIndex",this.threadIndex),!this.previousPointer.isNull){let t=this.previousPointer.Resolve();if(null===t)return c.throwNullException("this.previousPointer.Resolve()");e.WriteProperty("previousContentObject",t.path.toString())}e.WriteObjectEnd()}}e.Thread=r}(h=e.CallStack||(e.CallStack={}))}(Av);var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.VariablesState=void 0;const Fv=jg,Vv=rm,Lv=um,jv=zg,Rv=am,Wv=Gg;class Mv{constructor(e,t){this.variableChangedEventCallbacks=[],this.patch=null,this._batchObservingVariableChanges=!1,this._defaultGlobalVariables=new Map,this._changedVariablesForBatchObs=new Set,this._globalVariables=new Map,this._callStack=e,this._listDefsOrigin=t;try{return new Proxy(this,{get:(e,t)=>t in e?e[t]:e.$(t),set:(e,t,n)=>(t in e?e[t]=n:e.$(t,n),!0)})}catch(n){}}variableChangedEvent(e,t){for(let n of this.variableChangedEventCallbacks)n(e,t)}get batchObservingVariableChanges(){return this._batchObservingVariableChanges}set batchObservingVariableChanges(e){if(this._batchObservingVariableChanges=e,e)this._changedVariablesForBatchObs=new Set;else if(null!=this._changedVariablesForBatchObs){for(let e of this._changedVariablesForBatchObs){let t=this._globalVariables.get(e);t?this.variableChangedEvent(e,t):Wv.throwNullException("currentValue")}this._changedVariablesForBatchObs=null}}get callStack(){return this._callStack}set callStack(e){this._callStack=e}$(e,t){if(void 0===t){let t=null;return null!==this.patch&&(t=this.patch.TryGetGlobal(e,null),t.exists)?t.result.valueObject:(t=this._globalVariables.get(e),void 0===t&&(t=this._defaultGlobalVariables.get(e)),void 0!==t?t.valueObject:null)}{if(void 0===this._defaultGlobalVariables.get(e))throw new Vv.StoryException("Cannot assign to a variable ("+e+") that hasn't been declared in the story");let n=Fv.Value.Create(t);if(null==n)throw null==t?new Error("Cannot pass null to VariableState"):new Error("Invalid value passed to VariableState: "+t.toString());this.SetGlobal(e,n)}}ApplyPatch(){if(null===this.patch)return Wv.throwNullException("this.patch");for(let[e,t]of this.patch.globals)this._globalVariables.set(e,t);if(null!==this._changedVariablesForBatchObs)for(let e of this.patch.changedVariables)this._changedVariablesForBatchObs.add(e);this.patch=null}SetJsonToken(e){this._globalVariables.clear();for(let[t,n]of this._defaultGlobalVariables){let r=e[t];if(void 0!==r){let e=Lv.JsonSerialisation.JTokenToRuntimeObject(r);if(null===e)return Wv.throwNullException("tokenInkObject");this._globalVariables.set(t,e)}else this._globalVariables.set(t,n)}}WriteJson(e){e.WriteObjectStart();for(let[t,n]of this._globalVariables){let r=t,i=n;if(Mv.dontSaveDefaultValues&&this._defaultGlobalVariables.has(r)){let e=this._defaultGlobalVariables.get(r);if(this.RuntimeObjectsEqual(i,e))continue}e.WritePropertyStart(r),Lv.JsonSerialisation.WriteRuntimeObject(e,i),e.WritePropertyEnd()}e.WriteObjectEnd()}RuntimeObjectsEqual(e,t){if(null===e)return Wv.throwNullException("obj1");if(null===t)return Wv.throwNullException("obj2");if(e.constructor!==t.constructor)return!1;let n=jv.asOrNull(e,Fv.BoolValue);if(null!==n)return n.value===jv.asOrThrows(t,Fv.BoolValue).value;let r=jv.asOrNull(e,Fv.IntValue);if(null!==r)return r.value===jv.asOrThrows(t,Fv.IntValue).value;let i=jv.asOrNull(e,Fv.FloatValue);if(null!==i)return i.value===jv.asOrThrows(t,Fv.FloatValue).value;let a=jv.asOrNull(e,Fv.Value),o=jv.asOrNull(t,Fv.Value);if(null!==a&&null!==o)return jv.isEquatable(a.valueObject)&&jv.isEquatable(o.valueObject)?a.valueObject.Equals(o.valueObject):a.valueObject===o.valueObject;throw new Error("FastRoughDefinitelyEquals: Unsupported runtime object type: "+e.constructor.name)}GetVariableWithName(e,t=-1){let n=this.GetRawVariableWithName(e,t),r=jv.asOrNull(n,Fv.VariablePointerValue);return null!==r&&(n=this.ValueAtVariablePointer(r)),n}TryGetDefaultVariableValue(e){let t=Rv.tryGetValueFromMap(this._defaultGlobalVariables,e,null);return t.exists?t.result:null}GlobalVariableExistsWithName(e){return this._globalVariables.has(e)||null!==this._defaultGlobalVariables&&this._defaultGlobalVariables.has(e)}GetRawVariableWithName(e,t){let n=null;if(0==t||-1==t){let t=null;if(null!==this.patch&&(t=this.patch.TryGetGlobal(e,null),t.exists))return t.result;if(t=Rv.tryGetValueFromMap(this._globalVariables,e,null),t.exists)return t.result;if(null!==this._defaultGlobalVariables&&(t=Rv.tryGetValueFromMap(this._defaultGlobalVariables,e,null),t.exists))return t.result;if(null===this._listDefsOrigin)return Wv.throwNullException("VariablesState._listDefsOrigin");let n=this._listDefsOrigin.FindSingleItemListWithName(e);if(n)return n}return n=this._callStack.GetTemporaryVariableWithName(e,t),n}ValueAtVariablePointer(e){return this.GetVariableWithName(e.variableName,e.contextIndex)}Assign(e,t){let n=e.variableName;if(null===n)return Wv.throwNullException("name");let r=-1,i=!1;if(i=e.isNewDeclaration?e.isGlobal:this.GlobalVariableExistsWithName(n),e.isNewDeclaration){let e=jv.asOrNull(t,Fv.VariablePointerValue);if(null!==e){t=this.ResolveVariablePointer(e)}}else{let e=null;do{e=jv.asOrNull(this.GetRawVariableWithName(n,r),Fv.VariablePointerValue),null!=e&&(n=e.variableName,r=e.contextIndex,i=0==r)}while(null!=e)}i?this.SetGlobal(n,t):this._callStack.SetTemporaryVariable(n,t,e.isNewDeclaration,r)}SnapshotDefaultGlobals(){this._defaultGlobalVariables=new Map(this._globalVariables)}RetainListOriginsForAssignment(e,t){let n=jv.asOrThrows(e,Fv.ListValue),r=jv.asOrThrows(t,Fv.ListValue);n.value&&r.value&&0==r.value.Count&&r.value.SetInitialOriginNames(n.value.originNames)}SetGlobal(e,t){let n=null;if(null===this.patch&&(n=Rv.tryGetValueFromMap(this._globalVariables,e,null)),null!==this.patch&&(n=this.patch.TryGetGlobal(e,null),n.exists||(n=Rv.tryGetValueFromMap(this._globalVariables,e,null))),Fv.ListValue.RetainListOriginsForAssignment(n.result,t),null===e)return Wv.throwNullException("variableName");if(null!==this.patch?this.patch.SetGlobal(e,t):this._globalVariables.set(e,t),null!==this.variableChangedEvent&&null!==n&&t!==n.result)if(this.batchObservingVariableChanges){if(null===this._changedVariablesForBatchObs)return Wv.throwNullException("this._changedVariablesForBatchObs");null!==this.patch?this.patch.AddChangedVariable(e):null!==this._changedVariablesForBatchObs&&this._changedVariablesForBatchObs.add(e)}else this.variableChangedEvent(e,t)}ResolveVariablePointer(e){let t=e.contextIndex;-1==t&&(t=this.GetContextIndexOfVariableNamed(e.variableName));let n=this.GetRawVariableWithName(e.variableName,t),r=jv.asOrNull(n,Fv.VariablePointerValue);return null!=r?r:new Fv.VariablePointerValue(e.variableName,t)}GetContextIndexOfVariableNamed(e){return this.GlobalVariableExistsWithName(e)?0:this._callStack.currentElementIndex}ObserveVariableChange(e){this.variableChangedEventCallbacks.push(e)}}Dv.VariablesState=Mv,Mv.dontSaveDefaultValues=!0;var Bv={};Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.PRNG=void 0;Bv.PRNG=class{constructor(e){this.seed=e%2147483647,this.seed<=0&&(this.seed+=2147483646)}next(){return this.seed=16807*this.seed%2147483647}nextFloat(){return(this.next()-1)/2147483646}};var zv={};Object.defineProperty(zv,"__esModule",{value:!0}),zv.StatePatch=void 0;zv.StatePatch=class{constructor(){if(this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map,1===arguments.length&&null!==arguments[0]){let e=arguments[0];this._globals=new Map(e._globals),this._changedVariables=new Set(e._changedVariables),this._visitCounts=new Map(e._visitCounts),this._turnIndices=new Map(e._turnIndices)}else this._globals=new Map,this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map}get globals(){return this._globals}get changedVariables(){return this._changedVariables}get visitCounts(){return this._visitCounts}get turnIndices(){return this._turnIndices}TryGetGlobal(e,t){return null!==e&&this._globals.has(e)?{result:this._globals.get(e),exists:!0}:{result:t,exists:!1}}SetGlobal(e,t){this._globals.set(e,t)}AddChangedVariable(e){return this._changedVariables.add(e)}TryGetVisitCount(e,t){return this._visitCounts.has(e)?{result:this._visitCounts.get(e),exists:!0}:{result:t,exists:!1}}SetVisitCount(e,t){this._visitCounts.set(e,t)}SetTurnIndex(e,t){this._turnIndices.set(e,t)}TryGetTurnIndex(e,t){return this._turnIndices.has(e)?{result:this._turnIndices.get(e),exists:!0}:{result:t,exists:!1}}};var Uv={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleJson=void 0;class t{static TextToDictionary(e){return new t.Reader(e).ToDictionary()}static TextToArray(e){return new t.Reader(e).ToArray()}}e.SimpleJson=t,function(e){e.Reader=class{constructor(e){this._rootObject=JSON.parse(e)}ToDictionary(){return this._rootObject}ToArray(){return this._rootObject}};class t{constructor(){this._currentPropertyName=null,this._currentString=null,this._stateStack=[],this._collectionStack=[],this._propertyNameStack=[],this._jsonObject=null}WriteObject(e){this.WriteObjectStart(),e(this),this.WriteObjectEnd()}WriteObjectStart(){this.StartNewObject(!0);let t={};if(this.state===e.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let e=this._propertyNameStack.pop();this.currentCollection[e]=t,this._collectionStack.push(t)}else this.state===e.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(t),this._collectionStack.push(t)):(this.Assert(this.state===e.Writer.State.None),this._jsonObject=t,this._collectionStack.push(t));this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Object))}WriteObjectEnd(){this.Assert(this.state===e.Writer.State.Object),this._collectionStack.pop(),this._stateStack.pop()}WriteProperty(e,t){if(this.WritePropertyStart(e),arguments[1]instanceof Function){(0,arguments[1])(this)}else{let e=arguments[1];this.Write(e)}this.WritePropertyEnd()}WriteIntProperty(e,t){this.WritePropertyStart(e),this.WriteInt(t),this.WritePropertyEnd()}WriteFloatProperty(e,t){this.WritePropertyStart(e),this.WriteFloat(t),this.WritePropertyEnd()}WritePropertyStart(t){this.Assert(this.state===e.Writer.State.Object),this._propertyNameStack.push(t),this.IncrementChildCount(),this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Property))}WritePropertyEnd(){this.Assert(this.state===e.Writer.State.Property),this.Assert(1===this.childCount),this._stateStack.pop()}WritePropertyNameStart(){this.Assert(this.state===e.Writer.State.Object),this.IncrementChildCount(),this._currentPropertyName="",this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Property)),this._stateStack.push(new e.Writer.StateElement(e.Writer.State.PropertyName))}WritePropertyNameEnd(){this.Assert(this.state===e.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._propertyNameStack.push(this._currentPropertyName),this._currentPropertyName=null,this._stateStack.pop()}WritePropertyNameInner(t){this.Assert(this.state===e.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._currentPropertyName+=t}WriteArrayStart(){this.StartNewObject(!0);let t=[];if(this.state===e.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let e=this._propertyNameStack.pop();this.currentCollection[e]=t,this._collectionStack.push(t)}else this.state===e.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(t),this._collectionStack.push(t)):(this.Assert(this.state===e.Writer.State.None),this._jsonObject=t,this._collectionStack.push(t));this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Array))}WriteArrayEnd(){this.Assert(this.state===e.Writer.State.Array),this._collectionStack.pop(),this._stateStack.pop()}Write(e,t=!0){null!==e?(this.StartNewObject(!1),this._addToCurrentObject(e)):console.error("Warning: trying to write a null string")}WriteBool(e){null!==e&&(this.StartNewObject(!1),this._addToCurrentObject(e))}WriteInt(e){null!==e&&(this.StartNewObject(!1),this._addToCurrentObject(Math.floor(e)))}WriteFloat(e){null!==e&&(this.StartNewObject(!1),e==Number.POSITIVE_INFINITY?this._addToCurrentObject(34e37):e==Number.NEGATIVE_INFINITY?this._addToCurrentObject(-34e37):isNaN(e)?this._addToCurrentObject(0):this._addToCurrentObject(e))}WriteNull(){this.StartNewObject(!1),this._addToCurrentObject(null)}WriteStringStart(){this.StartNewObject(!1),this._currentString="",this._stateStack.push(new e.Writer.StateElement(e.Writer.State.String))}WriteStringEnd(){this.Assert(this.state==e.Writer.State.String),this._stateStack.pop(),this._addToCurrentObject(this._currentString),this._currentString=null}WriteStringInner(t,n=!0){this.Assert(this.state===e.Writer.State.String),null!==t?this._currentString+=t:console.error("Warning: trying to write a null string")}ToString(){return null===this._jsonObject?"":JSON.stringify(this._jsonObject)}StartNewObject(t){t?this.Assert(this.state===e.Writer.State.None||this.state===e.Writer.State.Property||this.state===e.Writer.State.Array):this.Assert(this.state===e.Writer.State.Property||this.state===e.Writer.State.Array),this.state===e.Writer.State.Property&&this.Assert(0===this.childCount),this.state!==e.Writer.State.Array&&this.state!==e.Writer.State.Property||this.IncrementChildCount()}get state(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].type:e.Writer.State.None}get childCount(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].childCount:0}get currentCollection(){return this._collectionStack.length>0?this._collectionStack[this._collectionStack.length-1]:null}get currentPropertyName(){return this._propertyNameStack.length>0?this._propertyNameStack[this._propertyNameStack.length-1]:null}IncrementChildCount(){this.Assert(this._stateStack.length>0);let e=this._stateStack.pop();e.childCount++,this._stateStack.push(e)}Assert(e){if(!e)throw Error("Assert failed while writing JSON")}_addToCurrentObject(t){this.Assert(null!==this.currentCollection),this.state===e.Writer.State.Array?(this.Assert(Array.isArray(this.currentCollection)),this.currentCollection.push(t)):this.state===e.Writer.State.Property&&(this.Assert(!Array.isArray(this.currentCollection)),this.Assert(null!==this.currentPropertyName),this.currentCollection[this.currentPropertyName]=t,this._propertyNameStack.pop())}}e.Writer=t,function(t){var n;(n=t.State||(t.State={}))[n.None=0]="None",n[n.Object=1]="Object",n[n.Array=2]="Array",n[n.Property=3]="Property",n[n.PropertyName=4]="PropertyName",n[n.String=5]="String";t.StateElement=class{constructor(t){this.type=e.Writer.State.None,this.childCount=0,this.type=t}}}(t=e.Writer||(e.Writer={}))}(t=e.SimpleJson||(e.SimpleJson={}))}(Uv);var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.Flow=void 0;const $v=Av,Hv=um,qv=Gg;Gv.Flow=class{constructor(){let e=arguments[0],t=arguments[1];if(this.name=e,this.callStack=new $v.CallStack(t),arguments[2]){let e=arguments[2];this.callStack.SetJsonToken(e.callstack,t),this.outputStream=Hv.JsonSerialisation.JArrayToRuntimeObjList(e.outputStream),this.currentChoices=Hv.JsonSerialisation.JArrayToRuntimeObjList(e.currentChoices);let n=e.choiceThreads;void 0!==n&&this.LoadFlowChoiceThreads(n,t)}else this.outputStream=[],this.currentChoices=[]}WriteJson(e){e.WriteObjectStart(),e.WriteProperty("callstack",(e=>this.callStack.WriteJson(e))),e.WriteProperty("outputStream",(e=>Hv.JsonSerialisation.WriteListRuntimeObjs(e,this.outputStream)));let t=!1;for(let n of this.currentChoices){if(null===n.threadAtGeneration)return qv.throwNullException("c.threadAtGeneration");n.originalThreadIndex=n.threadAtGeneration.threadIndex,null===this.callStack.ThreadWithIndex(n.originalThreadIndex)&&(t||(t=!0,e.WritePropertyStart("choiceThreads"),e.WriteObjectStart()),e.WritePropertyStart(n.originalThreadIndex),n.threadAtGeneration.WriteJson(e),e.WritePropertyEnd())}t&&(e.WriteObjectEnd(),e.WritePropertyEnd()),e.WriteProperty("currentChoices",(e=>{e.WriteArrayStart();for(let t of this.currentChoices)Hv.JsonSerialisation.WriteChoice(e,t);e.WriteArrayEnd()})),e.WriteObjectEnd()}LoadFlowChoiceThreads(e,t){for(let n of this.currentChoices){let r=this.callStack.ThreadWithIndex(n.originalThreadIndex);if(null!==r)n.threadAtGeneration=r.Copy();else{let r=e[`${n.originalThreadIndex}`];n.threadAtGeneration=new $v.CallStack.Thread(r,t)}}}},Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.StoryState=void 0;const Jv=Av,Kv=Dv,Qv=jg,Yv=pm,Xv=Ym,Zv=cm,ey=Wg,ty=dm,ny=Xg,ry=um,iy=Bv,ay=Mm,oy=mm,ly=am,sy=zg,uy=Bg,cy=Gg,hy=Vg,fy=zv,dy=Uv,py=Gv,gy=Yg;class my{constructor(e){this.kInkSaveStateVersion=9,this.kMinCompatibleLoadVersion=8,this.onDidLoadState=null,this._currentErrors=null,this._currentWarnings=null,this.divertedPointer=oy.Pointer.Null,this._currentTurnIndex=0,this.storySeed=0,this.previousRandom=0,this.didSafeExit=!1,this._currentText=null,this._currentTags=null,this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0,this._patch=null,this._namedFlows=null,this.kDefaultFlowName="DEFAULT_FLOW",this.story=e,this._currentFlow=new py.Flow(this.kDefaultFlowName,e),this.OutputStreamDirty(),this._evaluationStack=[],this._variablesState=new Kv.VariablesState(this.callStack,e.listDefinitions),this._visitCounts=new Map,this._turnIndices=new Map,this.currentTurnIndex=-1;let t=(new Date).getTime();this.storySeed=new iy.PRNG(t).next()%100,this.previousRandom=0,this.GoToStart()}ToJson(e=!1){let t=new dy.SimpleJson.Writer;return this.WriteJson(t),t.ToString()}toJson(e=!1){return this.ToJson(e)}LoadJson(e){let t=dy.SimpleJson.TextToDictionary(e);this.LoadJsonObj(t),null!==this.onDidLoadState&&this.onDidLoadState()}VisitCountAtPathString(e){let t;if(null!==this._patch){let n=this.story.ContentAtPath(new ey.Path(e)).container;if(null===n)throw new Error("Content at path not found: "+e);if(t=this._patch.TryGetVisitCount(n,0),t.exists)return t.result}return t=ly.tryGetValueFromMap(this._visitCounts,e,null),t.exists?t.result:0}VisitCountForContainer(e){if(null===e)return cy.throwNullException("container");if(!e.visitsShouldBeCounted)return this.story.Error("Read count for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),0;if(null!==this._patch){let t=this._patch.TryGetVisitCount(e,0);if(t.exists)return t.result}let t=e.path.toString(),n=ly.tryGetValueFromMap(this._visitCounts,t,null);return n.exists?n.result:0}IncrementVisitCountForContainer(e){if(null!==this._patch){let t=this.VisitCountForContainer(e);return t++,void this._patch.SetVisitCount(e,t)}let t=e.path.toString(),n=ly.tryGetValueFromMap(this._visitCounts,t,null);n.exists?this._visitCounts.set(t,n.result+1):this._visitCounts.set(t,1)}RecordTurnIndexVisitToContainer(e){if(null!==this._patch)return void this._patch.SetTurnIndex(e,this.currentTurnIndex);let t=e.path.toString();this._turnIndices.set(t,this.currentTurnIndex)}TurnsSinceForContainer(e){if(e.turnIndexShouldBeCounted||this.story.Error("TURNS_SINCE() for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),null!==this._patch){let t=this._patch.TryGetTurnIndex(e,0);if(t.exists)return this.currentTurnIndex-t.result}let t=e.path.toString(),n=ly.tryGetValueFromMap(this._turnIndices,t,0);return n.exists?this.currentTurnIndex-n.result:-1}get callstackDepth(){return this.callStack.depth}get outputStream(){return this._currentFlow.outputStream}get currentChoices(){return this.canContinue?[]:this._currentFlow.currentChoices}get generatedChoices(){return this._currentFlow.currentChoices}get currentErrors(){return this._currentErrors}get currentWarnings(){return this._currentWarnings}get variablesState(){return this._variablesState}set variablesState(e){this._variablesState=e}get callStack(){return this._currentFlow.callStack}get evaluationStack(){return this._evaluationStack}get currentTurnIndex(){return this._currentTurnIndex}set currentTurnIndex(e){this._currentTurnIndex=e}get currentPathString(){let e=this.currentPointer;return e.isNull?null:null===e.path?cy.throwNullException("pointer.path"):e.path.toString()}get currentPointer(){return this.callStack.currentElement.currentPointer.copy()}set currentPointer(e){this.callStack.currentElement.currentPointer=e.copy()}get previousPointer(){return this.callStack.currentThread.previousPointer.copy()}set previousPointer(e){this.callStack.currentThread.previousPointer=e.copy()}get canContinue(){return!this.currentPointer.isNull&&!this.hasError}get hasError(){return null!=this.currentErrors&&this.currentErrors.length>0}get hasWarning(){return null!=this.currentWarnings&&this.currentWarnings.length>0}get currentText(){if(this._outputStreamTextDirty){let e=new ny.StringBuilder;for(let t of this.outputStream){let n=sy.asOrNull(t,Qv.StringValue);null!==n&&e.Append(n.value)}this._currentText=this.CleanOutputWhitespace(e.toString()),this._outputStreamTextDirty=!1}return this._currentText}CleanOutputWhitespace(e){let t=new ny.StringBuilder,n=-1,r=0;for(let i=0;i<e.length;i++){let a=e.charAt(i),o=" "==a||"\t"==a;o&&-1==n&&(n=i),o||("\n"!=a&&n>0&&n!=r&&t.Append(" "),n=-1),"\n"==a&&(r=i+1),o||t.Append(a)}return t.toString()}get currentTags(){if(this._outputStreamTagsDirty){this._currentTags=[];for(let e of this.outputStream){let t=sy.asOrNull(e,Xv.Tag);null!==t&&this._currentTags.push(t.text)}this._outputStreamTagsDirty=!1}return this._currentTags}get currentFlowName(){return this._currentFlow.name}get inExpressionEvaluation(){return this.callStack.currentElement.inExpressionEvaluation}set inExpressionEvaluation(e){this.callStack.currentElement.inExpressionEvaluation=e}GoToStart(){this.callStack.currentElement.currentPointer=oy.Pointer.StartOf(this.story.mainContentContainer)}SwitchFlow_Internal(e){if(null===e)throw new Error("Must pass a non-null string to Story.SwitchFlow");if(null===this._namedFlows&&(this._namedFlows=new Map,this._namedFlows.set(this.kDefaultFlowName,this._currentFlow)),e===this._currentFlow.name)return;let t,n=ly.tryGetValueFromMap(this._namedFlows,e,null);n.exists?t=n.result:(t=new py.Flow(e,this.story),this._namedFlows.set(e,t)),this._currentFlow=t,this.variablesState.callStack=this._currentFlow.callStack,this.OutputStreamDirty()}SwitchToDefaultFlow_Internal(){null!==this._namedFlows&&this.SwitchFlow_Internal(this.kDefaultFlowName)}RemoveFlow_Internal(e){if(null===e)throw new Error("Must pass a non-null string to Story.DestroyFlow");if(e===this.kDefaultFlowName)throw new Error("Cannot destroy default flow");if(this._currentFlow.name===e&&this.SwitchToDefaultFlow_Internal(),null===this._namedFlows)return cy.throwNullException("this._namedFlows");this._namedFlows.delete(e)}CopyAndStartPatching(){let e=new my(this.story);if(e._patch=new fy.StatePatch(this._patch),e._currentFlow.name=this._currentFlow.name,e._currentFlow.callStack=new Jv.CallStack(this._currentFlow.callStack),e._currentFlow.currentChoices.push(...this._currentFlow.currentChoices),e._currentFlow.outputStream.push(...this._currentFlow.outputStream),e.OutputStreamDirty(),null!==this._namedFlows){e._namedFlows=new Map;for(let[t,n]of this._namedFlows)e._namedFlows.set(t,n);e._namedFlows.set(this._currentFlow.name,e._currentFlow)}return this.hasError&&(e._currentErrors=[],e._currentErrors.push(...this.currentErrors||[])),this.hasWarning&&(e._currentWarnings=[],e._currentWarnings.push(...this.currentWarnings||[])),e.variablesState=this.variablesState,e.variablesState.callStack=e.callStack,e.variablesState.patch=e._patch,e.evaluationStack.push(...this.evaluationStack),this.divertedPointer.isNull||(e.divertedPointer=this.divertedPointer.copy()),e.previousPointer=this.previousPointer.copy(),e._visitCounts=this._visitCounts,e._turnIndices=this._turnIndices,e.currentTurnIndex=this.currentTurnIndex,e.storySeed=this.storySeed,e.previousRandom=this.previousRandom,e.didSafeExit=this.didSafeExit,e}RestoreAfterPatch(){this.variablesState.callStack=this.callStack,this.variablesState.patch=this._patch}ApplyAnyPatch(){if(null!==this._patch){this.variablesState.ApplyPatch();for(let[e,t]of this._patch.visitCounts)this.ApplyCountChanges(e,t,!0);for(let[e,t]of this._patch.turnIndices)this.ApplyCountChanges(e,t,!1);this._patch=null}}ApplyCountChanges(e,t,n){(n?this._visitCounts:this._turnIndices).set(e.path.toString(),t)}WriteJson(e){if(e.WriteObjectStart(),e.WritePropertyStart("flows"),e.WriteObjectStart(),null!==this._namedFlows)for(let[t,n]of this._namedFlows)e.WriteProperty(t,(e=>n.WriteJson(e)));else e.WriteProperty(this._currentFlow.name,(e=>this._currentFlow.WriteJson(e)));if(e.WriteObjectEnd(),e.WritePropertyEnd(),e.WriteProperty("currentFlowName",this._currentFlow.name),e.WriteProperty("variablesState",(e=>this.variablesState.WriteJson(e))),e.WriteProperty("evalStack",(e=>ry.JsonSerialisation.WriteListRuntimeObjs(e,this.evaluationStack))),!this.divertedPointer.isNull){if(null===this.divertedPointer.path)return cy.throwNullException("divertedPointer");e.WriteProperty("currentDivertTarget",this.divertedPointer.path.componentsString)}e.WriteProperty("visitCounts",(e=>ry.JsonSerialisation.WriteIntDictionary(e,this._visitCounts))),e.WriteProperty("turnIndices",(e=>ry.JsonSerialisation.WriteIntDictionary(e,this._turnIndices))),e.WriteIntProperty("turnIdx",this.currentTurnIndex),e.WriteIntProperty("storySeed",this.storySeed),e.WriteIntProperty("previousRandom",this.previousRandom),e.WriteIntProperty("inkSaveVersion",this.kInkSaveStateVersion),e.WriteIntProperty("inkFormatVersion",hy.Story.inkVersionCurrent),e.WriteObjectEnd()}LoadJsonObj(e){let t=e,n=t.inkSaveVersion;if(null==n)throw new Error("ink save format incorrect, can't load.");if(parseInt(n)<this.kMinCompatibleLoadVersion)throw new Error("Ink save format isn't compatible with the current version (saw '"+n+"', but minimum is "+this.kMinCompatibleLoadVersion+"), so can't load.");let r=t.flows;if(null!=r){let e=r;1===Object.keys(e).length?this._namedFlows=null:null===this._namedFlows?this._namedFlows=new Map:this._namedFlows.clear();let n=Object.entries(e);for(let[t,r]of n){let n=t,i=r,a=new py.Flow(n,this.story,i);if(1===Object.keys(e).length)this._currentFlow=new py.Flow(n,this.story,i);else{if(null===this._namedFlows)return cy.throwNullException("this._namedFlows");this._namedFlows.set(n,a)}}if(null!=this._namedFlows&&this._namedFlows.size>1){let e=t.currentFlowName;this._currentFlow=this._namedFlows.get(e)}}else{this._namedFlows=null,this._currentFlow.name=this.kDefaultFlowName,this._currentFlow.callStack.SetJsonToken(t.callstackThreads,this.story),this._currentFlow.outputStream=ry.JsonSerialisation.JArrayToRuntimeObjList(t.outputStream),this._currentFlow.currentChoices=ry.JsonSerialisation.JArrayToRuntimeObjList(t.currentChoices);let e=t.choiceThreads;this._currentFlow.LoadFlowChoiceThreads(e,this.story)}this.OutputStreamDirty(),this.variablesState.SetJsonToken(t.variablesState),this.variablesState.callStack=this._currentFlow.callStack,this._evaluationStack=ry.JsonSerialisation.JArrayToRuntimeObjList(t.evalStack);let i=t.currentDivertTarget;if(null!=i){let e=new ey.Path(i.toString());this.divertedPointer=this.story.PointerAtPath(e)}this._visitCounts=ry.JsonSerialisation.JObjectToIntDictionary(t.visitCounts),this._turnIndices=ry.JsonSerialisation.JObjectToIntDictionary(t.turnIndices),this.currentTurnIndex=parseInt(t.turnIdx),this.storySeed=parseInt(t.storySeed),this.previousRandom=parseInt(t.previousRandom)}ResetErrors(){this._currentErrors=null,this._currentWarnings=null}ResetOutput(e=null){this.outputStream.length=0,null!==e&&this.outputStream.push(...e),this.OutputStreamDirty()}PushToOutputStream(e){let t=sy.asOrNull(e,Qv.StringValue);if(null!==t){let e=this.TrySplittingHeadTailWhitespace(t);if(null!==e){for(let t of e)this.PushToOutputStreamIndividual(t);return void this.OutputStreamDirty()}}this.PushToOutputStreamIndividual(e),this.OutputStreamDirty()}PopFromOutputStream(e){this.outputStream.splice(this.outputStream.length-e,e),this.OutputStreamDirty()}TrySplittingHeadTailWhitespace(e){let t=e.value;if(null===t)return cy.throwNullException("single.value");let n=-1,r=-1;for(let u=0;u<t.length;u++){let e=t[u];if("\n"!=e){if(" "==e||"\t"==e)continue;break}-1==n&&(n=u),r=u}let i=-1,a=-1;for(let u=t.length-1;u>=0;u--){let e=t[u];if("\n"!=e){if(" "==e||"\t"==e)continue;break}-1==i&&(i=u),a=u}if(-1==n&&-1==i)return null;let o=[],l=0,s=t.length;if(-1!=n){if(n>0){let e=new Qv.StringValue(t.substring(0,n));o.push(e)}o.push(new Qv.StringValue("\n")),l=r+1}if(-1!=i&&(s=a),s>l){let e=t.substring(l,s-l);o.push(new Qv.StringValue(e))}if(-1!=i&&a>r&&(o.push(new Qv.StringValue("\n")),i<t.length-1)){let e=t.length-i-1,n=new Qv.StringValue(t.substring(i+1,e));o.push(n)}return o}PushToOutputStreamIndividual(e){let t=sy.asOrNull(e,Zv.Glue),n=sy.asOrNull(e,Qv.StringValue),r=!0;if(t)this.TrimNewlinesFromOutputStream(),r=!0;else if(n){let e=-1,t=this.callStack.currentElement;t.type==Yv.PushPopType.Function&&(e=t.functionStartInOutputStream);let i=-1;for(let n=this.outputStream.length-1;n>=0;n--){let t=this.outputStream[n],r=t instanceof ty.ControlCommand?t:null;if(null!=(t instanceof Zv.Glue?t:null)){i=n;break}if(null!=r&&r.commandType==ty.ControlCommand.CommandType.BeginString){n>=e&&(e=-1);break}}let a=-1;if(a=-1!=i&&-1!=e?Math.min(e,i):-1!=i?i:e,-1!=a){if(n.isNewline)r=!1;else if(n.isNonWhitespace&&(i>-1&&this.RemoveExistingGlue(),e>-1)){let e=this.callStack.elements;for(let t=e.length-1;t>=0;t--){let n=e[t];if(n.type!=Yv.PushPopType.Function)break;n.functionStartInOutputStream=-1}}}else n.isNewline&&(!this.outputStreamEndsInNewline&&this.outputStreamContainsContent||(r=!1))}if(r){if(null===e)return cy.throwNullException("obj");this.outputStream.push(e),this.OutputStreamDirty()}}TrimNewlinesFromOutputStream(){let e=-1,t=this.outputStream.length-1;for(;t>=0;){let n=this.outputStream[t],r=sy.asOrNull(n,ty.ControlCommand),i=sy.asOrNull(n,Qv.StringValue);if(null!=r||null!=i&&i.isNonWhitespace)break;null!=i&&i.isNewline&&(e=t),t--}if(e>=0)for(t=e;t<this.outputStream.length;){sy.asOrNull(this.outputStream[t],Qv.StringValue)?this.outputStream.splice(t,1):t++}this.OutputStreamDirty()}RemoveExistingGlue(){for(let e=this.outputStream.length-1;e>=0;e--){let t=this.outputStream[e];if(t instanceof Zv.Glue)this.outputStream.splice(e,1);else if(t instanceof ty.ControlCommand)break}this.OutputStreamDirty()}get outputStreamEndsInNewline(){if(this.outputStream.length>0)for(let e=this.outputStream.length-1;e>=0;e--){if(this.outputStream[e]instanceof ty.ControlCommand)break;let t=this.outputStream[e];if(t instanceof Qv.StringValue){if(t.isNewline)return!0;if(t.isNonWhitespace)break}}return!1}get outputStreamContainsContent(){for(let e of this.outputStream)if(e instanceof Qv.StringValue)return!0;return!1}get inStringEvaluation(){for(let e=this.outputStream.length-1;e>=0;e--){let t=sy.asOrNull(this.outputStream[e],ty.ControlCommand);if(t instanceof ty.ControlCommand&&t.commandType==ty.ControlCommand.CommandType.BeginString)return!0}return!1}PushEvaluationStack(e){let t=sy.asOrNull(e,Qv.ListValue);if(t){let e=t.value;if(null===e)return cy.throwNullException("rawList");if(null!=e.originNames){e.origins||(e.origins=[]),e.origins.length=0;for(let t of e.originNames){if(null===this.story.listDefinitions)return cy.throwNullException("StoryState.story.listDefinitions");let n=this.story.listDefinitions.TryListGetDefinition(t,null);if(null===n.result)return cy.throwNullException("StoryState def.result");e.origins.indexOf(n.result)<0&&e.origins.push(n.result)}}}if(null===e)return cy.throwNullException("obj");this.evaluationStack.push(e)}PopEvaluationStack(e){if(void 0===e){let e=this.evaluationStack.pop();return sy.nullIfUndefined(e)}{if(e>this.evaluationStack.length)throw new Error("trying to pop too many objects");let t=this.evaluationStack.splice(this.evaluationStack.length-e,e);return sy.nullIfUndefined(t)}}PeekEvaluationStack(){return this.evaluationStack[this.evaluationStack.length-1]}ForceEnd(){this.callStack.Reset(),this._currentFlow.currentChoices.length=0,this.currentPointer=oy.Pointer.Null,this.previousPointer=oy.Pointer.Null,this.didSafeExit=!0}TrimWhitespaceFromFunctionEnd(){uy.Debug.Assert(this.callStack.currentElement.type==Yv.PushPopType.Function);let e=this.callStack.currentElement.functionStartInOutputStream;-1==e&&(e=0);for(let t=this.outputStream.length-1;t>=e;t--){let e=this.outputStream[t],n=sy.asOrNull(e,Qv.StringValue),r=sy.asOrNull(e,ty.ControlCommand);if(null!=n){if(r)break;if(!n.isNewline&&!n.isInlineWhitespace)break;this.outputStream.splice(t,1),this.OutputStreamDirty()}}}PopCallStack(e=null){this.callStack.currentElement.type==Yv.PushPopType.Function&&this.TrimWhitespaceFromFunctionEnd(),this.callStack.Pop(e)}SetChosenPath(e,t){this._currentFlow.currentChoices.length=0;let n=this.story.PointerAtPath(e);n.isNull||-1!=n.index||(n.index=0),this.currentPointer=n,t&&this.currentTurnIndex++}StartFunctionEvaluationFromGame(e,t){this.callStack.Push(Yv.PushPopType.FunctionEvaluationFromGame,this.evaluationStack.length),this.callStack.currentElement.currentPointer=oy.Pointer.StartOf(e),this.PassArgumentsToEvaluationStack(t)}PassArgumentsToEvaluationStack(e){if(null!==e)for(let t=0;t<e.length;t++){if("number"!=typeof e[t]&&"string"!=typeof e[t]||e[t]instanceof gy.InkList)throw new Error((sy.nullIfUndefined(arguments[t]),"null"));this.PushEvaluationStack(Qv.Value.Create(e[t]))}}TryExitFunctionEvaluationFromGame(){return this.callStack.currentElement.type==Yv.PushPopType.FunctionEvaluationFromGame&&(this.currentPointer=oy.Pointer.Null,this.didSafeExit=!0,!0)}CompleteFunctionEvaluationFromGame(){if(this.callStack.currentElement.type!=Yv.PushPopType.FunctionEvaluationFromGame)throw new Error("Expected external function evaluation to be complete. Stack trace: "+this.callStack.callStackTrace);let e=this.callStack.currentElement.evaluationStackHeightWhenPushed,t=null;for(;this.evaluationStack.length>e;){let e=this.PopEvaluationStack();null===t&&(t=e)}if(this.PopCallStack(Yv.PushPopType.FunctionEvaluationFromGame),t){if(t instanceof ay.Void)return null;let e=sy.asOrThrows(t,Qv.Value);return e.valueType==Qv.ValueType.DivertTarget?e.valueObject.toString():e.valueObject}return null}AddError(e,t){t?(null==this._currentWarnings&&(this._currentWarnings=[]),this._currentWarnings.push(e)):(null==this._currentErrors&&(this._currentErrors=[]),this._currentErrors.push(e))}OutputStreamDirty(){this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0}}Iv.StoryState=my;var vy={};Object.defineProperty(vy,"__esModule",{value:!0}),vy.Stopwatch=void 0;vy.Stopwatch=class{constructor(){this.startTime=void 0}get ElapsedMilliseconds(){return void 0===this.startTime?0:(new Date).getTime()-this.startTime}Start(){this.startTime=(new Date).getTime()}Stop(){this.startTime=void 0}};var yy={};function by(e,t){return(by=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sy(e){return(Sy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Cy(e,t,n){return(Cy=wy()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&by(i,n.prototype),i}).apply(null,arguments)}function Ey(e){var t="function"==typeof Map?new Map:void 0;return(Ey=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Cy(e,arguments,Sy(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),by(r,e)})(e)}!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorType=void 0,(t=e.ErrorType||(e.ErrorType={}))[t.Author=0]="Author",t[t.Warning=1]="Warning",t[t.Error=2]="Error"}(yy),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Story=e.InkList=void 0;const t=Lg,n=Rg,r=um,i=Iv,a=dm,o=pm,l=_m,s=ev,u=gm,c=jg,h=Wg,f=Mm,d=Ym,p=Lm,g=Am,m=Wm,v=rm,y=Bv,b=Xg,S=lv,w=vy,C=mm,E=Yg,k=zg,O=Gg,T=Uv,_=yy;var P,x,N=Yg;Object.defineProperty(e,"InkList",{enumerable:!0,get:function(){return N.InkList}}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e});class I extends n.InkObject{constructor(){let e;super(),this.inkVersionMinimumCompatible=18,this.onError=null,this.onDidContinue=null,this.onMakeChoice=null,this.onEvaluateFunction=null,this.onCompleteEvaluateFunction=null,this.onChoosePathString=null,this._prevContainers=[],this.allowExternalFunctionFallbacks=!1,this._listDefinitions=null,this._variableObservers=null,this._hasValidatedExternals=!1,this._temporaryEvaluationContainer=null,this._asyncContinueActive=!1,this._stateSnapshotAtLastNewline=null,this._sawLookaheadUnsafeFunctionAfterNewline=!1,this._recursiveContinueCount=0,this._asyncSaving=!1,this._profiler=null;let n=null,i=null;if(arguments[0]instanceof t.Container)e=arguments[0],void 0!==arguments[1]&&(n=arguments[1]),this._mainContentContainer=e;else if("string"==typeof arguments[0]){let e=arguments[0];i=T.SimpleJson.TextToDictionary(e)}else i=arguments[0];if(null!=n&&(this._listDefinitions=new S.ListDefinitionsOrigin(n)),this._externals=new Map,null!==i){let e=i,n=e.inkVersion;if(null==n)throw new Error("ink version number not found. Are you sure it's a valid .ink.json file?");let a=parseInt(n);if(a>I.inkVersionCurrent)throw new Error("Version of ink used to build story was newer than the current version of the engine");if(a<this.inkVersionMinimumCompatible)throw new Error("Version of ink used to build story is too old to be loaded by this version of the engine");a!=I.inkVersionCurrent&&console.warn("WARNING: Version of ink used to build story doesn't match current version of engine. Non-critical, but recommend synchronising.");let o,l=e.root;if(null==l)throw new Error("Root node for ink not found. Are you sure it's a valid .ink.json file?");(o=e.listDefs)&&(this._listDefinitions=r.JsonSerialisation.JTokenToListDefinitions(o)),this._mainContentContainer=k.asOrThrows(r.JsonSerialisation.JTokenToRuntimeObject(l),t.Container),this.ResetState()}}get currentChoices(){let e=[];if(null===this._state)return O.throwNullException("this._state");for(let t of this._state.currentChoices)t.isInvisibleDefault||(t.index=e.length,e.push(t));return e}get currentText(){return this.IfAsyncWeCant("call currentText since it's a work in progress"),this.state.currentText}get currentTags(){return this.IfAsyncWeCant("call currentTags since it's a work in progress"),this.state.currentTags}get currentErrors(){return this.state.currentErrors}get currentWarnings(){return this.state.currentWarnings}get currentFlowName(){return this.state.currentFlowName}get hasError(){return this.state.hasError}get hasWarning(){return this.state.hasWarning}get variablesState(){return this.state.variablesState}get listDefinitions(){return this._listDefinitions}get state(){return this._state}StartProfiling(){}EndProfiling(){}ToJson(e){let t=!1;if(e||(t=!0,e=new T.SimpleJson.Writer),e.WriteObjectStart(),e.WriteIntProperty("inkVersion",I.inkVersionCurrent),e.WriteProperty("root",(e=>r.JsonSerialisation.WriteRuntimeContainer(e,this._mainContentContainer))),null!=this._listDefinitions){e.WritePropertyStart("listDefs"),e.WriteObjectStart();for(let t of this._listDefinitions.lists){e.WritePropertyStart(t.name),e.WriteObjectStart();for(let[n,r]of t.items){let t=E.InkListItem.fromSerializedKey(n),i=r;e.WriteIntProperty(t.itemName,i)}e.WriteObjectEnd(),e.WritePropertyEnd()}e.WriteObjectEnd(),e.WritePropertyEnd()}if(e.WriteObjectEnd(),t)return e.ToString()}ResetState(){this.IfAsyncWeCant("ResetState"),this._state=new i.StoryState(this),this._state.variablesState.ObserveVariableChange(this.VariableStateDidChangeEvent.bind(this)),this.ResetGlobals()}ResetErrors(){if(null===this._state)return O.throwNullException("this._state");this._state.ResetErrors()}ResetCallstack(){if(this.IfAsyncWeCant("ResetCallstack"),null===this._state)return O.throwNullException("this._state");this._state.ForceEnd()}ResetGlobals(){if(this._mainContentContainer.namedContent.get("global decl")){let e=this.state.currentPointer.copy();this.ChoosePath(new h.Path("global decl"),!1),this.ContinueInternal(),this.state.currentPointer=e}this.state.variablesState.SnapshotDefaultGlobals()}SwitchFlow(e){if(this.IfAsyncWeCant("switch flow"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't switch flow to "+e);this.state.SwitchFlow_Internal(e)}RemoveFlow(e){this.state.RemoveFlow_Internal(e)}SwitchToDefaultFlow(){this.state.SwitchToDefaultFlow_Internal()}Continue(){return this.ContinueAsync(0),this.currentText}get canContinue(){return this.state.canContinue}get asyncContinueComplete(){return!this._asyncContinueActive}ContinueAsync(e){this._hasValidatedExternals||this.ValidateExternalBindings(),this.ContinueInternal(e)}ContinueInternal(e=0){null!=this._profiler&&this._profiler.PreContinue();let t=e>0;if(this._recursiveContinueCount++,!this._asyncContinueActive){if(this._asyncContinueActive=t,!this.canContinue)throw new Error("Can't continue - should check canContinue before calling Continue");this._state.didSafeExit=!1,this._state.ResetOutput(),1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!0)}let n=new w.Stopwatch;n.Start();let r=!1;this._sawLookaheadUnsafeFunctionAfterNewline=!1;do{try{r=this.ContinueSingleStep()}catch(i){if(!(i instanceof v.StoryException))throw i;this.AddError(i.message,void 0,i.useEndLineNumber);break}if(r)break;if(this._asyncContinueActive&&n.ElapsedMilliseconds>e)break}while(this.canContinue);if(n.Stop(),!r&&this.canContinue||(null!==this._stateSnapshotAtLastNewline&&this.RestoreStateSnapshot(),this.canContinue||(this.state.callStack.canPopThread&&this.AddError("Thread available to pop, threads should always be flat by the end of evaluation?"),0!=this.state.generatedChoices.length||this.state.didSafeExit||null!=this._temporaryEvaluationContainer||(this.state.callStack.CanPop(o.PushPopType.Tunnel)?this.AddError("unexpectedly reached end of content. Do you need a '->->' to return from a tunnel?"):this.state.callStack.CanPop(o.PushPopType.Function)?this.AddError("unexpectedly reached end of content. Do you need a '~ return'?"):this.state.callStack.canPop?this.AddError("unexpectedly reached end of content for unknown reason. Please debug compiler!"):this.AddError("ran out of content. Do you need a '-> DONE' or '-> END'?"))),this.state.didSafeExit=!1,this._sawLookaheadUnsafeFunctionAfterNewline=!1,1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!1),this._asyncContinueActive=!1,null!==this.onDidContinue&&this.onDidContinue()),this._recursiveContinueCount--,null!=this._profiler&&this._profiler.PostContinue(),this.state.hasError||this.state.hasWarning){if(null===this.onError){let e=new b.StringBuilder;throw e.Append("Ink had "),this.state.hasError&&(e.Append(`${this.state.currentErrors.length}`),e.Append(1==this.state.currentErrors.length?" error":"errors"),this.state.hasWarning&&e.Append(" and ")),this.state.hasWarning&&(e.Append(`${this.state.currentWarnings.length}`),e.Append(1==this.state.currentWarnings.length?" warning":"warnings"),this.state.hasWarning&&e.Append(" and ")),e.Append(". It is strongly suggested that you assign an error handler to story.onError. The first issue was: "),e.Append(this.state.hasError?this.state.currentErrors[0]:this.state.currentWarnings[0]),new v.StoryException(e.toString())}if(this.state.hasError)for(let e of this.state.currentErrors)this.onError(e,_.ErrorType.Error);if(this.state.hasWarning)for(let e of this.state.currentWarnings)this.onError(e,_.ErrorType.Warning);this.ResetErrors()}}ContinueSingleStep(){if(null!=this._profiler&&this._profiler.PreStep(),this.Step(),null!=this._profiler&&this._profiler.PostStep(),this.canContinue||this.state.callStack.elementIsEvaluateFromGame||this.TryFollowDefaultInvisibleChoice(),null!=this._profiler&&this._profiler.PreSnapshot(),!this.state.inStringEvaluation){if(null!==this._stateSnapshotAtLastNewline){if(null===this._stateSnapshotAtLastNewline.currentTags)return O.throwNullException("this._stateAtLastNewline.currentTags");if(null===this.state.currentTags)return O.throwNullException("this.state.currentTags");let e=this.CalculateNewlineOutputStateChange(this._stateSnapshotAtLastNewline.currentText,this.state.currentText,this._stateSnapshotAtLastNewline.currentTags.length,this.state.currentTags.length);if(e==I.OutputStateChange.ExtendedBeyondNewline||this._sawLookaheadUnsafeFunctionAfterNewline)return this.RestoreStateSnapshot(),!0;e==I.OutputStateChange.NewlineRemoved&&this.DiscardSnapshot()}this.state.outputStreamEndsInNewline&&(this.canContinue?null==this._stateSnapshotAtLastNewline&&this.StateSnapshot():this.DiscardSnapshot())}return null!=this._profiler&&this._profiler.PostSnapshot(),!1}CalculateNewlineOutputStateChange(e,t,n,r){if(null===e)return O.throwNullException("prevText");if(null===t)return O.throwNullException("currText");let i=t.length>=e.length&&"\n"==t.charAt(e.length-1);if(n==r&&e.length==t.length&&i)return I.OutputStateChange.NoChange;if(!i)return I.OutputStateChange.NewlineRemoved;if(r>n)return I.OutputStateChange.ExtendedBeyondNewline;for(let a=e.length;a<t.length;a++){let e=t.charAt(a);if(" "!=e&&"\t"!=e)return I.OutputStateChange.ExtendedBeyondNewline}return I.OutputStateChange.NoChange}ContinueMaximally(){this.IfAsyncWeCant("ContinueMaximally");let e=new b.StringBuilder;for(;this.canContinue;)e.Append(this.Continue());return e.toString()}ContentAtPath(e){return this.mainContentContainer.ContentAtPath(e)}KnotContainerWithName(e){let n=this.mainContentContainer.namedContent.get(e);return n instanceof t.Container?n:null}PointerAtPath(e){if(0==e.length)return C.Pointer.Null;let t=new C.Pointer,n=e.length,r=null;return null===e.lastComponent?O.throwNullException("path.lastComponent"):(e.lastComponent.isIndex?(n=e.length-1,r=this.mainContentContainer.ContentAtPath(e,void 0,n),t.container=r.container,t.index=e.lastComponent.index):(r=this.mainContentContainer.ContentAtPath(e),t.container=r.container,t.index=-1),null==r.obj||r.obj==this.mainContentContainer&&n>0?this.Error("Failed to find content at path '"+e+"', and no approximation of it was possible."):r.approximate&&this.Warning("Failed to find content at path '"+e+"', so it was approximated to: '"+r.obj.path+"'."),t)}StateSnapshot(){this._stateSnapshotAtLastNewline=this._state,this._state=this._state.CopyAndStartPatching()}RestoreStateSnapshot(){null===this._stateSnapshotAtLastNewline&&O.throwNullException("_stateSnapshotAtLastNewline"),this._stateSnapshotAtLastNewline.RestoreAfterPatch(),this._state=this._stateSnapshotAtLastNewline,this._stateSnapshotAtLastNewline=null,this._asyncSaving||this._state.ApplyAnyPatch()}DiscardSnapshot(){this._asyncSaving||this._state.ApplyAnyPatch(),this._stateSnapshotAtLastNewline=null}CopyStateForBackgroundThreadSave(){if(this.IfAsyncWeCant("start saving on a background thread"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't call CopyStateForBackgroundThreadSave again!");let e=this._state;return this._state=this._state.CopyAndStartPatching(),this._asyncSaving=!0,e}BackgroundSaveComplete(){null===this._stateSnapshotAtLastNewline&&this._state.ApplyAnyPatch(),this._asyncSaving=!1}Step(){let e=!0,n=this.state.currentPointer.copy();if(n.isNull)return;let r=k.asOrNull(n.Resolve(),t.Container);for(;r&&(this.VisitContainer(r,!0),0!=r.content.length);)n=C.Pointer.StartOf(r),r=k.asOrNull(n.Resolve(),t.Container);this.state.currentPointer=n.copy(),null!=this._profiler&&this._profiler.Step(this.state.callStack);let i=n.Resolve(),o=this.PerformLogicAndFlowControl(i);if(this.state.currentPointer.isNull)return;o&&(e=!1);let s=k.asOrNull(i,l.ChoicePoint);if(s){let t=this.ProcessChoice(s);t&&this.state.generatedChoices.push(t),i=null,e=!1}if(i instanceof t.Container&&(e=!1),e){let e=k.asOrNull(i,c.VariablePointerValue);if(e&&-1==e.contextIndex){let t=this.state.callStack.ContextForVariableNamed(e.variableName);i=new c.VariablePointerValue(e.variableName,t)}this.state.inExpressionEvaluation?this.state.PushEvaluationStack(i):this.state.PushToOutputStream(i)}this.NextContent();let u=k.asOrNull(i,a.ControlCommand);u&&u.commandType==a.ControlCommand.CommandType.StartThread&&this.state.callStack.PushThread()}VisitContainer(e,t){e.countingAtStartOnly&&!t||(e.visitsShouldBeCounted&&this.state.IncrementVisitCountForContainer(e),e.turnIndexShouldBeCounted&&this.state.RecordTurnIndexVisitToContainer(e))}VisitChangedContainersDueToDivert(){let e=this.state.previousPointer.copy(),n=this.state.currentPointer.copy();if(n.isNull||-1==n.index)return;if(this._prevContainers.length=0,!e.isNull){let n=e.Resolve(),r=k.asOrNull(n,t.Container)||k.asOrNull(e.container,t.Container);for(;r;)this._prevContainers.push(r),r=k.asOrNull(r.parent,t.Container)}let r=n.Resolve();if(null==r)return;let i=k.asOrNull(r.parent,t.Container),a=!0;for(;i&&(this._prevContainers.indexOf(i)<0||i.countingAtStartOnly);){let e=i.content.length>0&&r==i.content[0]&&a;e||(a=!1),this.VisitContainer(i,e),r=i,i=k.asOrNull(i.parent,t.Container)}}ProcessChoice(e){let t=!0;if(e.hasCondition){let e=this.state.PopEvaluationStack();this.IsTruthy(e)||(t=!1)}let n="",r="";if(e.hasChoiceOnlyContent){r=k.asOrThrows(this.state.PopEvaluationStack(),c.StringValue).value||""}if(e.hasStartContent){n=k.asOrThrows(this.state.PopEvaluationStack(),c.StringValue).value||""}if(e.onceOnly){this.state.VisitCountForContainer(e.choiceTarget)>0&&(t=!1)}if(!t)return null;let i=new s.Choice;return i.targetPath=e.pathOnChoice,i.sourcePath=e.path.toString(),i.isInvisibleDefault=e.isInvisibleDefault,i.threadAtGeneration=this.state.callStack.ForkThread(),i.text=(n+r).replace(/^[ \t]+|[ \t]+$/g,""),i}IsTruthy(e){if(e instanceof c.Value){let t=e;if(t instanceof c.DivertTargetValue){let e=t;return this.Error("Shouldn't use a divert target (to "+e.targetPath+") as a conditional value. Did you intend a function call 'likeThis()' or a read count check 'likeThis'? (no arrows)"),!1}return t.isTruthy}return!1}PerformLogicAndFlowControl(e){if(null==e)return!1;if(e instanceof u.Divert){let t=e;if(t.isConditional){let e=this.state.PopEvaluationStack();if(!this.IsTruthy(e))return!0}if(t.hasVariableTarget){let e=t.variableDivertName,n=this.state.variablesState.GetVariableWithName(e);if(null==n)this.Error("Tried to divert using a target from a variable that could not be found ("+e+")");else if(!(n instanceof c.DivertTargetValue)){let t=k.asOrNull(n,c.IntValue),r="Tried to divert to a target from a variable, but the variable ("+e+") didn't contain a divert target, it ";t instanceof c.IntValue&&0==t.value?r+="was empty/null (the value 0).":r+="contained '"+n+"'.",this.Error(r)}let r=k.asOrThrows(n,c.DivertTargetValue);this.state.divertedPointer=this.PointerAtPath(r.targetPath)}else{if(t.isExternal)return this.CallExternalFunction(t.targetPathString,t.externalArgs),!0;this.state.divertedPointer=t.targetPointer.copy()}return t.pushesToStack&&this.state.callStack.Push(t.stackPushType,void 0,this.state.outputStream.length),this.state.divertedPointer.isNull&&!t.isExternal&&(t&&t.debugMetadata&&null!=t.debugMetadata.sourceName?this.Error("Divert target doesn't exist: "+t.debugMetadata.sourceName):this.Error("Divert resolution failed: "+t)),!0}if(e instanceof a.ControlCommand){let n=e;switch(n.commandType){case a.ControlCommand.CommandType.EvalStart:this.Assert(!1===this.state.inExpressionEvaluation,"Already in expression evaluation?"),this.state.inExpressionEvaluation=!0;break;case a.ControlCommand.CommandType.EvalEnd:this.Assert(!0===this.state.inExpressionEvaluation,"Not in expression evaluation mode"),this.state.inExpressionEvaluation=!1;break;case a.ControlCommand.CommandType.EvalOutput:if(this.state.evaluationStack.length>0){let e=this.state.PopEvaluationStack();if(!(e instanceof f.Void)){let t=new c.StringValue(e.toString());this.state.PushToOutputStream(t)}}break;case a.ControlCommand.CommandType.NoOp:break;case a.ControlCommand.CommandType.Duplicate:this.state.PushEvaluationStack(this.state.PeekEvaluationStack());break;case a.ControlCommand.CommandType.PopEvaluatedValue:this.state.PopEvaluationStack();break;case a.ControlCommand.CommandType.PopFunction:case a.ControlCommand.CommandType.PopTunnel:let e=n.commandType==a.ControlCommand.CommandType.PopFunction?o.PushPopType.Function:o.PushPopType.Tunnel,r=null;if(e==o.PushPopType.Tunnel){let e=this.state.PopEvaluationStack();r=k.asOrNull(e,c.DivertTargetValue),null===r&&this.Assert(e instanceof f.Void,"Expected void if ->-> doesn't override target")}if(this.state.TryExitFunctionEvaluationFromGame())break;if(this.state.callStack.currentElement.type==e&&this.state.callStack.canPop)this.state.PopCallStack(),r&&(this.state.divertedPointer=this.PointerAtPath(r.targetPath));else{let t=new Map;t.set(o.PushPopType.Function,"function return statement (~ return)"),t.set(o.PushPopType.Tunnel,"tunnel onwards statement (->->)");let n=t.get(this.state.callStack.currentElement.type);this.state.callStack.canPop||(n="end of flow (-> END or choice)");let r="Found "+t.get(e)+", when expected "+n;this.Error(r)}break;case a.ControlCommand.CommandType.BeginString:this.state.PushToOutputStream(n),this.Assert(!0===this.state.inExpressionEvaluation,"Expected to be in an expression when evaluating a string"),this.state.inExpressionEvaluation=!1;break;case a.ControlCommand.CommandType.EndString:let i=[],l=0;for(let t=this.state.outputStream.length-1;t>=0;--t){let e=this.state.outputStream[t];l++;let n=k.asOrNull(e,a.ControlCommand);if(n&&n.commandType==a.ControlCommand.CommandType.BeginString)break;e instanceof c.StringValue&&i.push(e)}this.state.PopFromOutputStream(l),i=i.reverse();let s=new b.StringBuilder;for(let t of i)s.Append(t.toString());this.state.inExpressionEvaluation=!0,this.state.PushEvaluationStack(new c.StringValue(s.toString()));break;case a.ControlCommand.CommandType.ChoiceCount:let u=this.state.generatedChoices.length;this.state.PushEvaluationStack(new c.IntValue(u));break;case a.ControlCommand.CommandType.Turns:this.state.PushEvaluationStack(new c.IntValue(this.state.currentTurnIndex+1));break;case a.ControlCommand.CommandType.TurnsSince:case a.ControlCommand.CommandType.ReadCount:let h=this.state.PopEvaluationStack();if(!(h instanceof c.DivertTargetValue)){let e="";h instanceof c.IntValue&&(e=". Did you accidentally pass a read count ('knot_name') instead of a target ('-> knot_name')?"),this.Error("TURNS_SINCE / READ_COUNT expected a divert target (knot, stitch, label name), but saw "+h+e);break}let d,p=k.asOrThrows(h,c.DivertTargetValue),g=k.asOrNull(this.ContentAtPath(p.targetPath).correctObj,t.Container);null!=g?d=n.commandType==a.ControlCommand.CommandType.TurnsSince?this.state.TurnsSinceForContainer(g):this.state.VisitCountForContainer(g):(d=n.commandType==a.ControlCommand.CommandType.TurnsSince?-1:0,this.Warning("Failed to find container for "+n.toString()+" lookup at "+p.targetPath.toString())),this.state.PushEvaluationStack(new c.IntValue(d));break;case a.ControlCommand.CommandType.Random:{let e=k.asOrNull(this.state.PopEvaluationStack(),c.IntValue),t=k.asOrNull(this.state.PopEvaluationStack(),c.IntValue);if(null==t||t instanceof c.IntValue==!1)return this.Error("Invalid value for minimum parameter of RANDOM(min, max)");if(null==e||t instanceof c.IntValue==!1)return this.Error("Invalid value for maximum parameter of RANDOM(min, max)");if(null===e.value)return O.throwNullException("maxInt.value");if(null===t.value)return O.throwNullException("minInt.value");let n=e.value-t.value+1;(!isFinite(n)||n>Number.MAX_SAFE_INTEGER)&&(n=Number.MAX_SAFE_INTEGER,this.Error("RANDOM was called with a range that exceeds the size that ink numbers can use.")),n<=0&&this.Error("RANDOM was called with minimum as "+t.value+" and maximum as "+e.value+". The maximum must be larger");let r=this.state.storySeed+this.state.previousRandom,i=new y.PRNG(r).next(),a=i%n+t.value;this.state.PushEvaluationStack(new c.IntValue(a)),this.state.previousRandom=i;break}case a.ControlCommand.CommandType.SeedRandom:let m=k.asOrNull(this.state.PopEvaluationStack(),c.IntValue);if(null==m||m instanceof c.IntValue==!1)return this.Error("Invalid value passed to SEED_RANDOM");if(null===m.value)return O.throwNullException("minInt.value");this.state.storySeed=m.value,this.state.previousRandom=0,this.state.PushEvaluationStack(new f.Void);break;case a.ControlCommand.CommandType.VisitIndex:let S=this.state.VisitCountForContainer(this.state.currentPointer.container)-1;this.state.PushEvaluationStack(new c.IntValue(S));break;case a.ControlCommand.CommandType.SequenceShuffleIndex:let w=this.NextSequenceShuffleIndex();this.state.PushEvaluationStack(new c.IntValue(w));break;case a.ControlCommand.CommandType.StartThread:break;case a.ControlCommand.CommandType.Done:this.state.callStack.canPopThread?this.state.callStack.PopThread():(this.state.didSafeExit=!0,this.state.currentPointer=C.Pointer.Null);break;case a.ControlCommand.CommandType.End:this.state.ForceEnd();break;case a.ControlCommand.CommandType.ListFromInt:let T=k.asOrNull(this.state.PopEvaluationStack(),c.IntValue),_=k.asOrThrows(this.state.PopEvaluationStack(),c.StringValue);if(null===T)throw new v.StoryException("Passed non-integer when creating a list element from a numerical value.");let P=null;if(null===this.listDefinitions)return O.throwNullException("this.listDefinitions");let x=this.listDefinitions.TryListGetDefinition(_.value,null);if(!x.exists)throw new v.StoryException("Failed to find LIST called "+_.value);{if(null===T.value)return O.throwNullException("minInt.value");let e=x.result.TryGetItemWithValue(T.value,E.InkListItem.Null);e.exists&&(P=new c.ListValue(e.result,T.value))}null==P&&(P=new c.ListValue),this.state.PushEvaluationStack(P);break;case a.ControlCommand.CommandType.ListRange:let N=k.asOrNull(this.state.PopEvaluationStack(),c.Value),I=k.asOrNull(this.state.PopEvaluationStack(),c.Value),A=k.asOrNull(this.state.PopEvaluationStack(),c.ListValue);if(null===A||null===I||null===N)throw new v.StoryException("Expected list, minimum and maximum for LIST_RANGE");if(null===A.value)return O.throwNullException("targetList.value");let D=A.value.ListWithSubRange(I.valueObject,N.valueObject);this.state.PushEvaluationStack(new c.ListValue(D));break;case a.ControlCommand.CommandType.ListRandom:{let e=this.state.PopEvaluationStack();if(null===e)throw new v.StoryException("Expected list for LIST_RANDOM");let t=e.value,n=null;if(null===t)throw O.throwNullException("list");if(0==t.Count)n=new E.InkList;else{let e=this.state.storySeed+this.state.previousRandom,r=new y.PRNG(e).next(),i=r%t.Count,a=t.entries();for(let t=0;t<=i-1;t++)a.next();let o=a.next().value,l={Key:E.InkListItem.fromSerializedKey(o[0]),Value:o[1]};if(null===l.Key.originName)return O.throwNullException("randomItem.Key.originName");n=new E.InkList(l.Key.originName,this),n.Add(l.Key,l.Value),this.state.previousRandom=r}this.state.PushEvaluationStack(new c.ListValue(n));break}default:this.Error("unhandled ControlCommand: "+n)}return!0}if(e instanceof p.VariableAssignment){let t=e,n=this.state.PopEvaluationStack();return this.state.variablesState.Assign(t,n),!0}if(e instanceof g.VariableReference){let t=e,n=null;if(null!=t.pathForCount){let e=t.containerForCount,r=this.state.VisitCountForContainer(e);n=new c.IntValue(r)}else n=this.state.variablesState.GetVariableWithName(t.name),null==n&&(this.Warning("Variable not found: '"+t.name+"'. Using default value of 0 (false). This can happen with temporary variables if the declaration hasn't yet been hit. Globals are always given a default value on load if a value doesn't exist in the save state."),n=new c.IntValue(0));return this.state.PushEvaluationStack(n),!0}if(e instanceof m.NativeFunctionCall){let t=e,n=this.state.PopEvaluationStack(t.numberOfParameters),r=t.Call(n);return this.state.PushEvaluationStack(r),!0}return!1}ChoosePathString(e,t=!0,n=[]){if(this.IfAsyncWeCant("call ChoosePathString right now"),null!==this.onChoosePathString&&this.onChoosePathString(e,n),t)this.ResetCallstack();else if(this.state.callStack.currentElement.type==o.PushPopType.Function){let t="",n=this.state.callStack.currentElement.currentPointer.container;throw null!=n&&(t="("+n.path.toString()+") "),new Error("Story was running a function "+t+"when you called ChoosePathString("+e+") - this is almost certainly not not what you want! Full stack trace: \n"+this.state.callStack.callStackTrace)}this.state.PassArgumentsToEvaluationStack(n),this.ChoosePath(new h.Path(e))}IfAsyncWeCant(e){if(this._asyncContinueActive)throw new Error("Can't "+e+". Story is in the middle of a ContinueAsync(). Make more ContinueAsync() calls or a single Continue() call beforehand.")}ChoosePath(e,t=!0){this.state.SetChosenPath(e,t),this.VisitChangedContainersDueToDivert()}ChooseChoiceIndex(e){e=e;let t=this.currentChoices;this.Assert(e>=0&&e<t.length,"choice out of range");let n=t[e];return null!==this.onMakeChoice&&this.onMakeChoice(n),null===n.threadAtGeneration?O.throwNullException("choiceToChoose.threadAtGeneration"):null===n.targetPath?O.throwNullException("choiceToChoose.targetPath"):(this.state.callStack.currentThread=n.threadAtGeneration,void this.ChoosePath(n.targetPath))}HasFunction(e){try{return null!=this.KnotContainerWithName(e)}catch(t){return!1}}EvaluateFunction(e,t=[],n=!1){if(null!==this.onEvaluateFunction&&this.onEvaluateFunction(e,t),this.IfAsyncWeCant("evaluate a function"),null==e)throw new Error("Function is null");if(""==e||""==e.trim())throw new Error("Function is empty or white space.");let r=this.KnotContainerWithName(e);if(null==r)throw new Error("Function doesn't exist: '"+e+"'");let i=[];i.push(...this.state.outputStream),this._state.ResetOutput(),this.state.StartFunctionEvaluationFromGame(r,t);let a=new b.StringBuilder;for(;this.canContinue;)a.Append(this.Continue());let o=a.toString();this._state.ResetOutput(i);let l=this.state.CompleteFunctionEvaluationFromGame();return null!=this.onCompleteEvaluateFunction&&this.onCompleteEvaluateFunction(e,t,o,l),n?{returned:l,output:o}:l}EvaluateExpression(e){let t=this.state.callStack.elements.length;this.state.callStack.Push(o.PushPopType.Tunnel),this._temporaryEvaluationContainer=e,this.state.GoToStart();let n=this.state.evaluationStack.length;return this.Continue(),this._temporaryEvaluationContainer=null,this.state.callStack.elements.length>t&&this.state.PopCallStack(),this.state.evaluationStack.length>n?this.state.PopEvaluationStack():null}CallExternalFunction(e,t){if(null===e)return O.throwNullException("funcName");let n=this._externals.get(e),r=null,i=void 0!==n;if(i&&!n.lookAheadSafe&&null!==this._stateSnapshotAtLastNewline)return void(this._sawLookaheadUnsafeFunctionAfterNewline=!0);if(!i){if(this.allowExternalFunctionFallbacks)return r=this.KnotContainerWithName(e),this.Assert(null!==r,"Trying to call EXTERNAL function '"+e+"' which has not been bound, and fallback ink function could not be found."),this.state.callStack.Push(o.PushPopType.Function,void 0,this.state.outputStream.length),void(this.state.divertedPointer=C.Pointer.StartOf(r));this.Assert(!1,"Trying to call EXTERNAL function '"+e+"' which has not been bound (and ink fallbacks disabled).")}let a=[];for(let o=0;o<t;++o){let e=k.asOrThrows(this.state.PopEvaluationStack(),c.Value).valueObject;a.push(e)}a.reverse();let l=n.function(a),s=null;null!=l?(s=c.Value.Create(l),this.Assert(null!==s,"Could not create ink value from returned object of type "+typeof l)):s=new f.Void,this.state.PushEvaluationStack(s)}BindExternalFunctionGeneral(e,t,n){this.IfAsyncWeCant("bind an external function"),this.Assert(!this._externals.has(e),"Function '"+e+"' has already been bound."),this._externals.set(e,{function:t,lookAheadSafe:n})}TryCoerce(e){return e}BindExternalFunction(e,t,n){this.Assert(null!=t,"Can't bind a null function"),this.BindExternalFunctionGeneral(e,(e=>{this.Assert(e.length>=t.length,"External function expected "+t.length+" arguments");let n=[];for(let t=0,r=e.length;t<r;t++)n[t]=this.TryCoerce(e[t]);return t.apply(null,n)}),n)}UnbindExternalFunction(e){this.IfAsyncWeCant("unbind an external a function"),this.Assert(this._externals.has(e),"Function '"+e+"' has not been bound."),this._externals.delete(e)}ValidateExternalBindings(){let e=null,r=null,i=arguments[1]||new Set;if(arguments[0]instanceof t.Container&&(e=arguments[0]),arguments[0]instanceof n.InkObject&&(r=arguments[0]),null===e&&null===r)if(this.ValidateExternalBindings(this._mainContentContainer,i),this._hasValidatedExternals=!0,0==i.size)this._hasValidatedExternals=!0;else{let e="Error: Missing function binding for external";e+=i.size>1?"s":"",e+=": '",e+=Array.from(i).join("', '"),e+="' ",e+=this.allowExternalFunctionFallbacks?", and no fallback ink function found.":" (ink fallbacks disabled)",this.Error(e)}else if(null!=e){for(let t of e.content){let e=t;null!=e&&e.hasValidName||this.ValidateExternalBindings(t,i)}for(let[,t]of e.namedContent)this.ValidateExternalBindings(k.asOrNull(t,n.InkObject),i)}else if(null!=r){let e=k.asOrNull(r,u.Divert);if(e&&e.isExternal){let t=e.targetPathString;if(null===t)return O.throwNullException("name");if(!this._externals.has(t))if(this.allowExternalFunctionFallbacks){this.mainContentContainer.namedContent.has(t)||i.add(t)}else i.add(t)}}}ObserveVariable(e,t){if(this.IfAsyncWeCant("observe a new variable"),null===this._variableObservers&&(this._variableObservers=new Map),!this.state.variablesState.GlobalVariableExistsWithName(e))throw new Error("Cannot observe variable '"+e+"' because it wasn't declared in the ink story.");this._variableObservers.has(e)?this._variableObservers.get(e).push(t):this._variableObservers.set(e,[t])}ObserveVariables(e,t){for(let n=0,r=e.length;n<r;n++)this.ObserveVariable(e[n],t[n])}RemoveVariableObserver(e,t){if(this.IfAsyncWeCant("remove a variable observer"),null!==this._variableObservers)if(null!=t){if(this._variableObservers.has(t))if(null!=e){let n=this._variableObservers.get(t);null!=n&&(n.splice(n.indexOf(e),1),0===n.length&&this._variableObservers.delete(t))}else this._variableObservers.delete(t)}else if(null!=e){let t=this._variableObservers.keys();for(let n of t){let t=this._variableObservers.get(n);null!=t&&(t.splice(t.indexOf(e),1),0===t.length&&this._variableObservers.delete(n))}}}VariableStateDidChangeEvent(e,t){if(null===this._variableObservers)return;let n=this._variableObservers.get(e);if(void 0!==n){if(!(t instanceof c.Value))throw new Error("Tried to get the value of a variable that isn't a standard type");let r=k.asOrThrows(t,c.Value);for(let t of n)t(e,r.valueObject)}}get globalTags(){return this.TagsAtStartOfFlowContainerWithPathString("")}TagsForContentAtPath(e){return this.TagsAtStartOfFlowContainerWithPathString(e)}TagsAtStartOfFlowContainerWithPathString(e){let n=new h.Path(e),r=this.ContentAtPath(n).container;if(null===r)return O.throwNullException("flowContainer");for(;;){let e=r.content[0];if(!(e instanceof t.Container))break;r=e}let i=null;for(let t of r.content){let e=k.asOrNull(t,d.Tag);if(!e)break;null==i&&(i=[]),i.push(e.text)}return i}BuildStringOfHierarchy(){let e=new b.StringBuilder;return this.mainContentContainer.BuildStringOfHierarchy(e,0,this.state.currentPointer.Resolve()),e.toString()}BuildStringOfContainer(e){let t=new b.StringBuilder;return e.BuildStringOfHierarchy(t,0,this.state.currentPointer.Resolve()),t.toString()}NextContent(){if(this.state.previousPointer=this.state.currentPointer.copy(),!this.state.divertedPointer.isNull&&(this.state.currentPointer=this.state.divertedPointer.copy(),this.state.divertedPointer=C.Pointer.Null,this.VisitChangedContainersDueToDivert(),!this.state.currentPointer.isNull))return;if(!this.IncrementContentPointer()){let e=!1;this.state.callStack.CanPop(o.PushPopType.Function)?(this.state.PopCallStack(o.PushPopType.Function),this.state.inExpressionEvaluation&&this.state.PushEvaluationStack(new f.Void),e=!0):this.state.callStack.canPopThread?(this.state.callStack.PopThread(),e=!0):this.state.TryExitFunctionEvaluationFromGame(),e&&!this.state.currentPointer.isNull&&this.NextContent()}}IncrementContentPointer(){let e=!0,n=this.state.callStack.currentElement.currentPointer.copy();if(n.index++,null===n.container)return O.throwNullException("pointer.container");for(;n.index>=n.container.content.length;){e=!1;let r=k.asOrNull(n.container.parent,t.Container);if(r instanceof t.Container==!1)break;let i=r.content.indexOf(n.container);if(-1==i)break;if(n=new C.Pointer(r,i),n.index++,e=!0,null===n.container)return O.throwNullException("pointer.container")}return e||(n=C.Pointer.Null),this.state.callStack.currentElement.currentPointer=n.copy(),e}TryFollowDefaultInvisibleChoice(){let e=this._state.currentChoices,t=e.filter((e=>e.isInvisibleDefault));if(0==t.length||e.length>t.length)return!1;let n=t[0];return null===n.targetPath?O.throwNullException("choice.targetPath"):null===n.threadAtGeneration?O.throwNullException("choice.threadAtGeneration"):(this.state.callStack.currentThread=n.threadAtGeneration,null!==this._stateSnapshotAtLastNewline&&(this.state.callStack.currentThread=this.state.callStack.ForkThread()),this.ChoosePath(n.targetPath,!1),!0)}NextSequenceShuffleIndex(){let e=k.asOrNull(this.state.PopEvaluationStack(),c.IntValue);if(!(e instanceof c.IntValue))return this.Error("expected number of elements in sequence for shuffle index"),0;let t=this.state.currentPointer.container;if(null===t)return O.throwNullException("seqContainer");if(null===e.value)return O.throwNullException("numElementsIntVal.value");let n=e.value,r=k.asOrThrows(this.state.PopEvaluationStack(),c.IntValue).value;if(null===r)return O.throwNullException("seqCount");let i=r/n,a=r%n,o=t.path.toString(),l=0;for(let c=0,f=o.length;c<f;c++)l+=o.charCodeAt(c)||0;let s=l+i+this.state.storySeed,u=new y.PRNG(Math.floor(s)),h=[];for(let c=0;c<n;++c)h.push(c);for(let c=0;c<=a;++c){let e=u.next()%h.length,t=h[e];if(h.splice(e,1),c==a)return t}throw new Error("Should never reach here")}Error(e,t=!1){let n=new v.StoryException(e);throw n.useEndLineNumber=t,n}Warning(e){this.AddError(e,!0)}AddError(e,t=!1,n=!1){let r=this.currentDebugMetadata,i=t?"WARNING":"ERROR";if(null!=r){let t=n?r.endLineNumber:r.startLineNumber;e="RUNTIME "+i+": '"+r.fileName+"' line "+t+": "+e}else e=this.state.currentPointer.isNull?"RUNTIME "+i+": "+e:"RUNTIME "+i+": ("+this.state.currentPointer+"): "+e;this.state.AddError(e,t),t||this.state.ForceEnd()}Assert(e,t=null){if(0==e)throw null==t&&(t="Story assert"),new Error(t+" "+this.currentDebugMetadata)}get currentDebugMetadata(){let e,t=this.state.currentPointer;if(!t.isNull&&null!==t.Resolve()&&(e=t.Resolve().debugMetadata,null!==e))return e;for(let n=this.state.callStack.elements.length-1;n>=0;--n)if(t=this.state.callStack.elements[n].currentPointer,!t.isNull&&null!==t.Resolve()&&(e=t.Resolve().debugMetadata,null!==e))return e;for(let n=this.state.outputStream.length-1;n>=0;--n){if(e=this.state.outputStream[n].debugMetadata,null!==e)return e}return null}get mainContentContainer(){return this._temporaryEvaluationContainer?this._temporaryEvaluationContainer:this._mainContentContainer}}e.Story=I,I.inkVersionCurrent=20,P=I=e.Story||(e.Story={}),(x=P.OutputStateChange||(P.OutputStateChange={}))[x.NoChange=0]="NoChange",x[x.ExtendedBeyondNewline=1]="ExtendedBeyondNewline",x[x.NewlineRemoved=2]="NewlineRemoved"}(Vg);var ky=function(e){var t,n;function r(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,by(t,n),r}(Ey(Error));function Oy(e){return Math.round(255*e)}function Ty(e,t,n){return Oy(e)+","+Oy(t)+","+Oy(n)}function _y(e,t,n,r){if(void 0===r&&(r=Ty),0===t)return r(n,n,n);var i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),l=0,s=0,u=0;i>=0&&i<1?(l=a,s=o):i>=1&&i<2?(l=o,s=a):i>=2&&i<3?(s=a,u=o):i>=3&&i<4?(s=o,u=a):i>=4&&i<5?(l=o,u=a):i>=5&&i<6&&(l=a,u=o);var c=n-a/2;return r(l+c,s+c,u+c)}var Py={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var xy=/^#[a-fA-F0-9]{6}$/,Ny=/^#[a-fA-F0-9]{8}$/,Iy=/^#[a-fA-F0-9]{3}$/,Ay=/^#[a-fA-F0-9]{4}$/,Dy=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Fy=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Vy=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Ly=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function jy(e){if("string"!=typeof e)throw new ky(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Py[t]?"#"+Py[t]:e}(e);if(t.match(xy))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Ny)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Iy))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Ay)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=Dy.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=Fy.exec(t.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])};var o=Vy.exec(t);if(o){var l="rgb("+_y(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",s=Dy.exec(l);if(!s)throw new ky(4,t,l);return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10)}}var u=Ly.exec(t.substring(0,50));if(u){var c="rgb("+_y(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",h=Dy.exec(c);if(!h)throw new ky(4,t,c);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+u[4])}}throw new ky(5)}function Ry(e){return function(e){var t,n=e.red/255,r=e.green/255,i=e.blue/255,a=Math.max(n,r,i),o=Math.min(n,r,i),l=(a+o)/2;if(a===o)return void 0!==e.alpha?{hue:0,saturation:0,lightness:l,alpha:e.alpha}:{hue:0,saturation:0,lightness:l};var s=a-o,u=l>.5?s/(2-a-o):s/(a+o);switch(a){case n:t=(r-i)/s+(r<i?6:0);break;case r:t=(i-n)/s+2;break;default:t=(n-r)/s+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:u,lightness:l,alpha:e.alpha}:{hue:t,saturation:u,lightness:l}}(jy(e))}var Wy=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function My(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function By(e){return My(Math.round(255*e))}function zy(e,t,n){return Wy("#"+By(e)+By(t)+By(n))}function Uy(e,t,n){return _y(e,t,n,zy)}function Gy(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Wy("#"+My(e)+My(t)+My(n));if("object"==typeof e&&void 0===t&&void 0===n)return Wy("#"+My(e.red)+My(e.green)+My(e.blue));throw new ky(6)}function $y(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var i=jy(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?Gy(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?Gy(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new ky(7)}function Hy(e){if("object"!=typeof e)throw new ky(8);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha}(e))return $y(e);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return Gy(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha}(e))return function(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?Uy(e,t,n):"rgba("+_y(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?Uy(e.hue,e.saturation,e.lightness):"rgba("+_y(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new ky(2)}(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return function(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Uy(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return Uy(e.hue,e.saturation,e.lightness);throw new ky(1)}(e);throw new ky(8)}function qy(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):qy(e,t,r)}}function Jy(e){return qy(e,e.length,[])}function Ky(e,t,n){return Math.max(e,Math.min(t,n))}function Qy(e,t){if("transparent"===t)return t;var n=Ry(t);return Hy($c({},n,{lightness:Ky(0,1,n.lightness-parseFloat(e))}))}var Yy=Jy(Qy);function Xy(e,t){if("transparent"===t)return t;var n=jy(t);return $y($c({},n,{alpha:Ky(0,1,+(100*("number"==typeof n.alpha?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))}var Zy=Jy(Xy);export{tp as D,Wh as G,Fg as H,j as R,Vg as S,Fh as T,Zy as a,Yy as b,Mh as c,Hp as d,R as e,Rh as j,e as r,eg as u};
